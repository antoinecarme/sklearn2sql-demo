-- This SQL code was generated by sklearn2sql (development version).
-- Copyright 2018

-- Model : SVR_poly
-- Dataset : freidman3
-- Database : teradata


-- This SQL code can contain one or more statements, to be executed in the order they appear in this file.



-- Model deployment code

WITH kernel_input AS 
(SELECT "ADS"."KEY" AS "KEY", CAST("ADS"."Feature_0" AS FLOAT) AS "Feature_0", CAST("ADS"."Feature_1" AS FLOAT) AS "Feature_1", CAST("ADS"."Feature_2" AS FLOAT) AS "Feature_2", CAST("ADS"."Feature_3" AS FLOAT) AS "Feature_3", CAST("ADS"."TGT" AS FLOAT) AS "TGT" 
FROM freidman3 AS "ADS"), 
"SV_data" AS 
(SELECT "Values".sv_idx AS sv_idx, CAST("Values".dual_coeff AS FLOAT) AS dual_coeff, CAST("Values".sv_0 AS FLOAT) AS sv_0, CAST("Values".sv_1 AS FLOAT) AS sv_1, CAST("Values".sv_2 AS FLOAT) AS sv_2, CAST("Values".sv_3 AS FLOAT) AS sv_3 
FROM (SELECT 0 AS sv_idx, 4.59e-13 AS dual_coeff, 54.38834102865398 AS sv_0, 1647.6623950430826 AS sv_1, 0.56717242528036 AS sv_2, 3.09911625029609 AS sv_3 
FROM (SELECT 0.0 AS "X") AS dummy_cte UNION ALL SELECT 1 AS sv_idx, -3.36e-13 AS dual_coeff, 20.562836726629964 AS sv_0, 1667.9257595716754 AS sv_1, 0.489562479259854 AS sv_2, 7.371731407367831 AS sv_3 
FROM (SELECT 0.0 AS "X") AS dummy_cte UNION ALL SELECT 2 AS sv_idx, -6.87e-13 AS dual_coeff, 40.442330919192635 AS sv_0, 551.0711911042478 AS sv_1, 0.038662749474648 AS sv_2, 4.578076302455036 AS sv_3 
FROM (SELECT 0.0 AS "X") AS dummy_cte UNION ALL SELECT 3 AS sv_idx, -4.1e-14 AS dual_coeff, 62.41256103982973 AS sv_0, 1030.794250465373 AS sv_1, 0.712812257327718 AS sv_2, 10.40492055481995 AS sv_3 
FROM (SELECT 0.0 AS "X") AS dummy_cte UNION ALL SELECT 4 AS sv_idx, -3.08156e-10 AS dual_coeff, 38.24928980103384 AS sv_0, 135.90560294712617 AS sv_1, 0.647936205745674 AS sv_2, 2.179461386442667 AS sv_3 
FROM (SELECT 0.0 AS "X") AS dummy_cte UNION ALL SELECT 5 AS sv_idx, -3.14e-13 AS dual_coeff, 44.88554870850716 AS sv_0, 1627.38160654522 AS sv_1, 0.825581542334783 AS sv_2, 10.063448888684775 AS sv_3 
FROM (SELECT 0.0 AS "X") AS dummy_cte UNION ALL SELECT 6 AS sv_idx, -4.81e-13 AS dual_coeff, 50.620296436646505 AS sv_0, 412.3236844286874 AS sv_1, 0.104477294557454 AS sv_2, 2.885380145528212 AS sv_3 
FROM (SELECT 0.0 AS "X") AS dummy_cte UNION ALL SELECT 7 AS sv_idx, 1.038e-12 AS dual_coeff, 82.50361197375535 AS sv_0, 515.4406205692956 AS sv_1, 0.533834716927703 AS sv_2, 4.786980133087125 AS sv_3 
FROM (SELECT 0.0 AS "X") AS dummy_cte UNION ALL SELECT 8 AS sv_idx, 1.0541e-11 AS dual_coeff, 99.96662363577734 AS sv_0, 209.47236840414524 AS sv_1, 0.790207220271632 AS sv_2, 1.802295994160133 AS sv_3 
FROM (SELECT 0.0 AS "X") AS dummy_cte UNION ALL SELECT 9 AS sv_idx, -3.46e-13 AS dual_coeff, 62.91187273491999 AS sv_0, 456.23422619927044 AS sv_1, 0.054305830277497 AS sv_2, 10.085281642538757 AS sv_3 
FROM (SELECT 0.0 AS "X") AS dummy_cte UNION ALL SELECT 10 AS sv_idx, -1e-15 AS dual_coeff, 38.96738973035813 AS sv_0, 1162.8273648517609 AS sv_1, 0.013518045508857 AS sv_2, 6.780775777362427 AS sv_3 
FROM (SELECT 0.0 AS "X") AS dummy_cte UNION ALL SELECT 11 AS sv_idx, 2.28e-13 AS dual_coeff, 14.354024845151192 AS sv_0, 1727.5875493321003 AS sv_1, 0.005807417979882 AS sv_2, 3.518415193774599 AS sv_3 
FROM (SELECT 0.0 AS "X") AS dummy_cte UNION ALL SELECT 12 AS sv_idx, 1.39e-13 AS dual_coeff, 87.46073175788041 AS sv_0, 658.844634786566 AS sv_1, 0.302931116930147 AS sv_2, 3.766979759593161 AS sv_3 
FROM (SELECT 0.0 AS "X") AS dummy_cte UNION ALL SELECT 13 AS sv_idx, 8.5e-14 AS dual_coeff, 0.118360992162436 AS sv_0, 559.8947439915403 AS sv_1, 0.995587810764828 AS sv_2, 8.379542913119769 AS sv_3 
FROM (SELECT 0.0 AS "X") AS dummy_cte UNION ALL SELECT 14 AS sv_idx, -8.6e-14 AS dual_coeff, 9.844209111159174 AS sv_0, 1641.9469469028431 AS sv_1, 0.70753460962356 AS sv_2, 5.986957496499917 AS sv_3 
FROM (SELECT 0.0 AS "X") AS dummy_cte UNION ALL SELECT 15 AS sv_idx, 3.21e-13 AS dual_coeff, 35.204122625647635 AS sv_0, 1709.6137391765267 AS sv_1, 0.538410230599484 AS sv_2, 3.803775054733704 AS sv_3 
FROM (SELECT 0.0 AS "X") AS dummy_cte UNION ALL SELECT 16 AS sv_idx, -4.59e-13 AS dual_coeff, 25.282852707475843 AS sv_0, 524.0089478061485 AS sv_1, 0.648759847742279 AS sv_2, 3.818865078416276 AS sv_3 
FROM (SELECT 0.0 AS "X") AS dummy_cte UNION ALL SELECT 17 AS sv_idx, 1.334e-12 AS dual_coeff, 96.45390231426003 AS sv_0, 990.2254318826166 AS sv_1, 0.183101234382138 AS sv_2, 1.134096666285749 AS sv_3 
FROM (SELECT 0.0 AS "X") AS dummy_cte UNION ALL SELECT 18 AS sv_idx, 3.79e-13 AS dual_coeff, 69.85214811522404 AS sv_0, 1639.1260281796144 AS sv_1, 0.429675654450941 AS sv_2, 7.464140755060015 AS sv_3 
FROM (SELECT 0.0 AS "X") AS dummy_cte UNION ALL SELECT 19 AS sv_idx, -1e-15 AS dual_coeff, 39.22420371373826 AS sv_0, 1480.0362298674247 AS sv_1, 0.979651504500836 AS sv_2, 10.93827839877219 AS sv_3 
FROM (SELECT 0.0 AS "X") AS dummy_cte UNION ALL SELECT 20 AS sv_idx, -1.447e-12 AS dual_coeff, 56.413773572677925 AS sv_0, 355.67891387520524 AS sv_1, 0.841481804341328 AS sv_2, 9.840426401160759 AS sv_3 
FROM (SELECT 0.0 AS "X") AS dummy_cte UNION ALL SELECT 21 AS sv_idx, -1.346e-11 AS dual_coeff, 49.3998858198411 AS sv_0, 243.93515665851513 AS sv_1, 0.413747780427607 AS sv_2, 6.019313091402267 AS sv_3 
FROM (SELECT 0.0 AS "X") AS dummy_cte UNION ALL SELECT 22 AS sv_idx, -1.037e-12 AS dual_coeff, 75.72356153727631 AS sv_0, 979.5390758373205 AS sv_1, 0.344159530894849 AS sv_2, 6.689958461053408 AS sv_3 
FROM (SELECT 0.0 AS "X") AS dummy_cte UNION ALL SELECT 23 AS sv_idx, 1.1625e-11 AS dual_coeff, 91.36045636770356 AS sv_0, 303.1369476103539 AS sv_1, 0.559302498026683 AS sv_2, 3.665227001304319 AS sv_3 
FROM (SELECT 0.0 AS "X") AS dummy_cte UNION ALL SELECT 24 AS sv_idx, -6.5e-13 AS dual_coeff, 28.195299489394664 AS sv_0, 1658.7104507269821 AS sv_1, 0.635304198850715 AS sv_2, 8.577711433319472 AS sv_3 
FROM (SELECT 0.0 AS "X") AS dummy_cte UNION ALL SELECT 25 AS sv_idx, -4.902e-12 AS dual_coeff, 0.147199830747347 AS sv_0, 264.70492824904755 AS sv_1, 0.497716289208486 AS sv_2, 8.753034147728435 AS sv_3 
FROM (SELECT 0.0 AS "X") AS dummy_cte UNION ALL SELECT 26 AS sv_idx, 3.08507e-10 AS dual_coeff, 1.502131025312214 AS sv_0, 126.64944659397821 AS sv_1, 0.340402710487439 AS sv_2, 9.813039096423058 AS sv_3 
FROM (SELECT 0.0 AS "X") AS dummy_cte UNION ALL SELECT 27 AS sv_idx, -3.27e-13 AS dual_coeff, 16.01146852626628 AS sv_0, 598.74697240764 AS sv_1, 0.058327505702268 AS sv_2, 10.06589099949547 AS sv_3 
FROM (SELECT 0.0 AS "X") AS dummy_cte UNION ALL SELECT 28 AS sv_idx, 1e-15 AS dual_coeff, 89.79240360827384 AS sv_0, 1393.0059875788913 AS sv_1, 0.848421537264076 AS sv_2, 9.34953230770002 AS sv_3 
FROM (SELECT 0.0 AS "X") AS dummy_cte UNION ALL SELECT 29 AS sv_idx, 4.1e-14 AS dual_coeff, 78.03364203742906 AS sv_0, 1032.4792951117327 AS sv_1, 0.972339378695438 AS sv_2, 1.230442239964803 AS sv_3 
FROM (SELECT 0.0 AS "X") AS dummy_cte UNION ALL SELECT 30 AS sv_idx, -1.53e-12 AS dual_coeff, 19.75869393049412 AS sv_0, 272.21600506246267 AS sv_1, 0.449633512047136 AS sv_2, 1.863929788418058 AS sv_3 
FROM (SELECT 0.0 AS "X") AS dummy_cte UNION ALL SELECT 31 AS sv_idx, -1.39e-13 AS dual_coeff, 34.99225156681424 AS sv_0, 681.5157838950514 AS sv_1, 0.613193649595292 AS sv_2, 10.986250457514332 AS sv_3 
FROM (SELECT 0.0 AS "X") AS dummy_cte UNION ALL SELECT 32 AS sv_idx, -2.97e-13 AS dual_coeff, 33.901119947237255 AS sv_0, 988.5041485863671 AS sv_1, 0.964502355546215 AS sv_2, 2.81120906171767 AS sv_3 
FROM (SELECT 0.0 AS "X") AS dummy_cte) AS "Values"), 
kernel_dp AS 
(SELECT t."KEY" AS "KEY", t.dot_product AS dot_product 
FROM (SELECT full_join_data_sv."KEY" AS "KEY", sum(CAST(full_join_data_sv.dot_prod1 AS FLOAT)) + -22.040528884035563 AS dot_product 
FROM (SELECT kernel_input."KEY" AS "KEY", "SV_data".dual_coeff * power(0.25 * (kernel_input."Feature_0" * "SV_data".sv_0 + kernel_input."Feature_1" * "SV_data".sv_1 + kernel_input."Feature_2" * "SV_data".sv_2 + kernel_input."Feature_3" * "SV_data".sv_3) + 0.0, 3) AS dot_prod1 
FROM kernel_input, "SV_data") AS full_join_data_sv GROUP BY full_join_data_sv."KEY") AS t)
 SELECT kernel_dp."KEY" AS "KEY", kernel_dp.dot_product AS "Estimator" 
FROM kernel_dp