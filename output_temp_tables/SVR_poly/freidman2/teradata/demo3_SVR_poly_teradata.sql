-- This SQL code was generated by sklearn2sql (development version).
-- Copyright 2018

-- Model : SVR_poly
-- Dataset : freidman2
-- Database : teradata


-- This SQL code can contain one or more statements, to be executed in the order they appear in this file.



-- Model deployment code

WITH kernel_input AS 
(SELECT "ADS"."KEY" AS "KEY", CAST("ADS"."Feature_0" AS DOUBLE PRECISION) AS "Feature_0", CAST("ADS"."Feature_1" AS DOUBLE PRECISION) AS "Feature_1", CAST("ADS"."Feature_2" AS DOUBLE PRECISION) AS "Feature_2", CAST("ADS"."Feature_3" AS DOUBLE PRECISION) AS "Feature_3", CAST("ADS"."TGT" AS DOUBLE PRECISION) AS "TGT" 
FROM freidman2 AS "ADS"), 
dummy_cte AS 
(SELECT CAST(0.0 AS DOUBLE PRECISION) AS "X"), 
"SV_data" AS 
(SELECT "Values".sv_idx AS sv_idx, CAST("Values".dual_coeff AS DOUBLE PRECISION) AS dual_coeff, CAST("Values".sv_0 AS DOUBLE PRECISION) AS sv_0, CAST("Values".sv_1 AS DOUBLE PRECISION) AS sv_1, CAST("Values".sv_2 AS DOUBLE PRECISION) AS sv_2, CAST("Values".sv_3 AS DOUBLE PRECISION) AS sv_3 
FROM (SELECT 0 AS sv_idx, CAST(-7.03142e-10 AS DOUBLE PRECISION) AS dual_coeff, CAST(40.442330919192635 AS DOUBLE PRECISION) AS sv_0, CAST(551.0711911042478 AS DOUBLE PRECISION) AS sv_1, CAST(0.038662749474648 AS DOUBLE PRECISION) AS sv_2, CAST(4.578076302455036 AS DOUBLE PRECISION) AS sv_3 
FROM dummy_cte UNION ALL SELECT 1 AS sv_idx, CAST(-5.41e-13 AS DOUBLE PRECISION) AS dual_coeff, CAST(48.69438373960177 AS DOUBLE PRECISION) AS sv_0, CAST(1664.2552781105514 AS DOUBLE PRECISION) AS sv_1, CAST(0.311448368076275 AS DOUBLE PRECISION) AS sv_2, CAST(4.632624341589297 AS DOUBLE PRECISION) AS sv_3 
FROM dummy_cte UNION ALL SELECT 2 AS sv_idx, CAST(-5.4604e-11 AS DOUBLE PRECISION) AS dual_coeff, CAST(62.41256103982973 AS DOUBLE PRECISION) AS sv_0, CAST(1030.794250465373 AS DOUBLE PRECISION) AS sv_1, CAST(0.712812257327718 AS DOUBLE PRECISION) AS sv_2, CAST(10.40492055481995 AS DOUBLE PRECISION) AS sv_3 
FROM dummy_cte UNION ALL SELECT 3 AS sv_idx, CAST(-8.462e-12 AS DOUBLE PRECISION) AS dual_coeff, CAST(48.40695232096023 AS DOUBLE PRECISION) AS sv_0, CAST(1631.018157352114 AS DOUBLE PRECISION) AS sv_1, CAST(0.127069258992571 AS DOUBLE PRECISION) AS sv_2, CAST(4.261898976946841 AS DOUBLE PRECISION) AS sv_3 
FROM dummy_cte UNION ALL SELECT 4 AS sv_idx, CAST(3.465708e-09 AS DOUBLE PRECISION) AS dual_coeff, CAST(38.24928980103384 AS DOUBLE PRECISION) AS sv_0, CAST(135.90560294712617 AS DOUBLE PRECISION) AS sv_1, CAST(0.647936205745674 AS DOUBLE PRECISION) AS sv_2, CAST(2.179461386442667 AS DOUBLE PRECISION) AS sv_3 
FROM dummy_cte UNION ALL SELECT 5 AS sv_idx, CAST(-5.929306e-09 AS DOUBLE PRECISION) AS dual_coeff, CAST(50.620296436646505 AS DOUBLE PRECISION) AS sv_0, CAST(412.3236844286874 AS DOUBLE PRECISION) AS sv_1, CAST(0.104477294557454 AS DOUBLE PRECISION) AS sv_2, CAST(2.885380145528212 AS DOUBLE PRECISION) AS sv_3 
FROM dummy_cte UNION ALL SELECT 6 AS sv_idx, CAST(-5.268295e-09 AS DOUBLE PRECISION) AS dual_coeff, CAST(99.96662363577734 AS DOUBLE PRECISION) AS sv_0, CAST(209.47236840414524 AS DOUBLE PRECISION) AS sv_1, CAST(0.790207220271632 AS DOUBLE PRECISION) AS sv_2, CAST(1.802295994160133 AS DOUBLE PRECISION) AS sv_3 
FROM dummy_cte UNION ALL SELECT 7 AS sv_idx, CAST(-1.3183e-11 AS DOUBLE PRECISION) AS dual_coeff, CAST(62.91187273491999 AS DOUBLE PRECISION) AS sv_0, CAST(456.23422619927044 AS DOUBLE PRECISION) AS sv_1, CAST(0.054305830277497 AS DOUBLE PRECISION) AS sv_2, CAST(10.085281642538757 AS DOUBLE PRECISION) AS sv_3 
FROM dummy_cte UNION ALL SELECT 8 AS sv_idx, CAST(-8.5718e-11 AS DOUBLE PRECISION) AS dual_coeff, CAST(61.677300727460114 AS DOUBLE PRECISION) AS sv_0, CAST(819.5815430545476 AS DOUBLE PRECISION) AS sv_1, CAST(0.191762352400706 AS DOUBLE PRECISION) AS sv_2, CAST(8.475580701491157 AS DOUBLE PRECISION) AS sv_3 
FROM dummy_cte UNION ALL SELECT 9 AS sv_idx, CAST(3.1292e-11 AS DOUBLE PRECISION) AS dual_coeff, CAST(14.354024845151192 AS DOUBLE PRECISION) AS sv_0, CAST(1727.5875493321003 AS DOUBLE PRECISION) AS sv_1, CAST(0.005807417979882 AS DOUBLE PRECISION) AS sv_2, CAST(3.518415193774599 AS DOUBLE PRECISION) AS sv_3 
FROM dummy_cte UNION ALL SELECT 10 AS sv_idx, CAST(6.588278e-09 AS DOUBLE PRECISION) AS dual_coeff, CAST(40.27856713793895 AS DOUBLE PRECISION) AS sv_0, CAST(366.2162846523089 AS DOUBLE PRECISION) AS sv_1, CAST(0.996685324157798 AS DOUBLE PRECISION) AS sv_2, CAST(1.656986931673732 AS DOUBLE PRECISION) AS sv_3 
FROM dummy_cte UNION ALL SELECT 11 AS sv_idx, CAST(7.03142e-10 AS DOUBLE PRECISION) AS dual_coeff, CAST(0.118360992162436 AS DOUBLE PRECISION) AS sv_0, CAST(559.8947439915403 AS DOUBLE PRECISION) AS sv_1, CAST(0.995587810764828 AS DOUBLE PRECISION) AS sv_2, CAST(8.379542913119769 AS DOUBLE PRECISION) AS sv_3 
FROM dummy_cte UNION ALL SELECT 12 AS sv_idx, CAST(2.09472e-10 AS DOUBLE PRECISION) AS dual_coeff, CAST(35.204122625647635 AS DOUBLE PRECISION) AS sv_0, CAST(1709.6137391765267 AS DOUBLE PRECISION) AS sv_1, CAST(0.538410230599484 AS DOUBLE PRECISION) AS sv_2, CAST(3.803775054733704 AS DOUBLE PRECISION) AS sv_3 
FROM dummy_cte UNION ALL SELECT 13 AS sv_idx, CAST(-2.4e-13 AS DOUBLE PRECISION) AS dual_coeff, CAST(96.45390231426003 AS DOUBLE PRECISION) AS sv_0, CAST(990.2254318826166 AS DOUBLE PRECISION) AS sv_1, CAST(0.183101234382138 AS DOUBLE PRECISION) AS sv_2, CAST(1.134096666285749 AS DOUBLE PRECISION) AS sv_3 
FROM dummy_cte UNION ALL SELECT 14 AS sv_idx, CAST(-9.664e-12 AS DOUBLE PRECISION) AS dual_coeff, CAST(69.85214811522404 AS DOUBLE PRECISION) AS sv_0, CAST(1639.1260281796144 AS DOUBLE PRECISION) AS sv_1, CAST(0.429675654450941 AS DOUBLE PRECISION) AS sv_2, CAST(7.464140755060015 AS DOUBLE PRECISION) AS sv_3 
FROM dummy_cte UNION ALL SELECT 15 AS sv_idx, CAST(5.9357e-11 AS DOUBLE PRECISION) AS dual_coeff, CAST(39.22420371373826 AS DOUBLE PRECISION) AS sv_0, CAST(1480.0362298674247 AS DOUBLE PRECISION) AS sv_1, CAST(0.979651504500836 AS DOUBLE PRECISION) AS sv_2, CAST(10.93827839877219 AS DOUBLE PRECISION) AS sv_3 
FROM dummy_cte UNION ALL SELECT 16 AS sv_idx, CAST(-6.58971e-10 AS DOUBLE PRECISION) AS dual_coeff, CAST(56.413773572677925 AS DOUBLE PRECISION) AS sv_0, CAST(355.67891387520524 AS DOUBLE PRECISION) AS sv_1, CAST(0.841481804341328 AS DOUBLE PRECISION) AS sv_2, CAST(9.840426401160759 AS DOUBLE PRECISION) AS sv_3 
FROM dummy_cte UNION ALL SELECT 17 AS sv_idx, CAST(-2.6560303e-08 AS DOUBLE PRECISION) AS dual_coeff, CAST(49.3998858198411 AS DOUBLE PRECISION) AS sv_0, CAST(243.93515665851513 AS DOUBLE PRECISION) AS sv_1, CAST(0.413747780427607 AS DOUBLE PRECISION) AS sv_2, CAST(6.019313091402267 AS DOUBLE PRECISION) AS sv_3 
FROM dummy_cte UNION ALL SELECT 18 AS sv_idx, CAST(2.45182e-09 AS DOUBLE PRECISION) AS dual_coeff, CAST(15.326716261726414 AS DOUBLE PRECISION) AS sv_0, CAST(180.5390310694927 AS DOUBLE PRECISION) AS sv_1, CAST(0.710418559164542 AS DOUBLE PRECISION) AS sv_2, CAST(9.612317521518237 AS DOUBLE PRECISION) AS sv_3 
FROM dummy_cte UNION ALL SELECT 19 AS sv_idx, CAST(-4.6328e-11 AS DOUBLE PRECISION) AS dual_coeff, CAST(91.36045636770356 AS DOUBLE PRECISION) AS sv_0, CAST(303.1369476103539 AS DOUBLE PRECISION) AS sv_1, CAST(0.559302498026683 AS DOUBLE PRECISION) AS sv_2, CAST(3.665227001304319 AS DOUBLE PRECISION) AS sv_3 
FROM dummy_cte UNION ALL SELECT 20 AS sv_idx, CAST(1.31114e-10 AS DOUBLE PRECISION) AS dual_coeff, CAST(78.70377755058512 AS DOUBLE PRECISION) AS sv_0, CAST(884.3045807091647 AS DOUBLE PRECISION) AS sv_1, CAST(0.855059889272092 AS DOUBLE PRECISION) AS sv_2, CAST(8.805754588947428 AS DOUBLE PRECISION) AS sv_3 
FROM dummy_cte UNION ALL SELECT 21 AS sv_idx, CAST(-2.21857e-10 AS DOUBLE PRECISION) AS dual_coeff, CAST(11.9204329832879 AS DOUBLE PRECISION) AS sv_0, CAST(1644.054573840725 AS DOUBLE PRECISION) AS sv_1, CAST(0.044505714773144 AS DOUBLE PRECISION) AS sv_2, CAST(1.978858513126155 AS DOUBLE PRECISION) AS sv_3 
FROM dummy_cte UNION ALL SELECT 22 AS sv_idx, CAST(-6.2372e-11 AS DOUBLE PRECISION) AS dual_coeff, CAST(17.868131429293165 AS DOUBLE PRECISION) AS sv_0, CAST(1485.9419331014494 AS DOUBLE PRECISION) AS sv_1, CAST(0.053595752292868 AS DOUBLE PRECISION) AS sv_2, CAST(6.342325760231504 AS DOUBLE PRECISION) AS sv_3 
FROM dummy_cte UNION ALL SELECT 23 AS sv_idx, CAST(-1.31114e-10 AS DOUBLE PRECISION) AS dual_coeff, CAST(51.65052020909686 AS DOUBLE PRECISION) AS sv_0, CAST(880.62728820991 AS DOUBLE PRECISION) AS sv_1, CAST(0.566603536113089 AS DOUBLE PRECISION) AS sv_2, CAST(9.5100026719075 AS DOUBLE PRECISION) AS sv_3 
FROM dummy_cte UNION ALL SELECT 24 AS sv_idx, CAST(3.015e-12 AS DOUBLE PRECISION) AS dual_coeff, CAST(89.79240360827384 AS DOUBLE PRECISION) AS sv_0, CAST(1393.0059875788913 AS DOUBLE PRECISION) AS sv_1, CAST(0.848421537264076 AS DOUBLE PRECISION) AS sv_2, CAST(9.34953230770002 AS DOUBLE PRECISION) AS sv_3 
FROM dummy_cte UNION ALL SELECT 25 AS sv_idx, CAST(2.5970581e-08 AS DOUBLE PRECISION) AS dual_coeff, CAST(69.39239551937591 AS DOUBLE PRECISION) AS sv_0, CAST(246.84317528265575 AS DOUBLE PRECISION) AS sv_1, CAST(0.935497099022909 AS DOUBLE PRECISION) AS sv_2, CAST(5.640783341563046 AS DOUBLE PRECISION) AS sv_3 
FROM dummy_cte UNION ALL SELECT 26 AS sv_idx, CAST(5.4604e-11 AS DOUBLE PRECISION) AS dual_coeff, CAST(78.03364203742906 AS DOUBLE PRECISION) AS sv_0, CAST(1032.4792951117327 AS DOUBLE PRECISION) AS sv_1, CAST(0.972339378695438 AS DOUBLE PRECISION) AS sv_2, CAST(1.230442239964803 AS DOUBLE PRECISION) AS sv_3 
FROM dummy_cte UNION ALL SELECT 27 AS sv_idx, CAST(8.5718e-11 AS DOUBLE PRECISION) AS dual_coeff, CAST(1.760233266492839 AS DOUBLE PRECISION) AS sv_0, CAST(822.9672743702864 AS DOUBLE PRECISION) AS sv_1, CAST(0.926070399375371 AS DOUBLE PRECISION) AS sv_2, CAST(9.748652596447922 AS DOUBLE PRECISION) AS sv_3 
FROM dummy_cte) AS "Values"), 
kernel_dp AS 
(SELECT t."KEY" AS "KEY", t.dot_product AS dot_product 
FROM (SELECT full_join_data_sv."KEY" AS "KEY", sum(CAST(full_join_data_sv.dot_prod1 AS DOUBLE PRECISION)) + CAST(16860.25721595913 AS DOUBLE PRECISION) AS dot_product 
FROM (SELECT kernel_input."KEY" AS "KEY", "SV_data".dual_coeff * power(CAST(0.25 AS DOUBLE PRECISION) * (kernel_input."Feature_0" * "SV_data".sv_0 + kernel_input."Feature_1" * "SV_data".sv_1 + kernel_input."Feature_2" * "SV_data".sv_2 + kernel_input."Feature_3" * "SV_data".sv_3) + CAST(0.0 AS DOUBLE PRECISION), 3) AS dot_prod1 
FROM kernel_input, "SV_data") AS full_join_data_sv GROUP BY full_join_data_sv."KEY") AS t)
 SELECT kernel_dp."KEY" AS "KEY", kernel_dp.dot_product AS "Estimator" 
FROM kernel_dp