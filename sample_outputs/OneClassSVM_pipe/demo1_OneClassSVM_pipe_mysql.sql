-- This SQL code was generated by scikit2sql (development version).
-- Copyright 2017

SELECT linear_kernel_cte.`KEY` AS `KEY`, linear_kernel_cte.dot_product AS `AnomalyScore`, CASE WHEN (linear_kernel_cte.dot_product >= 0.0) THEN 1 ELSE -1 END AS `OutlierIndicator` 
FROM (SELECT `ADS_ano_2_OUT`.`KEY` AS `KEY`, (SELECT sum(`SV_data`.dual_coeff * exp(CASE WHEN (-0.2 * (power(`ADS_ano_2_OUT`.anova_output_2 - `SV_data`.sv_0, 2) + power(`ADS_ano_2_OUT`.anova_output_3 - `SV_data`.sv_1, 2) + power(`ADS_ano_2_OUT`.anova_output_4 - `SV_data`.sv_2, 2) + power(`ADS_ano_2_OUT`.anova_output_5 - `SV_data`.sv_3, 2) + power(`ADS_ano_2_OUT`.anova_output_6 - `SV_data`.sv_4, 2)) <= -100.0) THEN -100.0 ELSE -0.2 * (power(`ADS_ano_2_OUT`.anova_output_2 - `SV_data`.sv_0, 2) + power(`ADS_ano_2_OUT`.anova_output_3 - `SV_data`.sv_1, 2) + power(`ADS_ano_2_OUT`.anova_output_4 - `SV_data`.sv_2, 2) + power(`ADS_ano_2_OUT`.anova_output_5 - `SV_data`.sv_3, 2) + power(`ADS_ano_2_OUT`.anova_output_6 - `SV_data`.sv_4, 2)) END)) AS sum_1 
FROM (SELECT `Values`.sv_idx AS sv_idx, `Values`.dual_coeff AS dual_coeff, `Values`.sv_0 AS sv_0, `Values`.sv_1 AS sv_1, `Values`.sv_2 AS sv_2, `Values`.sv_3 AS sv_3, `Values`.sv_4 AS sv_4 
FROM (SELECT 0 AS sv_idx, 1.0 AS dual_coeff, -0.149469139183 AS sv_0, -2.09793249912 AS sv_1, 1.83405635577 AS sv_2, -1.16708096687 AS sv_3, 0.357101798729 AS sv_4 UNION ALL SELECT 1 AS sv_idx, 1.0 AS dual_coeff, -1.73340760154 AS sv_0, -0.257734668278 AS sv_1, 2.71760535235 AS sv_2, 0.116946160115 AS sv_3, -0.523980318457 AS sv_4 UNION ALL SELECT 2 AS sv_idx, 1.0 AS dual_coeff, -1.6104002019 AS sv_0, -0.743551272349 AS sv_1, 1.55751998206 AS sv_2, -1.49339843307 AS sv_3, -1.31617133638 AS sv_4 UNION ALL SELECT 3 AS sv_idx, 0.524848281002 AS dual_coeff, 0.56553483915 AS sv_0, 0.0291467269897 AS sv_1, 1.50190859781 AS sv_2, -1.13365958523 AS sv_3, 0.311104034118 AS sv_4 UNION ALL SELECT 4 AS sv_idx, 0.131908270047 AS dual_coeff, 1.08316410479 AS sv_0, 1.47368807391 AS sv_1, 1.0180061564 AS sv_2, 0.00941745387064 AS sv_3, -0.621913695201 AS sv_4 UNION ALL SELECT 5 AS sv_idx, 1.0 AS dual_coeff, -1.28273262322 AS sv_0, 2.36952053535 AS sv_1, 0.0399421400414 AS sv_2, 1.05558727549 AS sv_3, 0.299791080407 AS sv_4 UNION ALL SELECT 6 AS sv_idx, 1.0 AS dual_coeff, 1.79268349448 AS sv_0, -0.79032408184 AS sv_1, 0.293608765994 AS sv_2, 0.725697088882 AS sv_3, -0.673409867197 AS sv_4 UNION ALL SELECT 7 AS sv_idx, 1.0 AS dual_coeff, -0.954392774163 AS sv_0, -0.325196012216 AS sv_1, -1.49330963613 AS sv_2, -0.108071984312 AS sv_3, -1.00350424893 AS sv_4 UNION ALL SELECT 8 AS sv_idx, 0.17117268205 AS dual_coeff, -0.627322196853 AS sv_0, -0.496015527264 AS sv_1, -1.8522484892 AS sv_2, -0.144669023146 AS sv_3, -0.130134498391 AS sv_4 UNION ALL SELECT 9 AS sv_idx, 1.0 AS dual_coeff, 0.343959770785 AS sv_0, 0.760619112077 AS sv_1, -1.26593002955 AS sv_2, -1.48034418066 AS sv_3, -1.64194826852 AS sv_4 UNION ALL SELECT 10 AS sv_idx, 1.0 AS dual_coeff, -1.18722032757 AS sv_0, -0.848395388717 AS sv_1, 1.55654289941 AS sv_2, -0.389164707719 AS sv_3, 0.829074935588 AS sv_4 UNION ALL SELECT 11 AS sv_idx, 0.823861513897 AS dual_coeff, 1.09363303751 AS sv_0, -0.664791385322 AS sv_1, -0.116520155344 AS sv_2, -0.389577498277 AS sv_3, -1.33560453332 AS sv_4 UNION ALL SELECT 12 AS sv_idx, 1.0 AS dual_coeff, 0.668562658808 AS sv_0, -0.895655833342 AS sv_1, -0.751695860959 AS sv_2, 1.90372465713 AS sv_3, 1.12908714279 AS sv_4 UNION ALL SELECT 13 AS sv_idx, 1.0 AS dual_coeff, 0.182356202837 AS sv_0, 1.23274788232 AS sv_1, -0.307586082431 AS sv_2, 1.55063049073 AS sv_3, 1.39495216387 AS sv_4 UNION ALL SELECT 14 AS sv_idx, 1.0 AS dual_coeff, -1.08804826761 AS sv_0, 2.11982897664 AS sv_1, 1.36525882833 AS sv_2, -0.51981412515 AS sv_3, -0.873140018986 AS sv_4 UNION ALL SELECT 15 AS sv_idx, 1.0 AS dual_coeff, -0.433194989169 AS sv_0, 1.37651102813 AS sv_1, 1.28008859921 AS sv_2, -1.51752035171 AS sv_3, 0.0228554996174 AS sv_4 UNION ALL SELECT 16 AS sv_idx, 1.0 AS dual_coeff, -2.58421690038 AS sv_0, -0.785015779634 AS sv_1, -0.196481465559 AS sv_2, -0.229027170208 AS sv_3, -0.640238653839 AS sv_4 UNION ALL SELECT 17 AS sv_idx, 1.0 AS dual_coeff, 1.2588313834 AS sv_0, 0.975383057036 AS sv_1, -2.09254026722 AS sv_2, -1.0874465621 AS sv_3, -0.56604572644 AS sv_4 UNION ALL SELECT 18 AS sv_idx, 1.0 AS dual_coeff, -0.399328784669 AS sv_0, -1.57410120567 AS sv_1, -0.254046898823 AS sv_2, 1.43947796496 AS sv_3, 0.484647904439 AS sv_4 UNION ALL SELECT 19 AS sv_idx, 1.0 AS dual_coeff, 0.786120104558 AS sv_0, -0.391986269937 AS sv_1, -0.929990857898 AS sv_2, -1.62153707687 AS sv_3, 1.12761284688 AS sv_4 UNION ALL SELECT 20 AS sv_idx, 1.0 AS dual_coeff, 2.75934318851 AS sv_0, 0.233839682012 AS sv_1, 2.0724084637 AS sv_2, -0.0578828178592 AS sv_3, 0.609311595275 AS sv_4 UNION ALL SELECT 21 AS sv_idx, 1.0 AS dual_coeff, -0.526960411564 AS sv_0, 0.39115197413 AS sv_1, -1.15174181431 AS sv_2, 2.51966750063 AS sv_3, -0.372809360434 AS sv_4 UNION ALL SELECT 22 AS sv_idx, 1.0 AS dual_coeff, 0.468189793153 AS sv_0, 0.928941616708 AS sv_1, 1.85344233779 AS sv_2, 0.846221858076 AS sv_3, -0.335907484258 AS sv_4 UNION ALL SELECT 23 AS sv_idx, 1.0 AS dual_coeff, 2.26764813898 AS sv_0, 1.11101907332 AS sv_1, -0.329336095994 AS sv_2, 0.629031665032 AS sv_3, -0.633867536857 AS sv_4 UNION ALL SELECT 24 AS sv_idx, 1.0 AS dual_coeff, -0.825389799679 AS sv_0, 1.12459589152 AS sv_1, -1.74584619465 AS sv_2, 0.293566037627 AS sv_3, -0.565606809372 AS sv_4 UNION ALL SELECT 25 AS sv_idx, 0.258239694851 AS dual_coeff, -0.448715955421 AS sv_0, -0.378015574424 AS sv_1, 0.640987552758 AS sv_2, -0.522731550501 AS sv_3, 1.66733542859 AS sv_4 UNION ALL SELECT 26 AS sv_idx, 1.0 AS dual_coeff, 1.46499545702 AS sv_0, 1.52070596392 AS sv_1, 0.150730851536 AS sv_2, 1.19783100971 AS sv_3, -0.996315142261 AS sv_4 UNION ALL SELECT 27 AS sv_idx, 1.0 AS dual_coeff, 2.64082771479 AS sv_0, -1.73138069293 AS sv_1, -0.189304661798 AS sv_2, -1.00846670061 AS sv_3, -0.188953824805 AS sv_4 UNION ALL SELECT 28 AS sv_idx, 1.0 AS dual_coeff, 0.562772553943 AS sv_0, 0.0213166904352 AS sv_1, 1.33081450305 AS sv_2, 2.03633017298 AS sv_3, 0.423081592487 AS sv_4 UNION ALL SELECT 29 AS sv_idx, 1.0 AS dual_coeff, 2.16983036123 AS sv_0, 0.470151544121 AS sv_1, 0.0207420579561 AS sv_2, 0.128622220339 AS sv_3, 0.560720293031 AS sv_4 UNION ALL SELECT 30 AS sv_idx, 1.0 AS dual_coeff, -1.30529946811 AS sv_0, -0.357673564966 AS sv_1, -2.03823808981 AS sv_2, 0.0832818816681 AS sv_3, 1.50586308803 AS sv_4 UNION ALL SELECT 31 AS sv_idx, 1.0 AS dual_coeff, -1.09400690717 AS sv_0, 0.860798735741 AS sv_1, 0.466863753066 AS sv_2, -1.0785306452 AS sv_3, 2.20867150238 AS sv_4 UNION ALL SELECT 32 AS sv_idx, 1.0 AS dual_coeff, -0.424725754258 AS sv_0, 2.20256756624 AS sv_1, 0.515691412403 AS sv_2, -0.530793660005 AS sv_3, -0.788524941876 AS sv_4 UNION ALL SELECT 33 AS sv_idx, 1.0 AS dual_coeff, 1.75819179756 AS sv_0, 0.0675825329646 AS sv_1, 0.211593964081 AS sv_2, -1.43938871987 AS sv_3, 0.598640821801 AS sv_4 UNION ALL SELECT 34 AS sv_idx, 0.587228222967 AS dual_coeff, -1.19258862891 AS sv_0, 1.56105191116 AS sv_1, -0.887223363269 AS sv_2, 0.980322750993 AS sv_3, 0.205348840862 AS sv_4 UNION ALL SELECT 35 AS sv_idx, 1.0 AS dual_coeff, -1.38091174412 AS sv_0, 1.06805081872 AS sv_1, 1.61166454332 AS sv_2, 0.292715371107 AS sv_3, -0.798822476667 AS sv_4 UNION ALL SELECT 36 AS sv_idx, 0.564387143716 AS dual_coeff, -1.7300508607 AS sv_0, -1.49543914372 AS sv_1, -0.0452540638762 AS sv_2, -0.449901236106 AS sv_3, -0.100178566462 AS sv_4 UNION ALL SELECT 37 AS sv_idx, 1.0 AS dual_coeff, -2.24307240855 AS sv_0, -1.35428675455 AS sv_1, -1.10691674591 AS sv_2, 0.0459953097748 AS sv_3, 0.377951830572 AS sv_4 UNION ALL SELECT 38 AS sv_idx, 1.0 AS dual_coeff, -1.44754359075 AS sv_0, -2.35550777969 AS sv_1, 1.11483831857 AS sv_2, -0.0920974931948 AS sv_3, 0.062070665023 AS sv_4 UNION ALL SELECT 39 AS sv_idx, 1.0 AS dual_coeff, 0.420129236409 AS sv_0, -2.79239775983 AS sv_1, 0.363233186519 AS sv_2, 1.89248397573 AS sv_3, -0.62839580415 AS sv_4 UNION ALL SELECT 40 AS sv_idx, 1.0 AS dual_coeff, -0.375952319829 AS sv_0, 1.51093442203 AS sv_1, -0.802075217029 AS sv_2, 1.48786085945 AS sv_3, 1.39422242584 AS sv_4 UNION ALL SELECT 41 AS sv_idx, 1.0 AS dual_coeff, -1.84971143984 AS sv_0, -0.132341795622 AS sv_1, 0.589521127891 AS sv_2, -0.637030262947 AS sv_3, -1.15284674154 AS sv_4 UNION ALL SELECT 42 AS sv_idx, 1.0 AS dual_coeff, -0.234597200893 AS sv_0, 2.35073112534 AS sv_1, -2.00406304239 AS sv_2, -0.506262852953 AS sv_3, 0.0124700834838 AS sv_4 UNION ALL SELECT 43 AS sv_idx, 1.0 AS dual_coeff, -0.668957995454 AS sv_0, 2.81008386979 AS sv_1, 1.32189872701 AS sv_2, 1.18454263888 AS sv_3, 0.180564877504 AS sv_4 UNION ALL SELECT 44 AS sv_idx, 1.0 AS dual_coeff, -0.494732526414 AS sv_0, -0.605797619718 AS sv_1, -0.0955592735244 AS sv_2, 1.74315869091 AS sv_3, 1.92043167885 AS sv_4 UNION ALL SELECT 45 AS sv_idx, 1.0 AS dual_coeff, -0.622666996426 AS sv_0, -1.95715541999 AS sv_1, -1.74142227712 AS sv_2, 0.297086835704 AS sv_3, -1.09775120465 AS sv_4 UNION ALL SELECT 46 AS sv_idx, 0.207621831904 AS dual_coeff, -0.384201707516 AS sv_0, 1.41032715811 AS sv_1, 0.678687502253 AS sv_2, 1.03577137149 AS sv_3, -1.09906063138 AS sv_4 UNION ALL SELECT 47 AS sv_idx, 1.0 AS dual_coeff, 1.00969169208 AS sv_0, 0.960040026544 AS sv_1, -1.88545604502 AS sv_2, 1.77856115916 AS sv_3, -1.12349483876 AS sv_4 UNION ALL SELECT 48 AS sv_idx, 1.0 AS dual_coeff, 1.35149536808 AS sv_0, 1.68087047174 AS sv_1, -1.41021057868 AS sv_2, -1.37404894627 AS sv_3, 0.243040195466 AS sv_4 UNION ALL SELECT 49 AS sv_idx, 0.107569983745 AS dual_coeff, 0.0467368754366 AS sv_0, 0.0286155781316 AS sv_1, 1.5720671847 AS sv_2, -1.05217881253 AS sv_3, 0.73830859828 AS sv_4 UNION ALL SELECT 50 AS sv_idx, 1.0 AS dual_coeff, -2.32785141371 AS sv_0, -0.589899614312 AS sv_1, -0.584740497842 AS sv_2, -1.77052679839 AS sv_3, 0.611062549855 AS sv_4 UNION ALL SELECT 51 AS sv_idx, 1.0 AS dual_coeff, 1.82068703171 AS sv_0, -1.97362367717 AS sv_1, 0.935073074236 AS sv_2, 0.78213090626 AS sv_3, 0.634021158962 AS sv_4 UNION ALL SELECT 52 AS sv_idx, 1.0 AS dual_coeff, 0.98270833505 AS sv_0, -2.06463365298 AS sv_1, -0.0769450519894 AS sv_2, 0.679294729889 AS sv_3, -1.45494604349 AS sv_4 UNION ALL SELECT 53 AS sv_idx, 0.623162375822 AS dual_coeff, 0.317575656149 AS sv_0, 0.0166897276575 AS sv_1, 1.84077789141 AS sv_2, 0.317819938684 AS sv_3, 0.845957169644 AS sv_4 UNION ALL SELECT 54 AS sv_idx, 1.0 AS dual_coeff, -0.383297814249 AS sv_0, 0.652003459922 AS sv_1, -0.502149880435 AS sv_2, -1.18063268979 AS sv_3, 1.95058827507 AS sv_4 UNION ALL SELECT 55 AS sv_idx, 1.0 AS dual_coeff, 1.95042832463 AS sv_0, -0.822483202357 AS sv_1, -0.996294666714 AS sv_2, -2.15285871959 AS sv_3, 0.03004544907 AS sv_4) AS `Values`) AS `SV_data`) + -7.97295910508 AS dot_product 
FROM (SELECT `ADS_imp_1_OUT`.`KEY` AS `KEY`, (`ADS_imp_1_OUT`.impute_output_2 - -0.0694906390703) * -0.053647534364 + (`ADS_imp_1_OUT`.impute_output_3 - -0.119163503916) * -0.452838029092 + (`ADS_imp_1_OUT`.impute_output_4 - -0.127896899745) * 0.689918784888 + (`ADS_imp_1_OUT`.impute_output_5 - -0.114287346209) * -0.33402126184 + (`ADS_imp_1_OUT`.impute_output_6 - 0.0413271968547) * -0.452218452037 AS anova_output_2, (`ADS_imp_1_OUT`.impute_output_2 - -0.0694906390703) * -0.620732053756 + (`ADS_imp_1_OUT`.impute_output_3 - -0.119163503916) * 0.179006433042 + (`ADS_imp_1_OUT`.impute_output_4 - -0.127896899745) * 0.520498333383 + (`ADS_imp_1_OUT`.impute_output_5 - -0.114287346209) * 0.386172344142 + (`ADS_imp_1_OUT`.impute_output_6 - 0.0413271968547) * 0.403237919763 AS anova_output_3, (`ADS_imp_1_OUT`.impute_output_2 - -0.0694906390703) * 0.534948377585 + (`ADS_imp_1_OUT`.impute_output_3 - -0.119163503916) * -0.502789475991 + (`ADS_imp_1_OUT`.impute_output_4 - -0.127896899745) * 0.167923582168 + (`ADS_imp_1_OUT`.impute_output_5 - -0.114287346209) * 0.610459612885 + (`ADS_imp_1_OUT`.impute_output_6 - 0.0413271968547) * 0.245303297449 AS anova_output_4, (`ADS_imp_1_OUT`.impute_output_2 - -0.0694906390703) * 0.119525555247 + (`ADS_imp_1_OUT`.impute_output_3 - -0.119163503916) * -0.210071806412 + (`ADS_imp_1_OUT`.impute_output_4 - -0.127896899745) * 0.0756568397014 + (`ADS_imp_1_OUT`.impute_output_5 - -0.114287346209) * -0.602658142322 + (`ADS_imp_1_OUT`.impute_output_6 - 0.0413271968547) * 0.756744794427 AS anova_output_5, (`ADS_imp_1_OUT`.impute_output_2 - -0.0694906390703) * -0.557994206474 + (`ADS_imp_1_OUT`.impute_output_3 - -0.119163503916) * -0.682617751982 + (`ADS_imp_1_OUT`.impute_output_4 - -0.127896899745) * -0.468157311555 + (`ADS_imp_1_OUT`.impute_output_5 - -0.114287346209) * 0.0586765863683 + (`ADS_imp_1_OUT`.impute_output_6 - 0.0413271968547) * -0.0078268813005 AS anova_output_6 
FROM (SELECT `ADS`.`KEY` AS `KEY`, CASE WHEN (`ADS`.`Feature_0` IS NULL) THEN -0.0694906390703 ELSE `ADS`.`Feature_0` END AS impute_output_2, CASE WHEN (`ADS`.`Feature_1` IS NULL) THEN -0.119163503916 ELSE `ADS`.`Feature_1` END AS impute_output_3, CASE WHEN (`ADS`.`Feature_2` IS NULL) THEN -0.127896899745 ELSE `ADS`.`Feature_2` END AS impute_output_4, CASE WHEN (`ADS`.`Feature_3` IS NULL) THEN -0.114287346209 ELSE `ADS`.`Feature_3` END AS impute_output_5, CASE WHEN (`ADS`.`Feature_4` IS NULL) THEN 0.0413271968547 ELSE `ADS`.`Feature_4` END AS impute_output_6 
FROM `INPUT_DATA` AS `ADS`) AS `ADS_imp_1_OUT`) AS `ADS_ano_2_OUT`) AS linear_kernel_cte