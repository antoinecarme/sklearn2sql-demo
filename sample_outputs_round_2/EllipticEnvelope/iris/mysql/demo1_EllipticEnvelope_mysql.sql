-- This SQL code was generated by scikit2sql (development version).
-- Copyright 2017

SELECT mahalanobis_cte.`KEY` AS `KEY`, mahalanobis_cte.mahalanobis AS `AnomalyScore`, CASE WHEN (mahalanobis_cte.mahalanobis <= 10.3591938641) THEN 1 ELSE -1 END AS `OutlierIndicator` 
FROM (SELECT `ADS`.`KEY` AS `KEY`, 10.9453692312 * (`ADS`.`Feature_0` - 5.75441176471) * (`ADS`.`Feature_0` - 5.75441176471) + -7.65062132914 * (`ADS`.`Feature_0` - 5.75441176471) * (`ADS`.`Feature_1` - 3.05073529412) + -8.78080401222 * (`ADS`.`Feature_0` - 5.75441176471) * (`ADS`.`Feature_2` - 3.60882352941) + 8.48721085108 * (`ADS`.`Feature_0` - 5.75441176471) * (`ADS`.`Feature_3` - 1.14926470588) + -7.65062132914 * (`ADS`.`Feature_1` - 3.05073529412) * (`ADS`.`Feature_0` - 5.75441176471) + 14.0438348489 * (`ADS`.`Feature_1` - 3.05073529412) * (`ADS`.`Feature_1` - 3.05073529412) + 10.5212158948 * (`ADS`.`Feature_1` - 3.05073529412) * (`ADS`.`Feature_2` - 3.60882352941) + -13.5752982739 * (`ADS`.`Feature_1` - 3.05073529412) * (`ADS`.`Feature_3` - 1.14926470588) + -8.78080401222 * (`ADS`.`Feature_2` - 3.60882352941) * (`ADS`.`Feature_0` - 5.75441176471) + 10.5212158948 * (`ADS`.`Feature_2` - 3.60882352941) * (`ADS`.`Feature_1` - 3.05073529412) + 16.157143501 * (`ADS`.`Feature_2` - 3.60882352941) * (`ADS`.`Feature_2` - 3.60882352941) + -25.8801881299 * (`ADS`.`Feature_2` - 3.60882352941) * (`ADS`.`Feature_3` - 1.14926470588) + 8.48721085108 * (`ADS`.`Feature_3` - 1.14926470588) * (`ADS`.`Feature_0` - 5.75441176471) + -13.5752982739 * (`ADS`.`Feature_3` - 1.14926470588) * (`ADS`.`Feature_1` - 3.05073529412) + -25.8801881299 * (`ADS`.`Feature_3` - 1.14926470588) * (`ADS`.`Feature_2` - 3.60882352941) + 48.6266364196 * (`ADS`.`Feature_3` - 1.14926470588) * (`ADS`.`Feature_3` - 1.14926470588) AS mahalanobis 
FROM `INPUT_DATA` AS `ADS`) AS mahalanobis_cte