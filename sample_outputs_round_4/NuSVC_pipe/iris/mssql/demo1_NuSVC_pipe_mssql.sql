-- This SQL code was generated by scikit2sql (development version).
-- Copyright 2017

WITH [ADS_imp_1_OUT] AS 
(SELECT [ADS].[KEY] AS [KEY], CASE WHEN ([ADS].[Feature_0] IS NULL) THEN 5.84333333333 ELSE [ADS].[Feature_0] END AS impute_output_2, CASE WHEN ([ADS].[Feature_1] IS NULL) THEN 3.054 ELSE [ADS].[Feature_1] END AS impute_output_3, CASE WHEN ([ADS].[Feature_2] IS NULL) THEN 3.75866666667 ELSE [ADS].[Feature_2] END AS impute_output_4, CASE WHEN ([ADS].[Feature_3] IS NULL) THEN 1.19866666667 ELSE [ADS].[Feature_3] END AS impute_output_5 
FROM [INPUT_DATA] AS [ADS]), 
[CenteredDataForPCA] AS 
(SELECT [ADS_imp_1_OUT].[KEY] AS [KEY], [ADS_imp_1_OUT].impute_output_2 - 5.84333333333 AS impute_output_2, [ADS_imp_1_OUT].impute_output_3 - 3.054 AS impute_output_3, [ADS_imp_1_OUT].impute_output_4 - 3.75866666667 AS impute_output_4, [ADS_imp_1_OUT].impute_output_5 - 1.19866666667 AS impute_output_5 
FROM [ADS_imp_1_OUT]), 
[ADS_ano_2_OUT] AS 
(SELECT [CenteredDataForPCA].[KEY] AS [KEY], [CenteredDataForPCA].impute_output_2 * 0.361589677381 + [CenteredDataForPCA].impute_output_3 * -0.0822688898922 + [CenteredDataForPCA].impute_output_4 * 0.856572105291 + [CenteredDataForPCA].impute_output_5 * 0.358843926248 AS anova_output_2, [CenteredDataForPCA].impute_output_2 * 0.656539883286 + [CenteredDataForPCA].impute_output_3 * 0.729712371326 + [CenteredDataForPCA].impute_output_4 * -0.175767403429 + [CenteredDataForPCA].impute_output_5 * -0.074706470135 AS anova_output_3, [CenteredDataForPCA].impute_output_2 * -0.580997279828 + [CenteredDataForPCA].impute_output_3 * 0.596418087938 + [CenteredDataForPCA].impute_output_4 * 0.072524075487 + [CenteredDataForPCA].impute_output_5 * 0.549060910727 AS anova_output_4, [CenteredDataForPCA].impute_output_2 * 0.317254547169 + [CenteredDataForPCA].impute_output_3 * -0.324094352418 + [CenteredDataForPCA].impute_output_4 * -0.47971898733 + [CenteredDataForPCA].impute_output_5 * 0.751120560381 AS anova_output_5 
FROM [CenteredDataForPCA]), 
[SV_data_0] AS 
(SELECT [Values].sv_idx AS sv_idx, [Values].dual_coeff AS dual_coeff, [Values].sv_0 AS sv_0, [Values].sv_1 AS sv_1, [Values].sv_2 AS sv_2, [Values].sv_3 AS sv_3 
FROM (SELECT 0 AS sv_idx, 0.0315751662227 AS dual_coeff, -2.71539061563 AS sv_0, -0.169556847556 AS sv_1, -0.203521425005 AS sv_2, 0.0996024240168 AS sv_3 UNION ALL SELECT 1 AS sv_idx, 0.0575675972003 AS dual_coeff, -2.74643719731 AS sv_0, -0.311124315752 AS sv_1, 0.0376719752853 AS sv_2, -0.0759552741085 AS sv_3 UNION ALL SELECT 2 AS sv_idx, 0.0575675972003 AS dual_coeff, -2.27989736101 AS sv_0, 0.747782713225 AS sv_1, 0.174325619016 AS sv_2, -0.0271468036979 AS sv_3 UNION ALL SELECT 3 AS sv_idx, 0.0575675972003 AS dual_coeff, -2.88795856534 AS sv_0, -0.570798026332 AS sv_1, 0.0273354061145 AS sv_2, -0.0266154143257 AS sv_3 UNION ALL SELECT 4 AS sv_idx, 0.0 AS dual_coeff, -2.50652678934 AS sv_0, 0.651935013673 AS sv_1, -0.0692749958139 AS sv_2, -0.0166082478245 AS sv_3 UNION ALL SELECT 5 AS sv_idx, 0.0575675972003 AS dual_coeff, -2.787433976 AS sv_0, -0.227740188871 AS sv_1, -0.200327788095 AS sv_2, -0.00723508673812 AS sv_3 UNION ALL SELECT 6 AS sv_idx, 0.0575675972003 AS dual_coeff, -3.22520044627 AS sv_0, -0.503279909485 AS sv_1, 0.0684136291723 AS sv_2, -0.0219466641234 AS sv_3 UNION ALL SELECT 7 AS sv_idx, 0.0575675972003 AS dual_coeff, -2.64354321694 AS sv_0, 1.18619489941 AS sv_1, -0.14450570401 AS sv_2, 0.156980961517 AS sv_3 UNION ALL SELECT 8 AS sv_idx, 0.0575675972003 AS dual_coeff, -2.3838693238 AS sv_0, 1.34475434456 AS sv_1, 0.28373066394 AS sv_2, 0.00192618170967 AS sv_3 UNION ALL SELECT 9 AS sv_idx, 0.0575675972003 AS dual_coeff, -2.62252620313 AS sv_0, 0.818089674597 AS sv_1, 0.145315988822 AS sv_2, 0.164740791234 AS sv_3 UNION ALL SELECT 10 AS sv_idx, 0.0575675972003 AS dual_coeff, -2.19907796143 AS sv_0, 0.879244088092 AS sv_1, -0.114521464798 AS sv_2, 0.0253269396564 AS sv_3 UNION ALL SELECT 11 AS sv_idx, 0.0575675972003 AS dual_coeff, -2.31053170131 AS sv_0, 0.397867821589 AS sv_1, -0.233695607098 AS sv_2, -0.0153237395651 AS sv_3 UNION ALL SELECT 12 AS sv_idx, 0.0 AS dual_coeff, -3.2158576949 AS sv_0, 0.141615571626 AS sv_1, 0.299618981511 AS sv_2, 0.00185704334745 AS sv_3 UNION ALL SELECT 13 AS sv_idx, 0.0575675972003 AS dual_coeff, -2.30312853766 AS sv_0, 0.10552267843 AS sv_1, 0.0456800412745 AS sv_2, 0.14724549964 AS sv_3 UNION ALL SELECT 14 AS sv_idx, 0.0575675972003 AS dual_coeff, -2.35617108668 AS sv_0, -0.0312095890683 AS sv_1, 0.129407575896 AS sv_2, -0.301620265332 AS sv_3 UNION ALL SELECT 15 AS sv_idx, 0.0575675972003 AS dual_coeff, -2.50791722684 AS sv_0, -0.139056339913 AS sv_1, -0.247116337891 AS sv_2, 0.0353840812677 AS sv_3 UNION ALL SELECT 16 AS sv_idx, 0.0575675972003 AS dual_coeff, -2.63284790803 AS sv_0, -0.190075830634 AS sv_1, 0.046466463645 AS sv_2, -0.124611153366 AS sv_3 UNION ALL SELECT 17 AS sv_idx, 0.0575675972003 AS dual_coeff, -2.5884620513 AS sv_0, -0.197393079438 AS sv_1, -0.0712750731315 AS sv_2, -0.0604762634078 AS sv_3 UNION ALL SELECT 18 AS sv_idx, 0.0575675972003 AS dual_coeff, -2.41007733712 AS sv_0, 0.418080008248 AS sv_1, -0.13838824005 AS sv_2, 0.230844169977 AS sv_3 UNION ALL SELECT 19 AS sv_idx, 0.0575675972003 AS dual_coeff, -2.6476366734 AS sv_0, 0.81998263256 AS sv_1, 0.230585604254 AS sv_2, -0.284808954263 AS sv_3 UNION ALL SELECT 20 AS sv_idx, 0.0575675972003 AS dual_coeff, -2.59715947708 AS sv_0, 1.10002192801 AS sv_1, 0.163581912624 AS sv_2, -0.0989580705836 AS sv_3 UNION ALL SELECT 21 AS sv_idx, 0.0259924309775 AS dual_coeff, -2.62522846468 AS sv_0, 0.606800008422 AS sv_1, -0.261163156482 AS sv_2, 0.175879874842 AS sv_3 UNION ALL SELECT 22 AS sv_idx, 0.0575675972003 AS dual_coeff, -2.98184266485 AS sv_0, -0.480250048856 AS sv_1, 0.0797248073596 AS sv_2, -0.0110529508345 AS sv_3 UNION ALL SELECT 23 AS sv_idx, 0.0575675972003 AS dual_coeff, -2.85221108157 AS sv_0, -0.93286536747 AS sv_1, -0.340961491107 AS sv_2, 0.322650606613 AS sv_3 UNION ALL SELECT 24 AS sv_idx, 0.0575675972003 AS dual_coeff, -2.99829644283 AS sv_0, -0.334307574591 AS sv_1, 0.199008424947 AS sv_2, -0.0758718213181 AS sv_3 UNION ALL SELECT 25 AS sv_idx, 0.0575675972003 AS dual_coeff, -2.40551410128 AS sv_0, 0.195917257696 AS sv_1, 0.270717070369 AS sv_2, 0.173785129211 AS sv_3 UNION ALL SELECT 26 AS sv_idx, 0.0575675972003 AS dual_coeff, -2.20883295418 AS sv_0, 0.442696030421 AS sv_1, 0.303487809268 AS sv_2, -0.185857530073 AS sv_3 UNION ALL SELECT 27 AS sv_idx, 0.0575675972003 AS dual_coeff, -2.71566519075 AS sv_0, -0.242681482898 AS sv_1, -0.0905156059501 AS sv_2, 0.142989025338 AS sv_3 UNION ALL SELECT 28 AS sv_idx, 0.0 AS dual_coeff, -2.84032129683 AS sv_0, -0.220576338276 AS sv_1, 0.0900613765304 AS sv_2, -0.0603928106173 AS sv_3) AS [Values]), 
kernel_cte_0 AS 
(SELECT t_1.[KEY] AS [KEY_0], t_1.dot_product AS [Score_0] 
FROM (SELECT full_join_data_sv_1.[KEY] AS [KEY], sum(full_join_data_sv_1.dot_prod1) + -0.05781298767 AS dot_product 
FROM (SELECT [ADS_ano_2_OUT].[KEY] AS [KEY], [SV_data_0].dual_coeff * exp(-0.25 * (power([ADS_ano_2_OUT].anova_output_2 - [SV_data_0].sv_0, 2) + power([ADS_ano_2_OUT].anova_output_3 - [SV_data_0].sv_1, 2) + power([ADS_ano_2_OUT].anova_output_4 - [SV_data_0].sv_2, 2) + power([ADS_ano_2_OUT].anova_output_5 - [SV_data_0].sv_3, 2))) AS dot_prod1 
FROM [ADS_ano_2_OUT], [SV_data_0]) AS full_join_data_sv_1 GROUP BY full_join_data_sv_1.[KEY]) AS t_1), 
[SV_data_1] AS 
(SELECT [Values].sv_idx AS sv_idx, [Values].dual_coeff AS dual_coeff, [Values].sv_0 AS sv_0, [Values].sv_1 AS sv_1, [Values].sv_2 AS sv_2, [Values].sv_3 AS sv_3 
FROM (SELECT 0 AS sv_idx, -0.0575675972003 AS dual_coeff, 1.28479458785 AS sv_0, 0.685439186133 AS sv_1, -0.406129553077 AS sv_2, 0.0192901168553 AS sv_3 UNION ALL SELECT 1 AS sv_idx, -0.0 AS dual_coeff, 0.932410752983 AS sv_0, 0.319198089834 AS sv_1, -0.0171299092051 AS sv_2, -6.7579417094e-06 AS sv_3 UNION ALL SELECT 2 AS sv_idx, -0.0575675972003 AS dual_coeff, 1.46406132278 AS sv_0, 0.504189832972 AS sv_1, -0.338260727718 AS sv_2, -0.000857644047618 AS sv_3 UNION ALL SELECT 3 AS sv_idx, -0.0575675972003 AS dual_coeff, 0.180967206348 AS sv_0, -0.825603943576 AS sv_1, -0.177082856393 AS sv_2, 0.0957844483716 AS sv_3 UNION ALL SELECT 4 AS sv_idx, -0.0 AS dual_coeff, 1.08713448721 AS sv_0, 0.0753903892888 AS sv_1, -0.306544464814 AS sv_2, 0.113384539009 AS sv_3 UNION ALL SELECT 5 AS sv_idx, -0.0 AS dual_coeff, 0.640436749523 AS sv_0, -0.41732348297 AS sv_1, 0.0411887693536 AS sv_2, -0.242671312069 AS sv_3 UNION ALL SELECT 6 AS sv_idx, -0.0575675972003 AS dual_coeff, 1.09522370994 AS sv_0, 0.283891210938 AS sv_1, 0.170022533741 AS sv_2, -0.0849733893283 AS sv_3 UNION ALL SELECT 7 AS sv_idx, -0.0575675972003 AS dual_coeff, -0.751467140648 AS sv_0, -1.00110751297 AS sv_1, 0.0156721942382 AS sv_2, -0.0165105921546 AS sv_3 UNION ALL SELECT 8 AS sv_idx, -0.0 AS dual_coeff, 1.04329778071 AS sv_0, 0.228956908777 AS sv_1, -0.414814566149 AS sv_2, -0.0375235535918 AS sv_3 UNION ALL SELECT 9 AS sv_idx, -0.0575675972003 AS dual_coeff, -0.0101900707279 AS sv_0, -0.720574866702 AS sv_1, 0.283437246254 AS sv_2, -0.00594570197509 AS sv_3 UNION ALL SELECT 10 AS sv_idx, -0.0575675972003 AS dual_coeff, -0.511086195895 AS sv_0, -1.26249195386 AS sv_1, -0.266489953822 AS sv_2, 0.0489088060634 AS sv_3 UNION ALL SELECT 11 AS sv_idx, -0.0575675972003 AS dual_coeff, 0.262335756153 AS sv_0, -0.547893298025 AS sv_1, -0.691941578319 AS sv_2, 0.0614849890834 AS sv_3 UNION ALL SELECT 12 AS sv_idx, -0.0 AS dual_coeff, 0.984044545169 AS sv_0, -0.124360420222 AS sv_1, -0.0621574276135 AS sv_2, -0.169010669871 AS sv_3 UNION ALL SELECT 13 AS sv_idx, -0.0575675972003 AS dual_coeff, -0.174864001966 AS sv_0, -0.25181557108 AS sv_1, 0.093658638192 AS sv_2, 0.12494088657 AS sv_3 UNION ALL SELECT 14 AS sv_idx, -0.0575675972003 AS dual_coeff, 0.927572942033 AS sv_0, 0.468236205043 AS sv_1, -0.313229400569 AS sv_2, 0.100438884146 AS sv_3 UNION ALL SELECT 15 AS sv_idx, -0.0 AS dual_coeff, 0.659592789056 AS sv_0, -0.35197629106 AS sv_1, 0.328384297069 AS sv_2, -0.188991525193 AS sv_3 UNION ALL SELECT 16 AS sv_idx, -0.0 AS dual_coeff, 0.942361707399 AS sv_0, -0.54182225815 AS sv_1, -0.497348541178 AS sv_2, 0.260636685043 AS sv_3 UNION ALL SELECT 17 AS sv_idx, -0.0575675972003 AS dual_coeff, 0.0432464003287 AS sv_0, -0.581489446612 AS sv_1, -0.232963556483 AS sv_2, -0.0395611807383 AS sv_3 UNION ALL SELECT 18 AS sv_idx, -0.0575675972003 AS dual_coeff, 1.11624072375 AS sv_0, -0.0842140138784 AS sv_1, 0.459844226573 AS sv_2, -0.0772135596107 AS sv_3 UNION ALL SELECT 19 AS sv_idx, -0.0207589828458 AS dual_coeff, 1.29646885029 AS sv_0, -0.327561519795 AS sv_1, -0.347513212584 AS sv_2, 0.00324623910204 AS sv_3 UNION ALL SELECT 20 AS sv_idx, -0.0 AS dual_coeff, 0.920502648909 AS sv_0, -0.182390363328 AS sv_1, -0.231611418553 AS sv_2, -0.286825346705 AS sv_3 UNION ALL SELECT 21 AS sv_idx, -0.0575675972003 AS dual_coeff, 1.33104141885 AS sv_0, 0.244669520602 AS sv_1, -0.521244924738 AS sv_2, 0.0375050496558 AS sv_3 UNION ALL SELECT 22 AS sv_idx, -0.0575675972003 AS dual_coeff, 1.55739627207 AS sv_0, 0.267392584813 AS sv_1, -0.164638490852 AS sv_2, 0.0703530951036 AS sv_3 UNION ALL SELECT 23 AS sv_idx, -0.0 AS dual_coeff, 0.812455548998 AS sv_0, -0.162331574879 AS sv_1, 0.0363435763445 AS sv_2, -0.0296802710837 AS sv_3 UNION ALL SELECT 24 AS sv_idx, -0.0575675972003 AS dual_coeff, -0.307334755663 AS sv_0, -0.365086612766 AS sv_1, -0.315337196939 AS sv_2, 0.0765303776306 AS sv_3 UNION ALL SELECT 25 AS sv_idx, -0.0575675972003 AS dual_coeff, -0.0703428889493 AS sv_0, -0.702537931731 AS sv_1, -0.241758044842 AS sv_2, 0.00909469851961 AS sv_3 UNION ALL SELECT 26 AS sv_idx, -0.0575675972003 AS dual_coeff, -0.191884492103 AS sv_0, -0.677490544374 AS sv_1, -0.303916543464 AS sv_2, -0.0180454587855 AS sv_3 UNION ALL SELECT 27 AS sv_idx, -0.0575675972003 AS dual_coeff, 0.134994950451 AS sv_0, -0.311709642703 AS sv_1, -0.174973303788 AS sv_2, 0.0341829142499 AS sv_3 UNION ALL SELECT 28 AS sv_idx, -0.0575675972003 AS dual_coeff, 1.37873698278 AS sv_0, -0.421205138215 AS sv_1, 0.0154804951217 AS sv_2, -0.17758073696 AS sv_3 UNION ALL SELECT 29 AS sv_idx, -0.0450469092765 AS dual_coeff, 0.58727485358 AS sv_0, -0.483284267717 AS sv_1, 0.444583753035 AS sv_2, -0.252442434627 AS sv_3 UNION ALL SELECT 30 AS sv_idx, -0.0575675972003 AS dual_coeff, 0.807205496677 AS sv_0, 0.195053963771 AS sv_1, 0.389458711386 AS sv_2, -0.116615391255 AS sv_3 UNION ALL SELECT 31 AS sv_idx, -0.0575675972003 AS dual_coeff, 1.22042896624 AS sv_0, 0.408035337001 AS sv_1, -0.23656608685 AS sv_2, 0.0316352439847 AS sv_3 UNION ALL SELECT 32 AS sv_idx, -0.0 AS dual_coeff, 0.812867790369 AS sv_0, -0.370678998319 AS sv_1, -0.612871050061 AS sv_2, 0.157700491174 AS sv_3 UNION ALL SELECT 33 AS sv_idx, -0.0185206087587 AS dual_coeff, 0.24519516169 AS sv_0, -0.266728035662 AS sv_1, 0.189562484729 AS sv_2, -0.147328042337 AS sv_3 UNION ALL SELECT 34 AS sv_idx, -0.0308086935195 AS dual_coeff, 0.164513428369 AS sv_0, -0.679661469311 AS sv_1, -0.0577992388057 AS sv_2, 0.030965577888 AS sv_3 UNION ALL SELECT 35 AS sv_idx, -0.0 AS dual_coeff, 0.463030988871 AS sv_0, -0.669526546536 AS sv_1, -0.0240538908898 AS sv_2, -0.268443508324 AS sv_3 UNION ALL SELECT 36 AS sv_idx, -0.0 AS dual_coeff, 0.890160445651 AS sv_0, -0.0338124427468 AS sv_1, -0.00976802636843 AS sv_2, -0.15344820638 AS sv_3 UNION ALL SELECT 37 AS sv_idx, -0.0575675972003 AS dual_coeff, -0.707081283921 AS sv_0, -1.00842476178 AS sv_1, -0.102069342538 AS sv_2, 0.047624297804 AS sv_3 UNION ALL SELECT 38 AS sv_idx, -0.0575675972003 AS dual_coeff, -0.908463333123 AS sv_0, -0.751568725169 AS sv_1, -0.00773658450698 AS sv_2, 0.233558634274 AS sv_3) AS [Values]), 
kernel_cte_1 AS 
(SELECT t_2.[KEY] AS [KEY_1], t_2.dot_product AS [Score_1] 
FROM (SELECT full_join_data_sv_2.[KEY] AS [KEY], sum(full_join_data_sv_2.dot_prod1) + -0.13441338281 AS dot_product 
FROM (SELECT [ADS_ano_2_OUT].[KEY] AS [KEY], [SV_data_1].dual_coeff * exp(-0.25 * (power([ADS_ano_2_OUT].anova_output_2 - [SV_data_1].sv_0, 2) + power([ADS_ano_2_OUT].anova_output_3 - [SV_data_1].sv_1, 2) + power([ADS_ano_2_OUT].anova_output_4 - [SV_data_1].sv_2, 2) + power([ADS_ano_2_OUT].anova_output_5 - [SV_data_1].sv_3, 2))) AS dot_prod1 
FROM [ADS_ano_2_OUT], [SV_data_1]) AS full_join_data_sv_2 GROUP BY full_join_data_sv_2.[KEY]) AS t_2), 
[SV_data_2] AS 
(SELECT [Values].sv_idx AS sv_idx, [Values].dual_coeff AS dual_coeff, [Values].sv_0 AS sv_0, [Values].sv_1 AS sv_1, [Values].sv_2 AS sv_2, [Values].sv_3 AS sv_3 
FROM (SELECT 0 AS sv_idx, -0.0541848461127 AS dual_coeff, 2.53172698044 AS sv_0, -0.0118422366403 AS sv_1, 0.758458651528 AS sv_2, -0.0325995685144 AS sv_3 UNION ALL SELECT 1 AS sv_idx, -0.0541848461127 AS dual_coeff, 1.41407222517 AS sv_0, -0.574925055912 AS sv_1, 0.296398224305 AS sv_2, -0.0156954782795 AS sv_3 UNION ALL SELECT 2 AS sv_idx, -0.0541848461127 AS dual_coeff, 3.39687992068 AS sv_0, 0.54716804623 AS sv_1, -0.351873157627 AS sv_2, -0.11121996802 AS sv_3 UNION ALL SELECT 3 AS sv_idx, -0.0541848461127 AS dual_coeff, 0.519383245085 AS sv_0, -1.19135168905 AS sv_1, 0.546685531125 AS sv_2, -0.0987984199258 AS sv_3 UNION ALL SELECT 4 AS sv_idx, -0.0541848461127 AS dual_coeff, 2.93200509699 AS sv_0, 0.352377006181 AS sv_1, -0.423691278337 AS sv_2, -0.255407368844 AS sv_3 UNION ALL SELECT 5 AS sv_idx, -0.0541848461127 AS dual_coeff, 2.91813423364 AS sv_0, 0.780380629372 AS sv_1, 0.421738933614 AS sv_2, 0.107729319479 AS sv_3 UNION ALL SELECT 6 AS sv_idx, -0.0 AS dual_coeff, 1.66193494702 AS sv_0, 0.242038401038 AS sv_1, 0.242815263468 AS sv_2, 0.119447584568 AS sv_3 UNION ALL SELECT 7 AS sv_idx, -0.0 AS dual_coeff, 1.80234045266 AS sv_0, -0.216154606627 AS sv_1, -0.037695328494 AS sv_2, 0.0787134525557 AS sv_3 UNION ALL SELECT 8 AS sv_idx, -0.0541848461127 AS dual_coeff, 1.34459421751 AS sv_0, -0.776415425177 AS sv_1, 0.282868018224 AS sv_2, 0.140481892258 AS sv_3 UNION ALL SELECT 9 AS sv_idx, -0.0541848461127 AS dual_coeff, 1.58526729931 AS sv_0, -0.539307053847 AS sv_1, 0.630570488462 AS sv_2, 0.327455366669 AS sv_3 UNION ALL SELECT 10 AS sv_idx, -0.0 AS dual_coeff, 1.94924878186 AS sv_0, 0.0407302594278 AS sv_1, 0.0427290939294 AS sv_2, -0.157845251957 AS sv_3 UNION ALL SELECT 11 AS sv_idx, -0.0541848461127 AS dual_coeff, 3.48876537966 AS sv_0, 1.17154454426 AS sv_1, 0.129320083362 AS sv_2, -0.311629837933 AS sv_3 UNION ALL SELECT 12 AS sv_idx, -0.0541848461127 AS dual_coeff, 3.79468686121 AS sv_0, 0.253265570973 AS sv_1, -0.516970715994 AS sv_2, 0.056451643541 AS sv_3 UNION ALL SELECT 13 AS sv_idx, -0.0541848461127 AS dual_coeff, 1.29832982457 AS sv_0, -0.761013936522 AS sv_1, -0.344887047469 AS sv_2, -0.0426737180561 AS sv_3 UNION ALL SELECT 14 AS sv_idx, -0.0541848461127 AS dual_coeff, 1.19809737227 AS sv_0, -0.605578961765 AS sv_1, 0.51264076504 AS sv_2, 0.0595000305491 AS sv_3 UNION ALL SELECT 15 AS sv_idx, -0.0541848461127 AS dual_coeff, 3.4992654843 AS sv_0, 0.456773466964 AS sv_1, -0.576910186722 AS sv_2, -0.137759597591 AS sv_3 UNION ALL SELECT 16 AS sv_idx, -0.0122184366994 AS dual_coeff, 1.38766825018 AS sv_0, -0.20403098657 AS sv_1, -0.0635113217786 AS sv_2, 0.163763536733 AS sv_3 UNION ALL SELECT 17 AS sv_idx, -0.00949626257712 AS dual_coeff, 2.6141938307 AS sv_0, 0.558366950279 AS sv_1, -0.208423346619 AS sv_2, -0.240445433088 AS sv_3 UNION ALL SELECT 18 AS sv_idx, -0.0541848461127 AS dual_coeff, 1.25762518293 AS sv_0, -0.179136997423 AS sv_1, 0.0469778074492 AS sv_2, 0.147600545507 AS sv_3 UNION ALL SELECT 19 AS sv_idx, -0.0541848461127 AS dual_coeff, 1.29066964774 AS sv_0, -0.116425251829 AS sv_1, 0.231613560568 AS sv_2, 0.00308432157359 AS sv_3 UNION ALL SELECT 20 AS sv_idx, -0.0541848461127 AS dual_coeff, 2.38756440237 AS sv_0, 0.462519250726 AS sv_1, -0.452023961449 AS sv_2, -0.229906877214 AS sv_3 UNION ALL SELECT 21 AS sv_idx, -0.0541848461127 AS dual_coeff, 2.84096092529 AS sv_0, 0.372742591049 AS sv_1, -0.501031539138 AS sv_2, -0.0202166253816 AS sv_3 UNION ALL SELECT 22 AS sv_idx, -0.0541848461127 AS dual_coeff, 3.2323428983 AS sv_0, 1.37052403598 AS sv_1, -0.118448777395 AS sv_2, -0.254487344376 AS sv_3 UNION ALL SELECT 23 AS sv_idx, -0.0 AS dual_coeff, 1.44310260438 AS sv_0, -0.143801289083 AS sv_1, -0.154082971105 AS sv_2, -0.189925864089 AS sv_3 UNION ALL SELECT 24 AS sv_idx, -0.0541848461127 AS dual_coeff, 1.7796401069 AS sv_0, -0.501464794706 AS sv_1, -0.175811186057 AS sv_2, -0.503529452743 AS sv_3 UNION ALL SELECT 25 AS sv_idx, -0.0541848461127 AS dual_coeff, 3.07652162102 AS sv_0, 0.685764442246 AS sv_1, -0.336422741208 AS sv_2, 0.310589092438 AS sv_3 UNION ALL SELECT 26 AS sv_idx, -0.0429090574252 AS dual_coeff, 2.14498685671 AS sv_0, 0.138906608877 AS sv_1, 0.734184739055 AS sv_2, 0.0517665351376 AS sv_3 UNION ALL SELECT 27 AS sv_idx, -0.0 AS dual_coeff, 1.90486292514 AS sv_0, 0.0480475082318 AS sv_1, 0.160470630706 AS sv_2, -0.221980141916 AS sv_3 UNION ALL SELECT 28 AS sv_idx, -0.0541848461127 AS dual_coeff, 1.16885346947 AS sv_0, -0.164502499815 AS sv_1, 0.282460881002 AS sv_2, 0.0193307655897 AS sv_3 UNION ALL SELECT 29 AS sv_idx, -0.0 AS dual_coeff, 2.10765373117 AS sv_0, 0.371482249177 AS sv_1, 0.0274378564615 AS sv_2, 0.209955198516 AS sv_3 UNION ALL SELECT 30 AS sv_idx, -0.0541848461127 AS dual_coeff, 1.92245088484 AS sv_0, 0.409271176179 AS sv_1, 0.115492815961 AS sv_2, 0.504095006791 AS sv_3 UNION ALL SELECT 31 AS sv_idx, -0.0541848461127 AS dual_coeff, 1.41407222517 AS sv_0, -0.574925055912 AS sv_1, 0.296398224305 AS sv_2, -0.0156954782795 AS sv_3 UNION ALL SELECT 32 AS sv_idx, -0.0 AS dual_coeff, 1.94401704888 AS sv_0, 0.187415222046 AS sv_1, 0.179302870681 AS sv_2, 0.425081633866 AS sv_3 UNION ALL SELECT 33 AS sv_idx, -0.0 AS dual_coeff, 1.52566363131 AS sv_0, -0.375020848192 AS sv_1, -0.120636440745 AS sv_2, 0.255722564521 AS sv_3 UNION ALL SELECT 34 AS sv_idx, -0.0 AS dual_coeff, 1.76404593553 AS sv_0, 0.0785191864294 AS sv_1, 0.130784053429 AS sv_2, 0.136294556318 AS sv_3 UNION ALL SELECT 35 AS sv_idx, -0.0437459355238 AS dual_coeff, 1.38966613332 AS sv_0, -0.282886709172 AS sv_1, 0.362317831631 AS sv_2, -0.156310385326 AS sv_3) AS [Values]), 
kernel_cte_2 AS 
(SELECT t_3.[KEY] AS [KEY_2], t_3.dot_product AS [Score_2] 
FROM (SELECT full_join_data_sv_3.[KEY] AS [KEY], sum(full_join_data_sv_3.dot_prod1) + -0.0788487677195 AS dot_product 
FROM (SELECT [ADS_ano_2_OUT].[KEY] AS [KEY], [SV_data_2].dual_coeff * exp(-0.25 * (power([ADS_ano_2_OUT].anova_output_2 - [SV_data_2].sv_0, 2) + power([ADS_ano_2_OUT].anova_output_3 - [SV_data_2].sv_1, 2) + power([ADS_ano_2_OUT].anova_output_4 - [SV_data_2].sv_2, 2) + power([ADS_ano_2_OUT].anova_output_5 - [SV_data_2].sv_3, 2))) AS dot_prod1 
FROM [ADS_ano_2_OUT], [SV_data_2]) AS full_join_data_sv_3 GROUP BY full_join_data_sv_3.[KEY]) AS t_3), 
[OVR_Join_CTE] AS 
(SELECT kernel_cte_0.[KEY_0] AS [KEY_0], kernel_cte_0.[Score_0] AS [Score_0], kernel_cte_1.[KEY_1] AS [KEY_1], kernel_cte_1.[Score_1] AS [Score_1], kernel_cte_2.[KEY_2] AS [KEY_2], kernel_cte_2.[Score_2] AS [Score_2] 
FROM kernel_cte_0 LEFT OUTER JOIN kernel_cte_1 ON kernel_cte_0.[KEY_0] = kernel_cte_1.[KEY_1] LEFT OUTER JOIN kernel_cte_2 ON kernel_cte_2.[KEY_2] = kernel_cte_1.[KEY_1]), 
orig_cte AS 
(SELECT [OVR_Join_CTE].[KEY_0] AS [KEY], [OVR_Join_CTE].[Score_0] AS [Score_0], [OVR_Join_CTE].[Score_1] AS [Score_1], [OVR_Join_CTE].[Score_2] AS [Score_2], CAST(NULL AS FLOAT(53)) AS [Proba_0], CAST(NULL AS FLOAT(53)) AS [Proba_1], CAST(NULL AS FLOAT(53)) AS [Proba_2], CAST(NULL AS FLOAT(53)) AS [LogProba_0], CAST(NULL AS FLOAT(53)) AS [LogProba_1], CAST(NULL AS FLOAT(53)) AS [LogProba_2], CAST(NULL AS FLOAT(53)) AS [Decision] 
FROM [OVR_Join_CTE]), 
score_class_union AS 
(SELECT scu.[KEY] AS [KEY], scu.class AS class, scu.[LogProba] AS [LogProba], scu.[Proba] AS [Proba], scu.[Score] AS [Score] 
FROM (SELECT orig_cte.[KEY] AS [KEY], 0 AS class, orig_cte.[LogProba_0] AS [LogProba], orig_cte.[Proba_0] AS [Proba], orig_cte.[Score_0] AS [Score] 
FROM orig_cte UNION ALL SELECT orig_cte.[KEY] AS [KEY], 1 AS class, orig_cte.[LogProba_1] AS [LogProba], orig_cte.[Proba_1] AS [Proba], orig_cte.[Score_1] AS [Score] 
FROM orig_cte UNION ALL SELECT orig_cte.[KEY] AS [KEY], 2 AS class, orig_cte.[LogProba_2] AS [LogProba], orig_cte.[Proba_2] AS [Proba], orig_cte.[Score_2] AS [Score] 
FROM orig_cte) AS scu), 
score_max AS 
(SELECT orig_cte.[KEY] AS [KEY], orig_cte.[Score_0] AS [Score_0], orig_cte.[Score_1] AS [Score_1], orig_cte.[Score_2] AS [Score_2], orig_cte.[Proba_0] AS [Proba_0], orig_cte.[Proba_1] AS [Proba_1], orig_cte.[Proba_2] AS [Proba_2], orig_cte.[LogProba_0] AS [LogProba_0], orig_cte.[LogProba_1] AS [LogProba_1], orig_cte.[LogProba_2] AS [LogProba_2], orig_cte.[Decision] AS [Decision], (SELECT max(score_class_union.[LogProba]) AS max_1 
FROM score_class_union 
WHERE orig_cte.[KEY] = score_class_union.[KEY]) AS [max_LogProba], (SELECT max(score_class_union.[Proba]) AS max_2 
FROM score_class_union 
WHERE orig_cte.[KEY] = score_class_union.[KEY]) AS [max_Proba], (SELECT max(score_class_union.[Score]) AS max_3 
FROM score_class_union 
WHERE orig_cte.[KEY] = score_class_union.[KEY]) AS [max_Score] 
FROM orig_cte), 
arg_max_cte AS 
(SELECT score_max.[KEY] AS [KEY], score_max.[Score_0] AS [Score_0], score_max.[Score_1] AS [Score_1], score_max.[Score_2] AS [Score_2], score_max.[Proba_0] AS [Proba_0], score_max.[Proba_1] AS [Proba_1], score_max.[Proba_2] AS [Proba_2], score_max.[LogProba_0] AS [LogProba_0], score_max.[LogProba_1] AS [LogProba_1], score_max.[LogProba_2] AS [LogProba_2], score_max.[Decision] AS [Decision], score_max.[max_LogProba] AS [max_LogProba], score_max.[max_Proba] AS [max_Proba], score_max.[max_Score] AS [max_Score], (SELECT min(score_class_union.class) AS min_1 
FROM score_class_union 
WHERE score_max.[max_LogProba] = score_class_union.[LogProba] AND score_max.[KEY] = score_class_union.[KEY]) AS [arg_max_LogProba], (SELECT min(score_class_union.class) AS min_2 
FROM score_class_union 
WHERE score_max.[max_Proba] = score_class_union.[Proba] AND score_max.[KEY] = score_class_union.[KEY]) AS [arg_max_Proba], (SELECT min(score_class_union.class) AS min_3 
FROM score_class_union 
WHERE score_max.[max_Score] = score_class_union.[Score] AND score_max.[KEY] = score_class_union.[KEY]) AS [arg_max_Score] 
FROM score_max)
 SELECT arg_max_cte.[KEY] AS [KEY], arg_max_cte.[Score_0] AS [Score_0], arg_max_cte.[Score_1] AS [Score_1], arg_max_cte.[Score_2] AS [Score_2], arg_max_cte.[Proba_0] AS [Proba_0], arg_max_cte.[Proba_1] AS [Proba_1], arg_max_cte.[Proba_2] AS [Proba_2], CASE WHEN (arg_max_cte.[Proba_0] IS NULL OR arg_max_cte.[Proba_0] > 0.0) THEN log(arg_max_cte.[Proba_0]) ELSE -1.79769313486231e+308 END AS [LogProba_0], CASE WHEN (arg_max_cte.[Proba_1] IS NULL OR arg_max_cte.[Proba_1] > 0.0) THEN log(arg_max_cte.[Proba_1]) ELSE -1.79769313486231e+308 END AS [LogProba_1], CASE WHEN (arg_max_cte.[Proba_2] IS NULL OR arg_max_cte.[Proba_2] > 0.0) THEN log(arg_max_cte.[Proba_2]) ELSE -1.79769313486231e+308 END AS [LogProba_2], arg_max_cte.[arg_max_Score] AS [Decision] 
FROM arg_max_cte