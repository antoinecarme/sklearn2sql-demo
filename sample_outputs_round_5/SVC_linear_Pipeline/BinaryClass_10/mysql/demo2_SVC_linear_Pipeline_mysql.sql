-- This SQL code was generated by scikit2sql (development version).
-- Copyright 2017

WITH `ADS_imp_1_OUT` AS 
(SELECT `ADS`.`KEY` AS `KEY`, CASE WHEN (`ADS`.`Feature_0` IS NULL) THEN 0.130993321818 ELSE `ADS`.`Feature_0` END AS impter_2, CASE WHEN (`ADS`.`Feature_1` IS NULL) THEN -0.0225529085714 ELSE `ADS`.`Feature_1` END AS impter_3, CASE WHEN (`ADS`.`Feature_2` IS NULL) THEN 0.138102993445 ELSE `ADS`.`Feature_2` END AS impter_4, CASE WHEN (`ADS`.`Feature_3` IS NULL) THEN 0.187590052174 ELSE `ADS`.`Feature_3` END AS impter_5, CASE WHEN (`ADS`.`Feature_4` IS NULL) THEN -0.0381239988672 ELSE `ADS`.`Feature_4` END AS impter_6, CASE WHEN (`ADS`.`Feature_5` IS NULL) THEN -0.074815490974 ELSE `ADS`.`Feature_5` END AS impter_7, CASE WHEN (`ADS`.`Feature_6` IS NULL) THEN -0.214525247522 ELSE `ADS`.`Feature_6` END AS impter_8, CASE WHEN (`ADS`.`Feature_7` IS NULL) THEN -0.127477043337 ELSE `ADS`.`Feature_7` END AS impter_9, CASE WHEN (`ADS`.`Feature_8` IS NULL) THEN -0.110619776353 ELSE `ADS`.`Feature_8` END AS impter_10, CASE WHEN (`ADS`.`Feature_9` IS NULL) THEN -0.162482054267 ELSE `ADS`.`Feature_9` END AS impter_11 
FROM `BinaryClass_10` AS `ADS`), 
`ADS_sca_2_OUT` AS 
(SELECT `ADS_imp_1_OUT`.`KEY` AS `KEY`, (CAST(`ADS_imp_1_OUT`.impter_2 AS DOUBLE) - 0.130993321818) / 1.1506825676 AS scaler_2, (CAST(`ADS_imp_1_OUT`.impter_3 AS DOUBLE) - -0.0225529085714) / 0.907065538047 AS scaler_3, (CAST(`ADS_imp_1_OUT`.impter_4 AS DOUBLE) - 0.138102993445) / 1.01717520619 AS scaler_4, (CAST(`ADS_imp_1_OUT`.impter_5 AS DOUBLE) - 0.187590052174) / 1.51230507138 AS scaler_5, (CAST(`ADS_imp_1_OUT`.impter_6 AS DOUBLE) - -0.0381239988672) / 0.999576236431 AS scaler_6, (CAST(`ADS_imp_1_OUT`.impter_7 AS DOUBLE) - -0.074815490974) / 1.3391435215 AS scaler_7, (CAST(`ADS_imp_1_OUT`.impter_8 AS DOUBLE) - -0.214525247522) / 1.08029584985 AS scaler_8, (CAST(`ADS_imp_1_OUT`.impter_9 AS DOUBLE) - -0.127477043337) / 0.81284144491 AS scaler_9, (CAST(`ADS_imp_1_OUT`.impter_10 AS DOUBLE) - -0.110619776353) / 0.953247120193 AS scaler_10, (CAST(`ADS_imp_1_OUT`.impter_11 AS DOUBLE) - -0.162482054267) / 1.01744133983 AS scaler_11 
FROM `ADS_imp_1_OUT`), 
`SV_data` AS 
(SELECT `Values`.sv_idx AS sv_idx, `Values`.dual_coeff AS dual_coeff, `Values`.sv_0 AS sv_0, `Values`.sv_1 AS sv_1, `Values`.sv_2 AS sv_2, `Values`.sv_3 AS sv_3, `Values`.sv_4 AS sv_4, `Values`.sv_5 AS sv_5, `Values`.sv_6 AS sv_6, `Values`.sv_7 AS sv_7, `Values`.sv_8 AS sv_8, `Values`.sv_9 AS sv_9 
FROM (SELECT 0 AS sv_idx, -0.214723164005 AS dual_coeff, 1.02231097321 AS sv_0, -1.79509069151 AS sv_1, 1.80571773285 AS sv_2, 0.953353267581 AS sv_3, 0.863161668855 AS sv_4, -0.265813265137 AS sv_5, -0.59335594973 AS sv_6, -2.22181375797 AS sv_7, -1.03306510329 AS sv_8, -1.11270930354 AS sv_9 UNION ALL SELECT 1 AS sv_idx, -0.441849319825 AS dual_coeff, 1.20952617505 AS sv_0, -0.225435683846 AS sv_1, -0.96582422411 AS sv_2, 1.09286379988 AS sv_3, 0.96959591929 AS sv_4, -0.262963350355 AS sv_5, -0.471267751829 AS sv_6, -0.719532182016 AS sv_7, -1.2202723584 AS sv_8, -0.681270056476 AS sv_9 UNION ALL SELECT 2 AS sv_idx, -0.924246842147 AS dual_coeff, -1.42978631066 AS sv_0, 0.788675224716 AS sv_1, 0.376927455842 AS sv_2, -0.910209717335 AS sv_3, 2.37186956725 AS sv_4, -0.249830822625 AS sv_5, 1.24003503976 AS sv_6, 0.284929127823 AS sv_7, 1.42097381406 AS sv_8, 0.508228587302 AS sv_9 UNION ALL SELECT 3 AS sv_idx, -0.813956217888 AS dual_coeff, -1.08134519883 AS sv_0, 0.0966529126362 AS sv_1, 1.15736135006 AS sv_2, -0.310795430861 AS sv_3, 0.815672183774 AS sv_4, -0.743641833464 AS sv_5, -1.47383244053 AS sv_6, 0.543046372751 AS sv_7, 1.05339441302 AS sv_8, 0.758939780692 AS sv_9 UNION ALL SELECT 4 AS sv_idx, -1.0 AS dual_coeff, -0.915488265508 AS sv_0, -0.341403344463 AS sv_1, 0.58903982841 AS sv_2, -0.46905185576 AS sv_3, -0.42103214343 AS sv_4, -0.327071596026 AS sv_5, -0.120738773377 AS sv_6, -0.347750031883 AS sv_7, 0.9034331268 AS sv_8, 0.817577689708 AS sv_9 UNION ALL SELECT 5 AS sv_idx, -1.0 AS dual_coeff, 1.07530167566 AS sv_0, 0.282936081941 AS sv_1, 1.10482218639 AS sv_2, 1.09315426115 AS sv_3, 1.31498413736 AS sv_4, -0.412368574352 AS sv_5, -0.145051394463 AS sv_6, 1.33004254001 AS sv_7, -1.09170843417 AS sv_8, -0.627450869238 AS sv_9 UNION ALL SELECT 6 AS sv_idx, -0.892231521807 AS dual_coeff, 1.23014252271 AS sv_0, -0.83429642321 AS sv_1, 0.783136233404 AS sv_2, 1.13676973752 AS sv_3, 0.0779190817123 AS sv_4, -0.304579644457 AS sv_5, 1.2530255548 AS sv_6, 0.425571468667 AS sv_7, -1.24249686047 AS sv_8, -0.0209948273681 AS sv_9 UNION ALL SELECT 7 AS sv_idx, -0.868956545409 AS dual_coeff, 1.35405619894 AS sv_0, -1.76097114255 AS sv_1, -1.69269516861 AS sv_2, 1.13551441553 AS sv_3, 1.55804247351 AS sv_4, -0.165201213006 AS sv_5, 0.635728137588 AS sv_6, 1.06611863687 AS sv_7, -1.36112914486 AS sv_8, -0.129008147656 AS sv_9 UNION ALL SELECT 8 AS sv_idx, -0.848957944688 AS dual_coeff, 1.29705191817 AS sv_0, 0.120086925851 AS sv_1, -1.32105384067 AS sv_2, 1.31323746093 AS sv_3, -1.39962861538 AS sv_4, -0.489550554526 AS sv_5, -0.717607501329 AS sv_6, -0.877807572553 AS sv_7, -1.31654058699 AS sv_8, 1.14377811323 AS sv_9 UNION ALL SELECT 9 AS sv_idx, -1.0 AS dual_coeff, -0.840117009964 AS sv_0, 2.46071111334 AS sv_1, -0.00689682611657 AS sv_2, -1.03920189607 AS sv_3, 1.12382804754 AS sv_4, 0.594147639339 AS sv_5, -0.766529987803 AS sv_6, 0.910278235648 AS sv_7, 0.863371968508 AS sv_8, 0.223923033222 AS sv_9 UNION ALL SELECT 10 AS sv_idx, 1.0 AS dual_coeff, -0.178810473726 AS sv_0, -0.830859895513 AS sv_1, -0.794023156559 AS sv_2, -0.132533600645 AS sv_3, 1.18120106586 AS sv_4, -0.00377060262644 AS sv_5, -1.03992152525 AS sv_6, 0.275188422106 AS sv_7, 0.178762643549 AS sv_8, -1.03547426034 AS sv_9 UNION ALL SELECT 11 AS sv_idx, 1.0 AS dual_coeff, 0.266987012928 AS sv_0, 0.888676080506 AS sv_1, 1.41541105277 AS sv_2, -0.0983838023233 AS sv_3, 1.31267441548 AS sv_4, 0.440862372411 AS sv_5, 1.63065997985 AS sv_6, -0.126945098943 AS sv_7, -0.250213960903 AS sv_8, 1.36361027476 AS sv_9 UNION ALL SELECT 12 AS sv_idx, 1.0 AS dual_coeff, 1.78698603414 AS sv_0, -0.542589963967 AS sv_1, 1.206601269 AS sv_2, 1.15913830803 AS sv_3, 0.893638136479 AS sv_4, 0.280612481771 AS sv_5, 0.308979401882 AS sv_6, 0.743281736094 AS sv_7, -1.77718581832 AS sv_8, 0.671623757855 AS sv_9 UNION ALL SELECT 13 AS sv_idx, 1.0 AS dual_coeff, -1.36375394993 AS sv_0, -0.151817549464 AS sv_1, -0.932136664815 AS sv_2, -0.94880165798 AS sv_3, 0.607305491959 AS sv_4, -0.119847726759 AS sv_5, -1.21135383294 AS sv_6, -0.473379027514 AS sv_7, 1.35989366276 AS sv_8, 0.172958605878 AS sv_9 UNION ALL SELECT 14 AS sv_idx, 1.0 AS dual_coeff, -0.265527317216 AS sv_0, 0.461083702672 AS sv_1, 0.785961898155 AS sv_2, 0.202915445014 AS sv_3, 0.552928960668 AS sv_4, -0.592801541513 AS sv_5, 0.0821534338118 AS sv_6, 1.74373100827 AS sv_7, 0.24292295096 AS sv_8, 1.49769994262 AS sv_9 UNION ALL SELECT 15 AS sv_idx, 1.0 AS dual_coeff, -0.0255263006264 AS sv_0, -0.149804104247 AS sv_1, 0.0351961998613 AS sv_2, 0.0892489817913 AS sv_3, -0.16135848235 AS sv_4, -0.159440911109 AS sv_5, 0.0231776447309 AS sv_6, 1.41669143722 AS sv_7, 0.0194217326099 AS sv_8, -0.790247884756 AS sv_9 UNION ALL SELECT 16 AS sv_idx, 1.0 AS dual_coeff, -0.62336447367 AS sv_0, 1.11663718433 AS sv_1, -0.584055832621 AS sv_2, -0.404391334893 AS sv_3, 0.380660744711 AS sv_4, -0.0978251447196 AS sv_5, -0.839079347121 AS sv_6, 0.30939328253 AS sv_7, 0.619948207139 AS sv_8, 0.11314641677 AS sv_9 UNION ALL SELECT 17 AS sv_idx, 1.0 AS dual_coeff, 2.05376498965 AS sv_0, -0.166530386906 AS sv_1, 0.0711725969547 AS sv_2, 1.41769087404 AS sv_3, 0.798119832427 AS sv_4, 0.196896438128 AS sv_5, 0.337717479282 AS sv_6, -1.31221362635 AS sv_7, -2.04732181517 AS sv_8, -0.077612442053 AS sv_9 UNION ALL SELECT 18 AS sv_idx, 0.00492155576916 AS dual_coeff, -1.12220426232 AS sv_0, 1.05686674097 AS sv_1, -0.509792279152 AS sv_2, -1.26914638465 AS sv_3, 0.15893613029 AS sv_4, 0.618846785734 AS sv_5, 2.58631290152 AS sv_6, 0.670205756527 AS sv_7, 1.14655983659 AS sv_8, -0.566125833593 AS sv_9) AS `Values`), 
kernel_cte AS 
(SELECT t.`KEY` AS `KEY`, t.dot_product AS dot_product 
FROM (SELECT full_join_data_sv.`KEY` AS `KEY`, sum(full_join_data_sv.dot_prod1) + 0.13702703505 AS dot_product 
FROM (SELECT `ADS_sca_2_OUT`.`KEY` AS `KEY`, `SV_data`.dual_coeff * (`ADS_sca_2_OUT`.scaler_2 * `SV_data`.sv_0 + `ADS_sca_2_OUT`.scaler_3 * `SV_data`.sv_1 + `ADS_sca_2_OUT`.scaler_4 * `SV_data`.sv_2 + `ADS_sca_2_OUT`.scaler_5 * `SV_data`.sv_3 + `ADS_sca_2_OUT`.scaler_6 * `SV_data`.sv_4 + `ADS_sca_2_OUT`.scaler_7 * `SV_data`.sv_5 + `ADS_sca_2_OUT`.scaler_8 * `SV_data`.sv_6 + `ADS_sca_2_OUT`.scaler_9 * `SV_data`.sv_7 + `ADS_sca_2_OUT`.scaler_10 * `SV_data`.sv_8 + `ADS_sca_2_OUT`.scaler_11 * `SV_data`.sv_9) AS dot_prod1 
FROM `ADS_sca_2_OUT`, `SV_data`) AS full_join_data_sv GROUP BY full_join_data_sv.`KEY`) AS t)
 SELECT kernel_cte.`KEY` AS `KEY`, -kernel_cte.dot_product AS `Score_0`, kernel_cte.dot_product AS `Score_1`, NULL AS `Proba_0`, NULL AS `Proba_1`, NULL AS `LogProba_0`, NULL AS `LogProba_1`, CASE WHEN (kernel_cte.dot_product >= 0.0) THEN 1 ELSE 0 END AS `Decision` 
FROM kernel_cte