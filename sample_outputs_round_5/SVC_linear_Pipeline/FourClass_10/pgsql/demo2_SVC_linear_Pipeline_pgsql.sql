-- This SQL code was generated by scikit2sql (development version).
-- Copyright 2017

WITH "ADS_imp_1_OUT" AS 
(SELECT "ADS"."KEY" AS "KEY", CASE WHEN ("ADS"."Feature_0" IS NULL) THEN -0.0133448237776 ELSE "ADS"."Feature_0" END AS impter_2, CASE WHEN ("ADS"."Feature_1" IS NULL) THEN 0.106138095292 ELSE "ADS"."Feature_1" END AS impter_3, CASE WHEN ("ADS"."Feature_2" IS NULL) THEN -0.32505367705 ELSE "ADS"."Feature_2" END AS impter_4, CASE WHEN ("ADS"."Feature_3" IS NULL) THEN -0.139819865877 ELSE "ADS"."Feature_3" END AS impter_5, CASE WHEN ("ADS"."Feature_4" IS NULL) THEN 0.165639229947 ELSE "ADS"."Feature_4" END AS impter_6, CASE WHEN ("ADS"."Feature_5" IS NULL) THEN -0.173357371976 ELSE "ADS"."Feature_5" END AS impter_7, CASE WHEN ("ADS"."Feature_6" IS NULL) THEN -0.125961897885 ELSE "ADS"."Feature_6" END AS impter_8, CASE WHEN ("ADS"."Feature_7" IS NULL) THEN 0.0930734814367 ELSE "ADS"."Feature_7" END AS impter_9, CASE WHEN ("ADS"."Feature_8" IS NULL) THEN -0.0909048970868 ELSE "ADS"."Feature_8" END AS impter_10, CASE WHEN ("ADS"."Feature_9" IS NULL) THEN 0.0982925514991 ELSE "ADS"."Feature_9" END AS impter_11 
FROM "FourClass_10" AS "ADS"), 
"ADS_sca_2_OUT" AS 
(SELECT "ADS_imp_1_OUT"."KEY" AS "KEY", (CAST("ADS_imp_1_OUT".impter_2 AS FLOAT) - -0.0133448237776) / 0.883264672157 AS scaler_2, (CAST("ADS_imp_1_OUT".impter_3 AS FLOAT) - 0.106138095292) / 0.975549839181 AS scaler_3, (CAST("ADS_imp_1_OUT".impter_4 AS FLOAT) - -0.32505367705) / 1.38058222727 AS scaler_4, (CAST("ADS_imp_1_OUT".impter_5 AS FLOAT) - -0.139819865877) / 1.39692051501 AS scaler_5, (CAST("ADS_imp_1_OUT".impter_6 AS FLOAT) - 0.165639229947) / 1.16972496756 AS scaler_6, (CAST("ADS_imp_1_OUT".impter_7 AS FLOAT) - -0.173357371976) / 1.57717232283 AS scaler_7, (CAST("ADS_imp_1_OUT".impter_8 AS FLOAT) - -0.125961897885) / 1.04271624996 AS scaler_8, (CAST("ADS_imp_1_OUT".impter_9 AS FLOAT) - 0.0930734814367) / 0.859262954218 AS scaler_9, (CAST("ADS_imp_1_OUT".impter_10 AS FLOAT) - -0.0909048970868) / 1.70173586388 AS scaler_10, (CAST("ADS_imp_1_OUT".impter_11 AS FLOAT) - 0.0982925514991) / 1.46879895389 AS scaler_11 
FROM "ADS_imp_1_OUT"), 
"SV_data_0" AS 
(SELECT "Values".sv_idx AS sv_idx, "Values".dual_coeff AS dual_coeff, "Values".sv_0 AS sv_0, "Values".sv_1 AS sv_1, "Values".sv_2 AS sv_2, "Values".sv_3 AS sv_3, "Values".sv_4 AS sv_4, "Values".sv_5 AS sv_5, "Values".sv_6 AS sv_6, "Values".sv_7 AS sv_7, "Values".sv_8 AS sv_8, "Values".sv_9 AS sv_9 
FROM (SELECT 0 AS sv_idx, 0.546895655153 AS dual_coeff, -1.45784196516 AS sv_0, -0.50997222108 AS sv_1, -0.301976525236 AS sv_2, -0.792327302914 AS sv_3, -1.59903327075 AS sv_4, 0.561143432221 AS sv_5, 0.0501771111099 AS sv_6, 0.313809100686 AS sv_7, -0.631430274773 AS sv_8, -0.513333678927 AS sv_9 UNION ALL SELECT 1 AS sv_idx, 1.0 AS dual_coeff, -0.506517149152 AS sv_0, -0.470848575383 AS sv_1, 0.755469775411 AS sv_2, -0.839870358336 AS sv_3, 0.643153795896 AS sv_4, -0.111938185019 AS sv_5, 0.910338034546 AS sv_6, 0.480446541865 AS sv_7, -1.06642008238 AS sv_8, 0.585601577351 AS sv_9 UNION ALL SELECT 2 AS sv_idx, 0.0 AS dual_coeff, 1.75482490105 AS sv_0, -1.090647955 AS sv_1, -0.216165459592 AS sv_2, -0.52447837404 AS sv_3, 0.954115356991 AS sv_4, 0.859124000161 AS sv_5, -0.70338095092 AS sv_6, 0.174829758841 AS sv_7, 0.071435923074 AS sv_8, -0.846001390943 AS sv_9 UNION ALL SELECT 3 AS sv_idx, 1.0 AS dual_coeff, -0.655473580394 AS sv_0, 0.193746960927 AS sv_1, 0.233939009726 AS sv_2, 0.186996438234 AS sv_3, -1.53666342229 AS sv_4, 0.82223185099 AS sv_5, -0.613428420434 AS sv_6, -0.0857382854818 AS sv_7, 1.28573187122 AS sv_8, -0.787208577388 AS sv_9 UNION ALL SELECT 4 AS sv_idx, 0.0 AS dual_coeff, -0.240875878786 AS sv_0, 1.25134715483 AS sv_1, -0.442099813663 AS sv_2, -0.636039464979 AS sv_3, 1.38362308216 AS sv_4, 0.346585851078 AS sv_5, -0.4520174615 AS sv_6, 0.264451755438 AS sv_7, -0.583458172413 AS sv_8, -0.373984006659 AS sv_9 UNION ALL SELECT 5 AS sv_idx, 0.0 AS dual_coeff, 0.577311121326 AS sv_0, 0.690636283745 AS sv_1, -0.991968223756 AS sv_2, -0.689106641678 AS sv_3, 0.790297596775 AS sv_4, 0.715239313561 AS sv_5, -0.294424457843 AS sv_6, 0.432866034431 AS sv_7, 0.327255476927 AS sv_8, -0.887596421321 AS sv_9 UNION ALL SELECT 6 AS sv_idx, 0.0 AS dual_coeff, 0.824073581674 AS sv_0, 0.150492778456 AS sv_1, -1.41686124679 AS sv_2, -1.34810185552 AS sv_3, 0.342351255921 AS sv_4, 0.55379068036 AS sv_5, -0.951589034631 AS sv_6, 1.15608130505 AS sv_7, 0.663880632643 AS sv_8, -0.616386206119 AS sv_9 UNION ALL SELECT 7 AS sv_idx, 0.0 AS dual_coeff, -0.611213763044 AS sv_0, 0.380914312446 AS sv_1, -0.800879435114 AS sv_2, -0.450318375547 AS sv_3, -0.875484764602 AS sv_4, 0.655323447877 AS sv_5, 0.693601589187 AS sv_6, 0.108417597455 AS sv_7, -0.163714319533 AS sv_8, -0.870498908558 AS sv_9 UNION ALL SELECT 8 AS sv_idx, 0.35464725665 AS dual_coeff, -0.385604781396 AS sv_0, -1.34105801501 AS sv_1, 0.303519195387 AS sv_2, -2.3399251539 AS sv_3, -1.68490475081 AS sv_4, -0.477788027661 AS sv_5, -0.891484496888 AS sv_6, 1.67165359844 AS sv_7, -1.92748941004 AS sv_8, 1.25794802651 AS sv_9 UNION ALL SELECT 9 AS sv_idx, 0.404642030892 AS dual_coeff, 0.158074809789 AS sv_0, -1.8989791017 AS sv_1, 0.826187054647 AS sv_2, 0.278380567408 AS sv_3, 0.0372185345132 AS sv_4, 0.953348548033 AS sv_5, -1.41843281332 AS sv_6, -0.293317419888 AS sv_7, 0.973371938669 AS sv_8, -0.776641896494 AS sv_9 UNION ALL SELECT 10 AS sv_idx, 0.0 AS dual_coeff, -1.12383978433 AS sv_0, 0.468720222643 AS sv_1, 0.818007579927 AS sv_2, -0.866653550927 AS sv_3, 0.3460771266 AS sv_4, 1.28648388522 AS sv_5, 0.313822325944 AS sv_6, 0.520322458484 AS sv_7, 0.724333013739 AS sv_8, -0.788629051263 AS sv_9 UNION ALL SELECT 11 AS sv_idx, 0.797535653364 AS dual_coeff, -2.96256512404 AS sv_0, -0.867930416567 AS sv_1, -0.394777511744 AS sv_2, -0.551918086971 AS sv_3, 0.73099032135 AS sv_4, -0.0534090513941 AS sv_5, -0.0978979876426 AS sv_6, 0.315615561399 AS sv_7, -0.64068932297 AS sv_8, 0.0519971831147 AS sv_9 UNION ALL SELECT 12 AS sv_idx, 0.864836005999 AS dual_coeff, 0.174818870055 AS sv_0, 0.445531039864 AS sv_1, -0.490369117862 AS sv_2, 0.16623464304 AS sv_3, -0.119442754317 AS sv_4, 0.70593698267 AS sv_5, 0.806720713424 AS sv_6, -0.284851632811 AS sv_7, 0.402098047334 AS sv_8, -0.976308171537 AS sv_9) AS "Values"), 
kernel_cte_0 AS 
(SELECT t_1."KEY" AS "KEY_0", t_1.dot_product AS "Score_0" 
FROM (SELECT full_join_data_sv_1."KEY" AS "KEY", sum(full_join_data_sv_1.dot_prod1) + 0.0640046683941 AS dot_product 
FROM (SELECT "ADS_sca_2_OUT"."KEY" AS "KEY", "SV_data_0".dual_coeff * ("ADS_sca_2_OUT".scaler_2 * "SV_data_0".sv_0 + "ADS_sca_2_OUT".scaler_3 * "SV_data_0".sv_1 + "ADS_sca_2_OUT".scaler_4 * "SV_data_0".sv_2 + "ADS_sca_2_OUT".scaler_5 * "SV_data_0".sv_3 + "ADS_sca_2_OUT".scaler_6 * "SV_data_0".sv_4 + "ADS_sca_2_OUT".scaler_7 * "SV_data_0".sv_5 + "ADS_sca_2_OUT".scaler_8 * "SV_data_0".sv_6 + "ADS_sca_2_OUT".scaler_9 * "SV_data_0".sv_7 + "ADS_sca_2_OUT".scaler_10 * "SV_data_0".sv_8 + "ADS_sca_2_OUT".scaler_11 * "SV_data_0".sv_9) AS dot_prod1 
FROM "ADS_sca_2_OUT", "SV_data_0") AS full_join_data_sv_1 GROUP BY full_join_data_sv_1."KEY") AS t_1), 
"SV_data_1" AS 
(SELECT "Values".sv_idx AS sv_idx, "Values".dual_coeff AS dual_coeff, "Values".sv_0 AS sv_0, "Values".sv_1 AS sv_1, "Values".sv_2 AS sv_2, "Values".sv_3 AS sv_3, "Values".sv_4 AS sv_4, "Values".sv_5 AS sv_5, "Values".sv_6 AS sv_6, "Values".sv_7 AS sv_7, "Values".sv_8 AS sv_8, "Values".sv_9 AS sv_9 
FROM (SELECT 0 AS sv_idx, -0.765259809454 AS dual_coeff, -1.2536067397 AS sv_0, 0.203389241891 AS sv_1, 1.53929595592 AS sv_2, -0.949094539606 AS sv_3, -0.100469631934 AS sv_4, -0.269911890756 AS sv_5, 0.469213455117 AS sv_6, 0.96392883314 AS sv_7, 0.0781929727813 AS sv_8, 1.16140651313 AS sv_9 UNION ALL SELECT 1 AS sv_idx, -1.0 AS dual_coeff, -0.51026084997 AS sv_0, -0.903304658484 AS sv_1, 0.503168602943 AS sv_2, -0.789810098924 AS sv_3, -0.815397134547 AS sv_4, 0.416402897435 AS sv_5, 0.855550422177 AS sv_6, 0.340366752339 AS sv_7, -0.741389966312 AS sv_8, -0.0781378814126 AS sv_9 UNION ALL SELECT 2 AS sv_idx, -0.0 AS dual_coeff, 0.405843644785 AS sv_0, -0.430539470763 AS sv_1, -0.368227193803 AS sv_2, 1.28294944237 AS sv_3, -0.743484809651 AS sv_4, -0.316917203493 AS sv_5, -0.247299020763 AS sv_6, -1.25238139601 AS sv_7, -0.84079566691 AS sv_8, -0.268527908608 AS sv_9 UNION ALL SELECT 3 AS sv_idx, -0.0281599700108 AS dual_coeff, 0.673542617416 AS sv_0, 0.246420028364 AS sv_1, -1.42882371181 AS sv_2, 0.268834984808 AS sv_3, 0.589891639099 AS sv_4, -1.61278489266 AS sv_5, -0.180788923023 AS sv_6, -0.216608818125 AS sv_7, -1.87896916497 AS sv_8, 1.04089074193 AS sv_9 UNION ALL SELECT 4 AS sv_idx, -0.0 AS dual_coeff, 0.535040931979 AS sv_0, 0.396895623695 AS sv_1, 0.126476850831 AS sv_2, 1.14117829681 AS sv_3, 2.47196887372 AS sv_4, 0.181557435712 AS sv_5, -1.97642562016 AS sv_6, -1.44921023091 AS sv_7, -1.37619550783 AS sv_8, -0.638126446271 AS sv_9 UNION ALL SELECT 5 AS sv_idx, -1.0 AS dual_coeff, -2.14284743627 AS sv_0, -0.0245785421174 AS sv_1, -0.569126421259 AS sv_2, -0.0451384794046 AS sv_3, -0.338448755616 AS sv_4, 0.250674693886 AS sv_5, 0.114264413898 AS sv_6, 0.0177934865574 AS sv_7, 0.257059691287 AS sv_8, -0.443221768193 AS sv_9 UNION ALL SELECT 6 AS sv_idx, -0.0 AS dual_coeff, -1.18961267646 AS sv_0, 0.101420861057 AS sv_1, 1.22950694918 AS sv_2, -0.215585805621 AS sv_3, 0.284508417626 AS sv_4, 0.0840327570587 AS sv_5, -0.708765043411 AS sv_6, 0.108289311237 AS sv_7, -0.228226371855 AS sv_8, 0.395666568679 AS sv_9 UNION ALL SELECT 7 AS sv_idx, -1.0 AS dual_coeff, -1.46091037039 AS sv_0, 0.547658147993 AS sv_1, 1.30833339554 AS sv_2, -0.221830019618 AS sv_3, -1.19469230019 AS sv_4, 1.46000038533 AS sv_5, -0.405835307134 AS sv_6, -0.315138002125 AS sv_7, -0.0405981839837 AS sv_8, -1.07834629133 AS sv_9 UNION ALL SELECT 8 AS sv_idx, -0.0 AS dual_coeff, -0.38877799695 AS sv_0, 0.0814417763703 AS sv_1, -0.265394806361 AS sv_2, 1.77042831164 AS sv_3, 0.72144788582 AS sv_4, -0.954602807689 AS sv_5, 2.00796667684 AS sv_6, -1.56622734234 AS sv_7, -1.23886920035 AS sv_8, 0.280058127679 AS sv_9 UNION ALL SELECT 9 AS sv_idx, -0.0 AS dual_coeff, -0.209572809814 AS sv_0, 0.537570455821 AS sv_1, -0.178171643978 AS sv_2, -0.708497771375 AS sv_3, -1.06970494336 AS sv_4, -1.07833149885 AS sv_5, 1.81075220724 AS sv_6, 0.638395785237 AS sv_7, -1.26370757263 AS sv_8, 1.26327425298 AS sv_9 UNION ALL SELECT 10 AS sv_idx, -0.142704662294 AS dual_coeff, 0.981814319208 AS sv_0, 2.39376598796 AS sv_1, -0.895386141704 AS sv_2, 0.45793119696 AS sv_3, 0.526760781508 AS sv_4, -0.822674899284 AS sv_5, 0.568478470267 AS sv_6, -0.262122260912 AS sv_7, -0.496302609307 AS sv_8, 0.401838259104 AS sv_9 UNION ALL SELECT 11 AS sv_idx, -0.0324321602994 AS dual_coeff, -0.0664722858025 AS sv_0, 0.20132340444 AS sv_1, 1.05849244071 AS sv_2, -0.90550788015 AS sv_3, -0.74724919924 AS sv_4, -0.17474858737 AS sv_5, 1.54968260177 AS sv_6, 0.774967837425 AS sv_7, -0.317969827742 AS sv_8, 0.841424665905 AS sv_9 UNION ALL SELECT 12 AS sv_idx, -0.0 AS dual_coeff, -0.213923065244 AS sv_0, -1.11130915227 AS sv_1, 2.14198075684 AS sv_2, -1.28521537451 AS sv_3, -0.509184380995 AS sv_4, -0.641305442333 AS sv_5, 1.84439319961 AS sv_6, 1.42684770802 AS sv_7, 0.191144635411 AS sv_8, 1.90399823235 AS sv_9 UNION ALL SELECT 13 AS sv_idx, -0.0 AS dual_coeff, 0.480373824223 AS sv_0, 1.13257799092 AS sv_1, 0.68054265042 AS sv_2, 1.00213842638 AS sv_3, -1.86626008447 AS sv_4, 1.85527252469 AS sv_5, -0.522267193185 AS sv_6, -1.69121229393 AS sv_7, -0.607095952989 AS sv_8, -2.18400273133 AS sv_9 UNION ALL SELECT 14 AS sv_idx, -1.0 AS dual_coeff, 0.591299688945 AS sv_0, -1.97078564054 AS sv_1, -0.748875793433 AS sv_2, 0.496023951794 AS sv_3, 0.176308680352 AS sv_4, -0.423585913306 AS sv_5, -0.790759958739 AS sv_6, -0.437765977099 AS sv_7, -0.510254647766 AS sv_8, -0.000387154966506 AS sv_9 UNION ALL SELECT 15 AS sv_idx, -0.0 AS dual_coeff, 1.01168759842 AS sv_0, 0.413354130072 AS sv_1, -0.403058308174 AS sv_2, 1.77102532529 AS sv_3, 1.21582781179 AS sv_4, -0.0251714521371 AS sv_5, -1.184375959 AS sv_6, -1.94837142662 AS sv_7, -1.4295327105 AS sv_8, -0.809173076278 AS sv_9) AS "Values"), 
kernel_cte_1 AS 
(SELECT t_2."KEY" AS "KEY_1", t_2.dot_product AS "Score_1" 
FROM (SELECT full_join_data_sv_2."KEY" AS "KEY", sum(full_join_data_sv_2.dot_prod1) + -0.0297399803946 AS dot_product 
FROM (SELECT "ADS_sca_2_OUT"."KEY" AS "KEY", "SV_data_1".dual_coeff * ("ADS_sca_2_OUT".scaler_2 * "SV_data_1".sv_0 + "ADS_sca_2_OUT".scaler_3 * "SV_data_1".sv_1 + "ADS_sca_2_OUT".scaler_4 * "SV_data_1".sv_2 + "ADS_sca_2_OUT".scaler_5 * "SV_data_1".sv_3 + "ADS_sca_2_OUT".scaler_6 * "SV_data_1".sv_4 + "ADS_sca_2_OUT".scaler_7 * "SV_data_1".sv_5 + "ADS_sca_2_OUT".scaler_8 * "SV_data_1".sv_6 + "ADS_sca_2_OUT".scaler_9 * "SV_data_1".sv_7 + "ADS_sca_2_OUT".scaler_10 * "SV_data_1".sv_8 + "ADS_sca_2_OUT".scaler_11 * "SV_data_1".sv_9) AS dot_prod1 
FROM "ADS_sca_2_OUT", "SV_data_1") AS full_join_data_sv_2 GROUP BY full_join_data_sv_2."KEY") AS t_2), 
"SV_data_2" AS 
(SELECT "Values".sv_idx AS sv_idx, "Values".dual_coeff AS dual_coeff, "Values".sv_0 AS sv_0, "Values".sv_1 AS sv_1, "Values".sv_2 AS sv_2, "Values".sv_3 AS sv_3, "Values".sv_4 AS sv_4, "Values".sv_5 AS sv_5, "Values".sv_6 AS sv_6, "Values".sv_7 AS sv_7, "Values".sv_8 AS sv_8, "Values".sv_9 AS sv_9 
FROM (SELECT 0 AS sv_idx, -1.0 AS dual_coeff, 2.0852440132 AS sv_0, -0.0489374678664 AS sv_1, 0.512069044423 AS sv_2, -0.257201379499 AS sv_3, -0.730394158708 AS sv_4, 1.20015673272 AS sv_5, -1.31878628002 AS sv_6, -0.201501350019 AS sv_7, -0.0388372566326 AS sv_8, -1.06143335991 AS sv_9 UNION ALL SELECT 1 AS sv_idx, -0.663453803251 AS dual_coeff, -0.221078522723 AS sv_0, 0.613937885906 AS sv_1, -2.08215461276 AS sv_2, -1.54977720454 AS sv_3, -0.47464371743 AS sv_4, -0.56938521762 AS sv_5, 0.621669614661 AS sv_6, 2.11321954383 AS sv_7, 2.05758119682 AS sv_8, 0.561689964909 AS sv_9 UNION ALL SELECT 2 AS sv_idx, -0.0 AS dual_coeff, 1.16302962065 AS sv_0, 0.373089341977 AS sv_1, 0.892326142097 AS sv_2, 0.870776613981 AS sv_3, -0.483309477701 AS sv_4, -0.391463609648 AS sv_5, -0.0470921265838 AS sv_6, -0.542237737514 AS sv_7, 0.253290400768 AS sv_8, 0.479871051422 AS sv_9 UNION ALL SELECT 3 AS sv_idx, -0.0 AS dual_coeff, -0.123918237863 AS sv_0, 0.611103029964 AS sv_1, 0.834462813137 AS sv_2, 0.888147726507 AS sv_3, 0.47471214422 AS sv_4, -0.31479584598 AS sv_5, -0.825252957319 AS sv_6, -0.472740882976 AS sv_7, 0.650134986336 AS sv_8, 0.399653433922 AS sv_9 UNION ALL SELECT 4 AS sv_idx, -0.0 AS dual_coeff, -0.770164533267 AS sv_0, 2.54502176928 AS sv_1, 0.62027535895 AS sv_2, 1.01113145113 AS sv_3, 1.2105538726 AS sv_4, -0.441061515224 AS sv_5, 1.50336980436 AS sv_6, -0.568138925377 AS sv_7, 0.544866364122 AS sv_8, 0.414551329576 AS sv_9 UNION ALL SELECT 5 AS sv_idx, -0.0 AS dual_coeff, 0.237263849689 AS sv_0, -0.238032392696 AS sv_1, 0.390032970647 AS sv_2, 1.33475762857 AS sv_3, 0.200694003394 AS sv_4, -0.692206699791 AS sv_5, -0.333121937046 AS sv_6, -0.787480703568 AS sv_7, 0.467286163809 AS sv_8, 0.497524575462 AS sv_9 UNION ALL SELECT 6 AS sv_idx, -0.0 AS dual_coeff, 0.315097510301 AS sv_0, -1.63964405678 AS sv_1, 0.823757085603 AS sv_2, 1.06408069812 AS sv_3, -1.01889847727 AS sv_4, -0.520170096114 AS sv_5, 0.152099111023 AS sv_6, -0.391727960933 AS sv_7, 1.22602568615 AS sv_8, 0.608847722277 AS sv_9 UNION ALL SELECT 7 AS sv_idx, -1.0 AS dual_coeff, -1.0327855649 AS sv_0, -1.27990936971 AS sv_1, 0.274821618143 AS sv_2, -0.283692744158 AS sv_3, 0.875958585294 AS sv_4, -0.318615538733 AS sv_5, -0.684029700066 AS sv_6, 0.344301296509 AS sv_7, -0.065844732549 AS sv_8, 0.537312328116 AS sv_9 UNION ALL SELECT 8 AS sv_idx, -0.0 AS dual_coeff, 2.37705403617 AS sv_0, 1.55011848519 AS sv_1, 0.766789849681 AS sv_2, 0.650300833377 AS sv_3, 1.24354015296 AS sv_4, -0.143339414027 AS sv_5, -0.767097185193 AS sv_6, -0.273838154562 AS sv_7, 0.833597484301 AS sv_8, 0.27911077591 AS sv_9 UNION ALL SELECT 9 AS sv_idx, -0.0 AS dual_coeff, 0.268349285642 AS sv_0, -1.14096694843 AS sv_1, -1.2141465331 AS sv_2, -1.13500418039 AS sv_3, 0.368805638265 AS sv_4, -0.861181107155 AS sv_5, 0.805238445112 AS sv_6, 1.62799342469 AS sv_7, 1.22749482778 AS sv_8, 0.989907573357 AS sv_9 UNION ALL SELECT 10 AS sv_idx, -0.0 AS dual_coeff, 0.301264081132 AS sv_0, 0.125095659597 AS sv_1, 0.740999937601 AS sv_2, 1.05545980699 AS sv_3, -1.43215726931 AS sv_4, -0.306502709065 AS sv_5, 1.29908371177 AS sv_6, -0.615833727226 AS sv_7, 0.675399779213 AS sv_8, 0.304198962005 AS sv_9 UNION ALL SELECT 11 AS sv_idx, -0.0 AS dual_coeff, 0.227924845627 AS sv_0, 0.506599445545 AS sv_1, -1.68424210359 AS sv_2, -1.27764288406 AS sv_3, 0.602617151742 AS sv_4, -0.611641938123 AS sv_5, 0.608009576296 AS sv_6, 1.79982564729 AS sv_7, 1.72244984748 AS sv_8, 0.633462482353 AS sv_9 UNION ALL SELECT 12 AS sv_idx, -0.257820557258 AS dual_coeff, -0.120479731312 AS sv_0, -2.00404876767 AS sv_1, 0.564090362183 AS sv_2, 0.777200960066 AS sv_3, 0.404299656707 AS sv_4, -0.277810000027 AS sv_5, -1.324680352 AS sv_6, -0.53554961123 AS sv_7, 0.141761627911 AS sv_8, 0.260629655907 AS sv_9) AS "Values"), 
kernel_cte_2 AS 
(SELECT t_3."KEY" AS "KEY_2", t_3.dot_product AS "Score_2" 
FROM (SELECT full_join_data_sv_3."KEY" AS "KEY", sum(full_join_data_sv_3.dot_prod1) + -0.414724637768 AS dot_product 
FROM (SELECT "ADS_sca_2_OUT"."KEY" AS "KEY", "SV_data_2".dual_coeff * ("ADS_sca_2_OUT".scaler_2 * "SV_data_2".sv_0 + "ADS_sca_2_OUT".scaler_3 * "SV_data_2".sv_1 + "ADS_sca_2_OUT".scaler_4 * "SV_data_2".sv_2 + "ADS_sca_2_OUT".scaler_5 * "SV_data_2".sv_3 + "ADS_sca_2_OUT".scaler_6 * "SV_data_2".sv_4 + "ADS_sca_2_OUT".scaler_7 * "SV_data_2".sv_5 + "ADS_sca_2_OUT".scaler_8 * "SV_data_2".sv_6 + "ADS_sca_2_OUT".scaler_9 * "SV_data_2".sv_7 + "ADS_sca_2_OUT".scaler_10 * "SV_data_2".sv_8 + "ADS_sca_2_OUT".scaler_11 * "SV_data_2".sv_9) AS dot_prod1 
FROM "ADS_sca_2_OUT", "SV_data_2") AS full_join_data_sv_3 GROUP BY full_join_data_sv_3."KEY") AS t_3), 
"SV_data_3" AS 
(SELECT "Values".sv_idx AS sv_idx, "Values".dual_coeff AS dual_coeff, "Values".sv_0 AS sv_0, "Values".sv_1 AS sv_1, "Values".sv_2 AS sv_2, "Values".sv_3 AS sv_3, "Values".sv_4 AS sv_4, "Values".sv_5 AS sv_5, "Values".sv_6 AS sv_6, "Values".sv_7 AS sv_7, "Values".sv_8 AS sv_8, "Values".sv_9 AS sv_9 
FROM (SELECT 0 AS sv_idx, -0.0 AS dual_coeff, -0.0504084010673 AS sv_0, -0.734794112049 AS sv_1, 0.355784479967 AS sv_2, 1.28259001135 AS sv_3, 1.3397143537 AS sv_4, -1.14039670611 AS sv_5, 1.21337634559 AS sv_6, -0.906826344313 AS sv_7, -0.670656853619 AS sv_8, 0.909511134629 AS sv_9 UNION ALL SELECT 1 AS sv_idx, -0.366512210907 AS dual_coeff, 0.977061718601 AS sv_0, -0.746277042573 AS sv_1, -1.03141746273 AS sv_2, 0.923874077511 AS sv_3, -1.30073837317 AS sv_4, -0.593370624658 AS sv_5, -0.179628934259 AS sv_6, -0.87892175008 AS sv_7, -0.946904108063 AS sv_8, -0.0877484557033 AS sv_9 UNION ALL SELECT 2 AS sv_idx, -1.0 AS dual_coeff, 1.06755015395 AS sv_0, -0.621004198225 AS sv_1, -1.02346905246 AS sv_2, 0.0915175224515 AS sv_3, 3.15312011332 AS sv_4, -1.00060340253 AS sv_5, -1.30397066498 AS sv_6, 0.137457512853 AS sv_7, -0.431807051483 AS sv_8, 0.678726458017 AS sv_9 UNION ALL SELECT 3 AS sv_idx, -1.0 AS dual_coeff, -0.412884146666 AS sv_0, 1.14205813921 AS sv_1, 1.66469083901 AS sv_2, -0.653017058564 AS sv_3, 0.638256441741 AS sv_4, 1.32376869441 AS sv_5, 0.369045520441 AS sv_6, 0.478760696378 AS sv_7, 1.25031453641 AS sv_8, -0.560244554719 AS sv_9 UNION ALL SELECT 4 AS sv_idx, -0.267534701316 AS dual_coeff, 1.12974705731 AS sv_0, -1.4456627989 AS sv_1, -0.496021150399 AS sv_2, 0.586702118299 AS sv_3, -1.12695709783 AS sv_4, -0.691533503492 AS sv_5, 1.13263983902 AS sv_6, -0.570107017035 AS sv_7, -1.04038830641 AS sv_8, 0.313964584255 AS sv_9 UNION ALL SELECT 5 AS sv_idx, -0.644995130812 AS dual_coeff, -0.357350819884 AS sv_0, 1.26211406345 AS sv_1, 1.35682772611 AS sv_2, 0.248092892219 AS sv_3, -1.07320740548 AS sv_4, 1.60382374099 AS sv_5, 0.504338812106 AS sv_6, -0.709763165199 AS sv_7, 0.193242380075 AS sv_8, -1.35690241378 AS sv_9 UNION ALL SELECT 6 AS sv_idx, -0.0 AS dual_coeff, 0.251161044856 AS sv_0, 0.32627731986 AS sv_1, -0.0755444266968 AS sv_2, 0.74218837888 AS sv_3, -0.196143300721 AS sv_4, -1.15013837801 AS sv_5, 0.391195117478 AS sv_6, -0.393515777898 AS sv_7, -0.521120450295 AS sv_8, 0.957493130872 AS sv_9 UNION ALL SELECT 7 AS sv_idx, -1.0 AS dual_coeff, -2.62290466764 AS sv_0, 1.76840290243 AS sv_1, -1.49450929671 AS sv_2, 0.0186216928086 AS sv_3, 0.444821012242 AS sv_4, -0.345676845559 AS sv_5, 0.352868511674 AS sv_6, -0.22822632453 AS sv_7, -1.11875838889 AS sv_8, -0.239499304864 AS sv_9 UNION ALL SELECT 8 AS sv_idx, -1.0 AS dual_coeff, 1.87860285657 AS sv_0, -2.03042423168 AS sv_1, 0.867722055502 AS sv_2, -1.4348254406 AS sv_3, -0.342381055993 AS sv_4, 1.42048803243 AS sv_5, -1.07203038763 AS sv_6, 1.57563806024 AS sv_7, 2.86359359816 AS sv_8, -0.566629675143 AS sv_9 UNION ALL SELECT 9 AS sv_idx, -1.0 AS dual_coeff, 0.86869521962 AS sv_0, -0.493265370866 AS sv_1, 0.86688842907 AS sv_2, 0.529529749164 AS sv_3, 0.389724061349 AS sv_4, 2.00183555814 AS sv_5, 0.219514390322 AS sv_6, -0.959767799688 AS sv_7, 0.692593220645 AS sv_8, -2.02376352349 AS sv_9 UNION ALL SELECT 10 AS sv_idx, -0.0 AS dual_coeff, 0.903466467505 AS sv_0, 1.78347112914 AS sv_1, -0.85321060656 AS sv_2, 0.429348152476 AS sv_3, 0.0586711600437 AS sv_4, -0.47512072192 AS sv_5, 1.10685105556 AS sv_6, -0.591982282042 AS sv_7, -1.32141023124 AS sv_8, -0.0209379613126 AS sv_9 UNION ALL SELECT 11 AS sv_idx, -0.0 AS dual_coeff, 0.251731528906 AS sv_0, -0.722013533311 AS sv_1, -0.1523098011 AS sv_2, 1.07539123225 AS sv_3, -1.17388018206 AS sv_4, -1.3911650231 AS sv_5, -0.857872541762 AS sv_6, -0.442819576299 AS sv_7, 0.0385505927442 AS sv_8, 1.12953590972 AS sv_9 UNION ALL SELECT 12 AS sv_idx, -1.0 AS dual_coeff, -0.205770452398 AS sv_0, -0.699630304268 AS sv_1, -0.260613215655 AS sv_2, -0.808812917205 AS sv_3, -1.74335665707 AS sv_4, 0.703116137663 AS sv_5, 0.0157431377084 AS sv_6, 0.548120246975 AS sv_7, 0.32056720234 AS sv_8, -0.576568670463 AS sv_9 UNION ALL SELECT 13 AS sv_idx, -0.0 AS dual_coeff, -0.0462053286456 AS sv_0, 0.372812787842 AS sv_1, 0.274316287885 AS sv_2, 2.47366054464 AS sv_3, -0.70359972026 AS sv_4, -1.6348946364 AS sv_5, 0.173835015526 AS sv_6, -1.47513316417 AS sv_7, 0.391479144948 AS sv_8, 1.11533392503 AS sv_9 UNION ALL SELECT 14 AS sv_idx, -0.0 AS dual_coeff, 0.182745951979 AS sv_0, 1.40138943511 AS sv_1, 1.51224631016 AS sv_2, 0.171005383753 AS sv_3, -0.845342509475 AS sv_4, 1.96800632057 AS sv_5, -0.446239010505 AS sv_6, -0.57751924367 AS sv_7, 0.868187370951 AS sv_8, -1.62637075198 AS sv_9 UNION ALL SELECT 15 AS sv_idx, -0.0 AS dual_coeff, 0.709436662677 AS sv_0, 0.287567036093 AS sv_1, -0.0190356112672 AS sv_2, 1.50654232348 AS sv_3, 1.19289654541 AS sv_4, -1.10544356094 AS sv_5, -0.0529228998936 AS sv_6, -1.03645503363 AS sv_7, -0.378422074598 AS sv_8, 0.687012164843 AS sv_9) AS "Values"), 
kernel_cte_3 AS 
(SELECT t_4."KEY" AS "KEY_3", t_4.dot_product AS "Score_3" 
FROM (SELECT full_join_data_sv_4."KEY" AS "KEY", sum(full_join_data_sv_4.dot_prod1) + 0.251099205643 AS dot_product 
FROM (SELECT "ADS_sca_2_OUT"."KEY" AS "KEY", "SV_data_3".dual_coeff * ("ADS_sca_2_OUT".scaler_2 * "SV_data_3".sv_0 + "ADS_sca_2_OUT".scaler_3 * "SV_data_3".sv_1 + "ADS_sca_2_OUT".scaler_4 * "SV_data_3".sv_2 + "ADS_sca_2_OUT".scaler_5 * "SV_data_3".sv_3 + "ADS_sca_2_OUT".scaler_6 * "SV_data_3".sv_4 + "ADS_sca_2_OUT".scaler_7 * "SV_data_3".sv_5 + "ADS_sca_2_OUT".scaler_8 * "SV_data_3".sv_6 + "ADS_sca_2_OUT".scaler_9 * "SV_data_3".sv_7 + "ADS_sca_2_OUT".scaler_10 * "SV_data_3".sv_8 + "ADS_sca_2_OUT".scaler_11 * "SV_data_3".sv_9) AS dot_prod1 
FROM "ADS_sca_2_OUT", "SV_data_3") AS full_join_data_sv_4 GROUP BY full_join_data_sv_4."KEY") AS t_4), 
"OVR_Join_CTE" AS 
(SELECT kernel_cte_0."KEY_0" AS "KEY_0", kernel_cte_0."Score_0" AS "Score_0", kernel_cte_1."KEY_1" AS "KEY_1", kernel_cte_1."Score_1" AS "Score_1", kernel_cte_2."KEY_2" AS "KEY_2", kernel_cte_2."Score_2" AS "Score_2", kernel_cte_3."KEY_3" AS "KEY_3", kernel_cte_3."Score_3" AS "Score_3" 
FROM kernel_cte_0 LEFT OUTER JOIN kernel_cte_1 ON kernel_cte_0."KEY_0" = kernel_cte_1."KEY_1" LEFT OUTER JOIN kernel_cte_2 ON kernel_cte_2."KEY_2" = kernel_cte_1."KEY_1" LEFT OUTER JOIN kernel_cte_3 ON kernel_cte_3."KEY_3" = kernel_cte_2."KEY_2"), 
orig_cte AS 
(SELECT "OVR_Join_CTE"."KEY_0" AS "KEY", "OVR_Join_CTE"."Score_0" AS "Score_0", "OVR_Join_CTE"."Score_1" AS "Score_1", "OVR_Join_CTE"."Score_2" AS "Score_2", "OVR_Join_CTE"."Score_3" AS "Score_3", CAST(NULL AS FLOAT(53)) AS "Proba_0", CAST(NULL AS FLOAT(53)) AS "Proba_1", CAST(NULL AS FLOAT(53)) AS "Proba_2", CAST(NULL AS FLOAT(53)) AS "Proba_3", CAST(NULL AS FLOAT(53)) AS "LogProba_0", CAST(NULL AS FLOAT(53)) AS "LogProba_1", CAST(NULL AS FLOAT(53)) AS "LogProba_2", CAST(NULL AS FLOAT(53)) AS "LogProba_3", CAST(NULL AS FLOAT(53)) AS "Decision" 
FROM "OVR_Join_CTE"), 
score_class_union AS 
(SELECT scu."KEY" AS "KEY", scu.class AS class, scu."LogProba" AS "LogProba", scu."Proba" AS "Proba", scu."Score" AS "Score" 
FROM (SELECT orig_cte."KEY" AS "KEY", 0 AS class, orig_cte."LogProba_0" AS "LogProba", orig_cte."Proba_0" AS "Proba", orig_cte."Score_0" AS "Score" 
FROM orig_cte UNION ALL SELECT orig_cte."KEY" AS "KEY", 1 AS class, orig_cte."LogProba_1" AS "LogProba", orig_cte."Proba_1" AS "Proba", orig_cte."Score_1" AS "Score" 
FROM orig_cte UNION ALL SELECT orig_cte."KEY" AS "KEY", 2 AS class, orig_cte."LogProba_2" AS "LogProba", orig_cte."Proba_2" AS "Proba", orig_cte."Score_2" AS "Score" 
FROM orig_cte UNION ALL SELECT orig_cte."KEY" AS "KEY", 3 AS class, orig_cte."LogProba_3" AS "LogProba", orig_cte."Proba_3" AS "Proba", orig_cte."Score_3" AS "Score" 
FROM orig_cte) AS scu), 
score_max AS 
(SELECT orig_cte."KEY" AS "KEY", orig_cte."Score_0" AS "Score_0", orig_cte."Score_1" AS "Score_1", orig_cte."Score_2" AS "Score_2", orig_cte."Score_3" AS "Score_3", orig_cte."Proba_0" AS "Proba_0", orig_cte."Proba_1" AS "Proba_1", orig_cte."Proba_2" AS "Proba_2", orig_cte."Proba_3" AS "Proba_3", orig_cte."LogProba_0" AS "LogProba_0", orig_cte."LogProba_1" AS "LogProba_1", orig_cte."LogProba_2" AS "LogProba_2", orig_cte."LogProba_3" AS "LogProba_3", orig_cte."Decision" AS "Decision", (SELECT max(score_class_union."LogProba") AS max_1 
FROM score_class_union 
WHERE orig_cte."KEY" = score_class_union."KEY") AS "max_LogProba", (SELECT max(score_class_union."Proba") AS max_2 
FROM score_class_union 
WHERE orig_cte."KEY" = score_class_union."KEY") AS "max_Proba", (SELECT max(score_class_union."Score") AS max_3 
FROM score_class_union 
WHERE orig_cte."KEY" = score_class_union."KEY") AS "max_Score" 
FROM orig_cte), 
arg_max_cte AS 
(SELECT score_max."KEY" AS "KEY", score_max."Score_0" AS "Score_0", score_max."Score_1" AS "Score_1", score_max."Score_2" AS "Score_2", score_max."Score_3" AS "Score_3", score_max."Proba_0" AS "Proba_0", score_max."Proba_1" AS "Proba_1", score_max."Proba_2" AS "Proba_2", score_max."Proba_3" AS "Proba_3", score_max."LogProba_0" AS "LogProba_0", score_max."LogProba_1" AS "LogProba_1", score_max."LogProba_2" AS "LogProba_2", score_max."LogProba_3" AS "LogProba_3", score_max."Decision" AS "Decision", score_max."max_LogProba" AS "max_LogProba", score_max."max_Proba" AS "max_Proba", score_max."max_Score" AS "max_Score", (SELECT min(score_class_union.class) AS min_1 
FROM score_class_union 
WHERE score_max."max_LogProba" = score_class_union."LogProba" AND score_max."KEY" = score_class_union."KEY") AS "arg_max_LogProba", (SELECT min(score_class_union.class) AS min_2 
FROM score_class_union 
WHERE score_max."max_Proba" = score_class_union."Proba" AND score_max."KEY" = score_class_union."KEY") AS "arg_max_Proba", (SELECT min(score_class_union.class) AS min_3 
FROM score_class_union 
WHERE score_max."max_Score" = score_class_union."Score" AND score_max."KEY" = score_class_union."KEY") AS "arg_max_Score" 
FROM score_max)
 SELECT arg_max_cte."KEY" AS "KEY", arg_max_cte."Score_0" AS "Score_0", arg_max_cte."Score_1" AS "Score_1", arg_max_cte."Score_2" AS "Score_2", arg_max_cte."Score_3" AS "Score_3", arg_max_cte."Proba_0" AS "Proba_0", arg_max_cte."Proba_1" AS "Proba_1", arg_max_cte."Proba_2" AS "Proba_2", arg_max_cte."Proba_3" AS "Proba_3", CASE WHEN (arg_max_cte."Proba_0" IS NULL OR arg_max_cte."Proba_0" > 0.0) THEN ln(arg_max_cte."Proba_0") ELSE -1.79769313486231e+308 END AS "LogProba_0", CASE WHEN (arg_max_cte."Proba_1" IS NULL OR arg_max_cte."Proba_1" > 0.0) THEN ln(arg_max_cte."Proba_1") ELSE -1.79769313486231e+308 END AS "LogProba_1", CASE WHEN (arg_max_cte."Proba_2" IS NULL OR arg_max_cte."Proba_2" > 0.0) THEN ln(arg_max_cte."Proba_2") ELSE -1.79769313486231e+308 END AS "LogProba_2", CASE WHEN (arg_max_cte."Proba_3" IS NULL OR arg_max_cte."Proba_3" > 0.0) THEN ln(arg_max_cte."Proba_3") ELSE -1.79769313486231e+308 END AS "LogProba_3", arg_max_cte."arg_max_Score" AS "Decision" 
FROM arg_max_cte