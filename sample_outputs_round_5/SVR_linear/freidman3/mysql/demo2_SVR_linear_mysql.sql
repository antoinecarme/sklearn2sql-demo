-- This SQL code was generated by scikit2sql (development version).
-- Copyright 2017

WITH `SV_data` AS 
(SELECT `Values`.sv_idx AS sv_idx, `Values`.dual_coeff AS dual_coeff, `Values`.sv_0 AS sv_0, `Values`.sv_1 AS sv_1, `Values`.sv_2 AS sv_2, `Values`.sv_3 AS sv_3 
FROM (SELECT 0 AS sv_idx, -0.00377718392487 AS dual_coeff, 16.1698470669 AS sv_0, 302.997089118 AS sv_1, 0.145742863021 AS sv_2, 6.23329091025 AS sv_3 UNION ALL SELECT 1 AS sv_idx, -0.00573548385133 AS dual_coeff, 73.2177864487 AS sv_0, 452.089718014 AS sv_1, 0.0107156378761 AS sv_2, 7.76768235377 AS sv_3 UNION ALL SELECT 2 AS sv_idx, 0.00869204075958 AS dual_coeff, 3.23588798574 AS sv_0, 311.075939592 AS sv_1, 0.306418295264 AS sv_2, 6.27333853041 AS sv_3 UNION ALL SELECT 3 AS sv_idx, -0.00571580167336 AS dual_coeff, 11.6957636981 AS sv_0, 1598.0653131 AS sv_1, 0.00563362658436 AS sv_2, 8.90643611637 AS sv_3 UNION ALL SELECT 4 AS sv_idx, 0.000840631844776 AS dual_coeff, 26.2925579455 AS sv_0, 272.177061063 AS sv_1, 0.724440879999 AS sv_2, 5.76996862265 AS sv_3 UNION ALL SELECT 5 AS sv_idx, 3.77373161504e-05 AS dual_coeff, 3.13521870154 AS sv_0, 623.845344488 AS sv_1, 0.827269809176 AS sv_2, 8.69261374385 AS sv_3 UNION ALL SELECT 6 AS sv_idx, 0.00571580167336 AS dual_coeff, 94.7998688631 AS sv_0, 1755.22419092 AS sv_1, 0.492232057065 AS sv_2, 9.96009079806 AS sv_3 UNION ALL SELECT 7 AS sv_idx, -0.00195170067745 AS dual_coeff, 88.9532846838 AS sv_0, 225.134428094 AS sv_1, 0.137517506961 AS sv_2, 5.84693079744 AS sv_3 UNION ALL SELECT 8 AS sv_idx, 0.00189395853314 AS dual_coeff, 67.9320259775 AS sv_0, 165.645218812 AS sv_1, 0.410818104005 AS sv_2, 1.7991464096 AS sv_3) AS `Values`), 
kernel_cte AS 
(SELECT t.`KEY` AS `KEY`, t.dot_product AS dot_product 
FROM (SELECT full_join_data_sv.`KEY` AS `KEY`, sum(full_join_data_sv.dot_prod1) + 6.53200262802 AS dot_product 
FROM (SELECT `ADS`.`KEY` AS `KEY`, `SV_data`.dual_coeff * (`ADS`.`Feature_0` * `SV_data`.sv_0 + `ADS`.`Feature_1` * `SV_data`.sv_1 + `ADS`.`Feature_2` * `SV_data`.sv_2 + `ADS`.`Feature_3` * `SV_data`.sv_3) AS dot_prod1 
FROM freidman3 AS `ADS`, `SV_data`) AS full_join_data_sv GROUP BY full_join_data_sv.`KEY`) AS t)
 SELECT kernel_cte.`KEY` AS `KEY`, kernel_cte.dot_product AS `Estimator` 
FROM kernel_cte