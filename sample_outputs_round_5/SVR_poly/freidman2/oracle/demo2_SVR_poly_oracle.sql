-- This SQL code was generated by scikit2sql (development version).
-- Copyright 2017

WITH "SV_data" AS 
(SELECT "Values".sv_idx AS sv_idx, "Values".dual_coeff AS dual_coeff, "Values".sv_0 AS sv_0, "Values".sv_1 AS sv_1, "Values".sv_2 AS sv_2, "Values".sv_3 AS sv_3 
FROM (SELECT 0 AS sv_idx, -1.61716099331e-08 AS dual_coeff, 30.6105853982 AS sv_0, 206.464749435 AS sv_1, 0.421128185773 AS sv_2, 10.1029528167 AS sv_3 FROM DUAL UNION ALL SELECT 1 AS sv_idx, -2.17397467613e-09 AS dual_coeff, 5.72812897404 AS sv_0, 590.187773708 AS sv_1, 0.0269129337671 AS sv_2, 1.52246684022 AS sv_3 FROM DUAL UNION ALL SELECT 2 AS sv_idx, -2.23249682021e-09 AS dual_coeff, 10.2729965366 AS sv_0, 145.004031568 AS sv_1, 0.0410473838654 AS sv_2, 6.28177665369 AS sv_3 FROM DUAL UNION ALL SELECT 3 AS sv_idx, -1.30774037221e-10 AS dual_coeff, 92.2159672877 AS sv_0, 1653.20017635 AS sv_1, 0.0154636261671 AS sv_2, 6.57593433839 AS sv_3 FROM DUAL UNION ALL SELECT 4 AS sv_idx, 5.68505380554e-10 AS dual_coeff, 78.4284445942 AS sv_0, 1752.94550685 AS sv_1, 0.603004748197 AS sv_2, 6.82928462221 AS sv_3 FROM DUAL UNION ALL SELECT 5 AS sv_idx, -4.72225177552e-07 AS dual_coeff, 21.5177275768 AS sv_0, 195.035264887 AS sv_1, 0.241178806205 AS sv_2, 2.03544384677 AS sv_3 FROM DUAL UNION ALL SELECT 6 AS sv_idx, -3.89028921592e-10 AS dual_coeff, 11.6096692582 AS sv_0, 462.692521741 AS sv_1, 0.346845485191 AS sv_2, 2.99999656695 AS sv_3 FROM DUAL UNION ALL SELECT 7 AS sv_idx, -1.30666631202e-10 AS dual_coeff, 43.2866300677 AS sv_0, 545.464517953 AS sv_1, 0.255297020383 AS sv_2, 7.5713982032 AS sv_3 FROM DUAL UNION ALL SELECT 8 AS sv_idx, -3.54887530204e-10 AS dual_coeff, 44.7771577313 AS sv_0, 340.253994123 AS sv_1, 0.980674505553 AS sv_2, 4.09512643319 AS sv_3 FROM DUAL UNION ALL SELECT 9 AS sv_idx, 4.72225177552e-07 AS dual_coeff, 20.4583093999 AS sv_0, 192.83059965 AS sv_1, 0.730616917123 AS sv_2, 4.39569943844 AS sv_3 FROM DUAL UNION ALL SELECT 10 AS sv_idx, 3.89028921592e-10 AS dual_coeff, 27.980558743 AS sv_0, 458.182581075 AS sv_1, 0.939038849555 AS sv_2, 7.31984467696 AS sv_3 FROM DUAL UNION ALL SELECT 11 AS sv_idx, -3.02196004398e-12 AS dual_coeff, 81.3856663959 AS sv_0, 1696.69911057 AS sv_1, 0.202583625319 AS sv_2, 6.62924399229 AS sv_3 FROM DUAL UNION ALL SELECT 12 AS sv_idx, 4.60293743859e-12 AS dual_coeff, 45.816627291 AS sv_0, 1534.72127934 AS sv_1, 0.403923811402 AS sv_2, 1.11071084316 AS sv_3 FROM DUAL UNION ALL SELECT 13 AS sv_idx, 4.36525022786e-08 AS dual_coeff, 79.4492982002 AS sv_0, 161.039912944 AS sv_1, 0.20110941489 AS sv_2, 2.31141061844 AS sv_3 FROM DUAL UNION ALL SELECT 14 AS sv_idx, -3.22599660198e-10 AS dual_coeff, 94.9465089581 AS sv_0, 1677.72539471 AS sv_1, 0.318391004635 AS sv_2, 8.84661231551 AS sv_3 FROM DUAL UNION ALL SELECT 15 AS sv_idx, -4.18444233323e-09 AS dual_coeff, 52.5707899339 AS sv_0, 360.808090722 AS sv_1, 0.0514243779067 AS sv_2, 5.75615822484 AS sv_3 FROM DUAL UNION ALL SELECT 16 AS sv_idx, -4.699624101e-09 AS dual_coeff, 8.79886582394 AS sv_0, 347.607032768 AS sv_1, 0.796765644232 AS sv_2, 8.75953128729 AS sv_3 FROM DUAL UNION ALL SELECT 17 AS sv_idx, -2.41347851387e-08 AS dual_coeff, 55.6992087869 AS sv_0, 147.799694102 AS sv_1, 0.0781241829461 AS sv_2, 4.4459539762 AS sv_3 FROM DUAL UNION ALL SELECT 18 AS sv_idx, 8.98710940542e-09 AS dual_coeff, 96.4751049687 AS sv_0, 321.569810616 AS sv_1, 0.907691897983 AS sv_2, 10.7656679892 AS sv_3 FROM DUAL UNION ALL SELECT 19 AS sv_idx, 2.2068398949e-07 AS dual_coeff, 69.240286206 AS sv_0, 266.276889228 AS sv_1, 0.835441772414 AS sv_2, 1.28046392461 AS sv_3 FROM DUAL UNION ALL SELECT 20 AS sv_idx, -2.50429603135e-11 AS dual_coeff, 21.9209621365 AS sv_0, 1586.83165342 AS sv_1, 0.385790623906 AS sv_2, 6.06246821944 AS sv_3 FROM DUAL UNION ALL SELECT 21 AS sv_idx, -2.21532091881e-07 AS dual_coeff, 76.0235191719 AS sv_0, 269.747437399 AS sv_1, 0.195524063803 AS sv_2, 2.90159535721 AS sv_3 FROM DUAL UNION ALL SELECT 22 AS sv_idx, -4.60293743859e-12 AS dual_coeff, 53.0778761946 AS sv_0, 1493.84767349 AS sv_1, 0.26246984685 AS sv_2, 8.38003597985 AS sv_3 FROM DUAL UNION ALL SELECT 23 AS sv_idx, -4.49671972886e-12 AS dual_coeff, 72.6293150886 AS sv_0, 1599.72081692 AS sv_1, 0.595625145701 AS sv_2, 3.32776815151 AS sv_3 FROM DUAL UNION ALL SELECT 24 AS sv_idx, -1.71277201849e-11 AS dual_coeff, 53.6775076615 AS sv_0, 1307.38423885 AS sv_1, 0.993567392667 AS sv_2, 3.9576127875 AS sv_3 FROM DUAL UNION ALL SELECT 25 AS sv_idx, -2.59419535236e-11 AS dual_coeff, 91.5876943665 AS sv_0, 703.132583245 AS sv_1, 0.301401371403 AS sv_2, 8.47192114185 AS sv_3 FROM DUAL UNION ALL SELECT 26 AS sv_idx, 2.29097787047e-09 AS dual_coeff, 95.8198226478 AS sv_0, 584.153857411 AS sv_1, 0.100840443183 AS sv_2, 4.25317982511 AS sv_3 FROM DUAL UNION ALL SELECT 27 AS sv_idx, -3.55463841689e-11 AS dual_coeff, 60.2119320106 AS sv_0, 1594.53593574 AS sv_1, 0.837024335036 AS sv_2, 8.86850754515 AS sv_3 FROM DUAL UNION ALL SELECT 28 AS sv_idx, -4.70236588795e-11 AS dual_coeff, 30.7479140209 AS sv_0, 1634.89061625 AS sv_1, 0.306000592112 AS sv_2, 5.19664328889 AS sv_3 FROM DUAL UNION ALL SELECT 29 AS sv_idx, 1.71277201849e-11 AS dual_coeff, 99.1007962439 AS sv_0, 1305.30207732 AS sv_1, 0.890142163853 AS sv_2, 1.49498917339 AS sv_3 FROM DUAL UNION ALL SELECT 30 AS sv_idx, 2.59419535236e-11 AS dual_coeff, 68.0034933264 AS sv_0, 689.105457061 AS sv_1, 0.969717829555 AS sv_2, 7.89815102026 AS sv_3 FROM DUAL) "Values"), 
kernel_cte AS 
(SELECT t."KEY" AS "KEY", t.dot_product AS dot_product 
FROM (SELECT full_join_data_sv."KEY" AS "KEY", sum(full_join_data_sv.dot_prod1) + -7212.55853184 AS dot_product 
FROM (SELECT "ADS"."KEY" AS "KEY", "SV_data".dual_coeff * power(0.25 * ("ADS"."Feature_0" * "SV_data".sv_0 + "ADS"."Feature_1" * "SV_data".sv_1 + "ADS"."Feature_2" * "SV_data".sv_2 + "ADS"."Feature_3" * "SV_data".sv_3) + 0.0, 3) AS dot_prod1 
FROM freidman2 "ADS", "SV_data") full_join_data_sv GROUP BY full_join_data_sv."KEY") t)
 SELECT kernel_cte."KEY" AS "KEY", kernel_cte.dot_product AS "Estimator" 
FROM kernel_cte