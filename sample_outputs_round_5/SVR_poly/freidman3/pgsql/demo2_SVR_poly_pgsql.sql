-- This SQL code was generated by scikit2sql (development version).
-- Copyright 2017

WITH "SV_data" AS 
(SELECT "Values".sv_idx AS sv_idx, "Values".dual_coeff AS dual_coeff, "Values".sv_0 AS sv_0, "Values".sv_1 AS sv_1, "Values".sv_2 AS sv_2, "Values".sv_3 AS sv_3 
FROM (SELECT 0 AS sv_idx, -4.35190882458e-14 AS dual_coeff, 1.43508777977 AS sv_0, 1669.68544408 AS sv_1, 0.757142576663 AS sv_2, 5.00044065426 AS sv_3 UNION ALL SELECT 1 AS sv_idx, -5.10513362472e-12 AS dual_coeff, 97.7992418615 AS sv_0, 351.426967188 AS sv_1, 0.0121803075702 AS sv_2, 10.56299078 AS sv_3 UNION ALL SELECT 2 AS sv_idx, -7.63425325067e-14 AS dual_coeff, 26.8210322385 AS sv_0, 1613.10029209 AS sv_1, 0.061089677197 AS sv_2, 2.26635188993 AS sv_3 UNION ALL SELECT 3 AS sv_idx, -1.43536775944e-13 AS dual_coeff, 65.0979078106 AS sv_0, 1399.07573642 AS sv_1, 0.721935021966 AS sv_2, 3.02516186595 AS sv_3 UNION ALL SELECT 4 AS sv_idx, 1.47921027684e-13 AS dual_coeff, 95.5807319193 AS sv_0, 1393.43983882 AS sv_1, 0.376938520205 AS sv_2, 3.03449927963 AS sv_3 UNION ALL SELECT 5 AS sv_idx, 2.67088206416e-15 AS dual_coeff, 88.787289111 AS sv_0, 1619.56300415 AS sv_1, 0.849912852869 AS sv_2, 9.1997127677 AS sv_3 UNION ALL SELECT 6 AS sv_idx, 1.8588893964e-14 AS dual_coeff, 90.0360525739 AS sv_0, 892.471933939 AS sv_1, 0.876535867044 AS sv_2, 6.9443686608 AS sv_3 UNION ALL SELECT 7 AS sv_idx, 1.939380021e-11 AS dual_coeff, 89.8403036932 AS sv_0, 284.730383621 AS sv_1, 0.98792364223 AS sv_2, 6.17987256627 AS sv_3 UNION ALL SELECT 8 AS sv_idx, -1.43674550044e-11 AS dual_coeff, 24.3695465356 AS sv_0, 256.986631845 AS sv_1, 0.113558455351 AS sv_2, 3.46180349999 AS sv_3 UNION ALL SELECT 9 AS sv_idx, -1.8588893964e-14 AS dual_coeff, 20.8761997539 AS sv_0, 940.084609595 AS sv_1, 0.509441621483 AS sv_2, 6.97675392087 AS sv_3 UNION ALL SELECT 10 AS sv_idx, -7.56725595758e-11 AS dual_coeff, 54.8506156034 AS sv_0, 213.470228847 AS sv_1, 0.229759709019 AS sv_2, 4.00911671595 AS sv_3 UNION ALL SELECT 11 AS sv_idx, 7.14967873837e-16 AS dual_coeff, 0.0264432080234 AS sv_0, 993.374692469 AS sv_1, 0.05213302968 AS sv_2, 9.49655657808 AS sv_3 UNION ALL SELECT 12 AS sv_idx, 4.55594258363e-14 AS dual_coeff, 94.5904360384 AS sv_0, 1429.21775717 AS sv_1, 0.462171724021 AS sv_2, 1.04725605337 AS sv_3 UNION ALL SELECT 13 AS sv_idx, -3.06920861317e-15 AS dual_coeff, 47.657144637 AS sv_0, 520.047066145 AS sv_1, 0.0231127864392 AS sv_2, 8.74926434047 AS sv_3 UNION ALL SELECT 14 AS sv_idx, 7.56725595758e-11 AS dual_coeff, 18.8127617064 AS sv_0, 197.962094623 AS sv_1, 0.238880738933 AS sv_2, 1.57388084621 AS sv_3 UNION ALL SELECT 15 AS sv_idx, -4.38425173972e-15 AS dual_coeff, 54.2059192662 AS sv_0, 1399.89995998 AS sv_1, 0.624285333611 AS sv_2, 1.06057155586 AS sv_3 UNION ALL SELECT 16 AS sv_idx, -1.1117656027e-12 AS dual_coeff, 59.5489509 AS sv_0, 846.356590868 AS sv_1, 0.770469644489 AS sv_2, 1.32835056632 AS sv_3 UNION ALL SELECT 17 AS sv_idx, 1.94632220503e-13 AS dual_coeff, 65.5280890135 AS sv_0, 1741.10268663 AS sv_1, 0.0815920564505 AS sv_2, 8.95494533321 AS sv_3 UNION ALL SELECT 18 AS sv_idx, 7.87884191022e-14 AS dual_coeff, 7.53544755372 AS sv_0, 433.365666825 AS sv_1, 0.886079893471 AS sv_2, 6.57927702381 AS sv_3 UNION ALL SELECT 19 AS sv_idx, 1.45679146943e-13 AS dual_coeff, 98.1401723577 AS sv_0, 974.098712669 AS sv_1, 0.17223024075 AS sv_2, 6.47660441634 AS sv_3 UNION ALL SELECT 20 AS sv_idx, -3.15358038912e-15 AS dual_coeff, 75.3001917508 AS sv_0, 1685.81708878 AS sv_1, 0.249784054608 AS sv_2, 4.01753625635 AS sv_3 UNION ALL SELECT 21 AS sv_idx, -1.46394114817e-13 AS dual_coeff, 36.9292588622 AS sv_0, 970.619748915 AS sv_1, 0.578026435293 AS sv_2, 3.97050382654 AS sv_3 UNION ALL SELECT 22 AS sv_idx, -3.31457664706e-14 AS dual_coeff, 33.7565638857 AS sv_0, 1654.07348244 AS sv_1, 0.640981477901 AS sv_2, 7.40784012812 AS sv_3 UNION ALL SELECT 23 AS sv_idx, -2.67088206416e-15 AS dual_coeff, 72.029819655 AS sv_0, 1613.59849736 AS sv_1, 0.472527478554 AS sv_2, 7.5663091727 AS sv_3 UNION ALL SELECT 24 AS sv_idx, 1.1117656027e-12 AS dual_coeff, 94.5638561812 AS sv_0, 851.519369943 AS sv_1, 0.438046940514 AS sv_2, 10.9244227401 AS sv_3 UNION ALL SELECT 25 AS sv_idx, -3.54020442776e-14 AS dual_coeff, 8.97108441265 AS sv_0, 1726.70027127 AS sv_1, 0.105277846248 AS sv_2, 10.0439612595 AS sv_3 UNION ALL SELECT 26 AS sv_idx, -4.55594258363e-14 AS dual_coeff, 71.046453443 AS sv_0, 1441.77218475 AS sv_1, 0.265562717154 AS sv_2, 10.6328631405 AS sv_3) AS "Values"), 
kernel_cte AS 
(SELECT t."KEY" AS "KEY", t.dot_product AS dot_product 
FROM (SELECT full_join_data_sv."KEY" AS "KEY", sum(full_join_data_sv.dot_prod1) + 18.6061227193 AS dot_product 
FROM (SELECT "ADS"."KEY" AS "KEY", "SV_data".dual_coeff * power(0.25 * ("ADS"."Feature_0" * "SV_data".sv_0 + "ADS"."Feature_1" * "SV_data".sv_1 + "ADS"."Feature_2" * "SV_data".sv_2 + "ADS"."Feature_3" * "SV_data".sv_3) + 0.0, 3) AS dot_prod1 
FROM freidman3 AS "ADS", "SV_data") AS full_join_data_sv GROUP BY full_join_data_sv."KEY") AS t)
 SELECT kernel_cte."KEY" AS "KEY", kernel_cte.dot_product AS "Estimator" 
FROM kernel_cte