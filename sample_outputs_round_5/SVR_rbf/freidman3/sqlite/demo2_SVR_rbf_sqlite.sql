-- This SQL code was generated by scikit2sql (development version).
-- Copyright 2017

WITH "SV_data" AS 
(SELECT "Values".sv_idx AS sv_idx, "Values".dual_coeff AS dual_coeff, "Values".sv_0 AS sv_0, "Values".sv_1 AS sv_1, "Values".sv_2 AS sv_2, "Values".sv_3 AS sv_3 
FROM (SELECT 0 AS sv_idx, 0.181276140728 AS dual_coeff, 30.9720074469 AS sv_0, 1571.56192822 AS sv_1, 0.880535960031 AS sv_2, 4.03468571821 AS sv_3 UNION ALL SELECT 1 AS sv_idx, 0.181308154271 AS dual_coeff, 27.793443685 AS sv_0, 1262.65815911 AS sv_1, 0.991287768532 AS sv_2, 3.01341899528 AS sv_3 UNION ALL SELECT 2 AS sv_idx, -0.42110204079 AS dual_coeff, 98.6186182051 AS sv_0, 150.263611256 AS sv_1, 0.606892552432 AS sv_2, 9.23711001013 AS sv_3 UNION ALL SELECT 3 AS sv_idx, -0.732747273345 AS dual_coeff, 71.4163735628 AS sv_0, 915.285271199 AS sv_1, 0.0362730910772 AS sv_2, 6.61333676215 AS sv_3 UNION ALL SELECT 4 AS sv_idx, 0.179282212043 AS dual_coeff, 6.07844549812 AS sv_0, 533.771517903 AS sv_1, 0.469768727795 AS sv_2, 6.31288368062 AS sv_3 UNION ALL SELECT 5 AS sv_idx, 0.141214633279 AS dual_coeff, 52.5654071581 AS sv_0, 1707.27684132 AS sv_1, 0.493697261343 AS sv_2, 5.72796066661 AS sv_3 UNION ALL SELECT 6 AS sv_idx, 0.119976620983 AS dual_coeff, 62.4341080816 AS sv_0, 961.742365783 AS sv_1, 0.777296029242 AS sv_2, 2.12336544031 AS sv_3 UNION ALL SELECT 7 AS sv_idx, 0.135559808676 AS dual_coeff, 32.0195380042 AS sv_0, 594.380320944 AS sv_1, 0.793593597154 AS sv_2, 10.9702277872 AS sv_3 UNION ALL SELECT 8 AS sv_idx, 0.00747951705032 AS dual_coeff, 42.3168229694 AS sv_0, 622.405867248 AS sv_1, 0.342573411502 AS sv_2, 9.89687968533 AS sv_3 UNION ALL SELECT 9 AS sv_idx, 0.118539504081 AS dual_coeff, 97.8847196169 AS sv_0, 1687.42252676 AS sv_1, 0.680975717982 AS sv_2, 10.0016199464 AS sv_3 UNION ALL SELECT 10 AS sv_idx, 0.173242648521 AS dual_coeff, 15.7529637106 AS sv_0, 833.574544445 AS sv_1, 0.637246041534 AS sv_2, 2.73180665251 AS sv_3 UNION ALL SELECT 11 AS sv_idx, 0.0987399684526 AS dual_coeff, 59.9271650332 AS sv_0, 858.024057729 AS sv_1, 0.663425445226 AS sv_2, 10.2635607139 AS sv_3 UNION ALL SELECT 12 AS sv_idx, 0.14415705666 AS dual_coeff, 52.4985559697 AS sv_0, 1333.90848096 AS sv_1, 0.662429457158 AS sv_2, 2.01891069316 AS sv_3 UNION ALL SELECT 13 AS sv_idx, 0.198615587459 AS dual_coeff, 5.09920464693 AS sv_0, 1499.37520903 AS sv_1, 0.680077122014 AS sv_2, 3.40330403952 AS sv_3 UNION ALL SELECT 14 AS sv_idx, -0.236984555235 AS dual_coeff, 81.7006386224 AS sv_0, 142.649834006 AS sv_1, 0.769041253411 AS sv_2, 8.47595403052 AS sv_3 UNION ALL SELECT 15 AS sv_idx, 0.162892137081 AS dual_coeff, 37.55604832 AS sv_0, 1393.98987901 AS sv_1, 0.662927818326 AS sv_2, 8.60674659059 AS sv_3 UNION ALL SELECT 16 AS sv_idx, 0.193614257786 AS dual_coeff, 9.05058039965 AS sv_0, 1357.39170444 AS sv_1, 0.666605431924 AS sv_2, 9.83837060328 AS sv_3 UNION ALL SELECT 17 AS sv_idx, 0.170176631816 AS dual_coeff, 12.2838937147 AS sv_0, 735.54801896 AS sv_1, 0.503991553503 AS sv_2, 8.89789643302 AS sv_3 UNION ALL SELECT 18 AS sv_idx, 0.136842043138 AS dual_coeff, 55.6875050777 AS sv_0, 881.209174091 AS sv_1, 0.944982448631 AS sv_2, 6.31482645182 AS sv_3 UNION ALL SELECT 19 AS sv_idx, 0.127394291169 AS dual_coeff, 55.4428480488 AS sv_0, 1515.00004721 AS sv_1, 0.478951511089 AS sv_2, 6.23125420362 AS sv_3 UNION ALL SELECT 20 AS sv_idx, 0.122080212795 AS dual_coeff, 77.6929372678 AS sv_0, 1347.44938737 AS sv_1, 0.705016338726 AS sv_2, 1.98421685805 AS sv_3 UNION ALL SELECT 21 AS sv_idx, 0.20008076424 AS dual_coeff, 0.865266053099 AS sv_0, 1134.87530756 AS sv_1, 0.211659302701 AS sv_2, 3.35141702191 AS sv_3 UNION ALL SELECT 22 AS sv_idx, -0.0308315281307 AS dual_coeff, 69.9012125912 AS sv_0, 274.840047928 AS sv_1, 0.548521969788 AS sv_2, 2.29696635095 AS sv_3 UNION ALL SELECT 23 AS sv_idx, 0.0722016226347 AS dual_coeff, 59.8543385355 AS sv_0, 1143.57210111 AS sv_1, 0.396344830099 AS sv_2, 7.78374716066 AS sv_3 UNION ALL SELECT 24 AS sv_idx, 0.116450089558 AS dual_coeff, 61.6194529904 AS sv_0, 1361.67050582 AS sv_1, 0.517818384462 AS sv_2, 9.60495302655 AS sv_3 UNION ALL SELECT 25 AS sv_idx, 0.199318347081 AS dual_coeff, 6.44370620537 AS sv_0, 1525.12567061 AS sv_1, 0.982190153921 AS sv_2, 9.16537507791 AS sv_3 UNION ALL SELECT 26 AS sv_idx, 0.153546584202 AS dual_coeff, 13.3721604718 AS sv_0, 869.835328568 AS sv_1, 0.306372099403 AS sv_2, 1.3505917649 AS sv_3 UNION ALL SELECT 27 AS sv_idx, 0.177835674904 AS dual_coeff, 20.1695572656 AS sv_0, 1445.25397099 AS sv_1, 0.543451698497 AS sv_2, 2.1557848288 AS sv_3 UNION ALL SELECT 28 AS sv_idx, -0.441618885192 AS dual_coeff, 58.9091115707 AS sv_0, 268.508848756 AS sv_1, 0.194639491207 AS sv_2, 7.86266226942 AS sv_3 UNION ALL SELECT 29 AS sv_idx, 0.170846809724 AS dual_coeff, 47.7157120247 AS sv_0, 1668.97209821 AS sv_1, 0.880630450467 AS sv_2, 7.94148222716 AS sv_3 UNION ALL SELECT 30 AS sv_idx, 0.165152736929 AS dual_coeff, 34.8262624365 AS sv_0, 920.604606098 AS sv_1, 0.988696057285 AS sv_2, 8.35588214619 AS sv_3 UNION ALL SELECT 31 AS sv_idx, 0.106089823702 AS dual_coeff, 63.9342178467 AS sv_0, 750.075111956 AS sv_1, 0.874063602256 AS sv_2, 6.76423740842 AS sv_3 UNION ALL SELECT 32 AS sv_idx, -0.870436342394 AS dual_coeff, 57.7055563443 AS sv_0, 514.225160821 AS sv_1, 0.0342976977247 AS sv_2, 9.14689737201 AS sv_3 UNION ALL SELECT 33 AS sv_idx, 0.162255703437 AS dual_coeff, 0.6006709517 AS sv_0, 134.590335263 AS sv_1, 0.108154707074 AS sv_2, 6.05441913288 AS sv_3 UNION ALL SELECT 34 AS sv_idx, 0.147313614407 AS dual_coeff, 14.6112855011 AS sv_0, 1300.28347348 AS sv_1, 0.199135011392 AS sv_2, 4.73539650654 AS sv_3 UNION ALL SELECT 35 AS sv_idx, 0.0986485118589 AS dual_coeff, 45.375892931 AS sv_0, 1499.74383606 AS sv_1, 0.287448844556 AS sv_2, 1.58222998501 AS sv_3 UNION ALL SELECT 36 AS sv_idx, 0.199203691647 AS dual_coeff, 1.58952017313 AS sv_0, 378.291829705 AS sv_1, 0.977926680055 AS sv_2, 4.51610690538 AS sv_3 UNION ALL SELECT 37 AS sv_idx, 0.149588317914 AS dual_coeff, 74.4639657466 AS sv_0, 1617.9412262 AS sv_1, 0.851024408246 AS sv_2, 2.95997698323 AS sv_3 UNION ALL SELECT 38 AS sv_idx, -1.0 AS dual_coeff, 38.9637207982 AS sv_0, 959.381370079 AS sv_1, 0.00397445803174 AS sv_2, 10.0791698295 AS sv_3 UNION ALL SELECT 39 AS sv_idx, 0.192039061831 AS dual_coeff, 12.0729686094 AS sv_0, 1653.02016783 AS sv_1, 0.648511715312 AS sv_2, 4.49695974164 AS sv_3 UNION ALL SELECT 40 AS sv_idx, 0.151713042957 AS dual_coeff, 48.2865381334 AS sv_0, 988.434791803 AS sv_1, 0.937752548298 AS sv_2, 2.2089383396 AS sv_3 UNION ALL SELECT 41 AS sv_idx, 0.175713234835 AS dual_coeff, 23.5991832236 AS sv_0, 1086.25974856 AS sv_1, 0.774612945246 AS sv_2, 8.34871168058 AS sv_3 UNION ALL SELECT 42 AS sv_idx, -0.876031689938 AS dual_coeff, 86.921827093 AS sv_0, 885.373995231 AS sv_1, 0.0294428954171 AS sv_2, 9.36551021266 AS sv_3 UNION ALL SELECT 43 AS sv_idx, -0.564880568902 AS dual_coeff, 60.1818783837 AS sv_0, 1509.4358256 AS sv_1, 0.0274109163803 AS sv_2, 4.97992670329 AS sv_3 UNION ALL SELECT 44 AS sv_idx, 0.108237884757 AS dual_coeff, 43.2413942047 AS sv_0, 1379.21148865 AS sv_1, 0.327247332176 AS sv_2, 8.20908442098 AS sv_3 UNION ALL SELECT 45 AS sv_idx, -0.677012743146 AS dual_coeff, 65.0100711843 AS sv_0, 219.454539854 AS sv_1, 0.158116425405 AS sv_2, 2.78183405803 AS sv_3 UNION ALL SELECT 46 AS sv_idx, 0.197946937857 AS dual_coeff, 5.79225612893 AS sv_0, 1271.61680064 AS sv_1, 0.850808999924 AS sv_2, 6.57380292721 AS sv_3 UNION ALL SELECT 47 AS sv_idx, 0.107697435448 AS dual_coeff, 27.9887448489 AS sv_0, 386.937601279 AS sv_1, 0.750672161381 AS sv_2, 1.92448818252 AS sv_3 UNION ALL SELECT 48 AS sv_idx, 0.190184087415 AS dual_coeff, 9.95734512199 AS sv_0, 903.22325965 AS sv_1, 0.820070029433 AS sv_2, 9.18257854943 AS sv_3 UNION ALL SELECT 49 AS sv_idx, -0.251960124007 AS dual_coeff, 84.1545597835 AS sv_0, 138.177747476 AS sv_1, 0.79132886062 AS sv_2, 7.25991233627 AS sv_3 UNION ALL SELECT 50 AS sv_idx, 0.147033688906 AS dual_coeff, 22.9213880652 AS sv_0, 563.283909155 AS sv_1, 0.719758452222 AS sv_2, 8.72977982768 AS sv_3 UNION ALL SELECT 51 AS sv_idx, 0.122116658844 AS dual_coeff, 9.01899830347 AS sv_0, 1308.69197658 AS sv_1, 0.0843624121523 AS sv_2, 6.02014032816 AS sv_3) AS "Values"), 
kernel_cte AS 
(SELECT t."KEY" AS "KEY", t.dot_product AS dot_product 
FROM (SELECT full_join_data_sv."KEY" AS "KEY", sum(full_join_data_sv.dot_prod1) + 1.26729391188 AS dot_product 
FROM (SELECT "ADS"."KEY" AS "KEY", "SV_data".dual_coeff * exp(-0.25 * (power("ADS"."Feature_0" - "SV_data".sv_0, 2) + power("ADS"."Feature_1" - "SV_data".sv_1, 2) + power("ADS"."Feature_2" - "SV_data".sv_2, 2) + power("ADS"."Feature_3" - "SV_data".sv_3, 2))) AS dot_prod1 
FROM freidman3 AS "ADS", "SV_data") AS full_join_data_sv GROUP BY full_join_data_sv."KEY") AS t)
 SELECT kernel_cte."KEY" AS "KEY", kernel_cte.dot_product AS "Estimator" 
FROM kernel_cte