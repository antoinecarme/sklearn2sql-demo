-- This SQL code was generated by scikit2sql (development version).
-- Copyright 2017

WITH "SV_data" AS 
(SELECT "Values".sv_idx AS sv_idx, "Values".dual_coeff AS dual_coeff, "Values".sv_0 AS sv_0, "Values".sv_1 AS sv_1, "Values".sv_2 AS sv_2, "Values".sv_3 AS sv_3 
FROM (SELECT 0 AS sv_idx, -0.0265432754863 AS dual_coeff, 27.7463938466 AS sv_0, 135.071356379 AS sv_1, 0.0173914984174 AS sv_2, 10.3047433341 AS sv_3 UNION ALL SELECT 1 AS sv_idx, -0.000522197033928 AS dual_coeff, 15.6271859851 AS sv_0, 1480.91485771 AS sv_1, 0.0521757095901 AS sv_2, 5.6087001026 AS sv_3 UNION ALL SELECT 2 AS sv_idx, 0.00536711114754 AS dual_coeff, 94.0541709388 AS sv_0, 140.231779337 AS sv_1, 0.437793374071 AS sv_2, 7.77678025685 AS sv_3 UNION ALL SELECT 3 AS sv_idx, -6.07178753179e-05 AS dual_coeff, 76.2053057077 AS sv_0, 463.084461089 AS sv_1, 0.191722173245 AS sv_2, 6.77448496445 AS sv_3 UNION ALL SELECT 4 AS sv_idx, -0.000278154709398 AS dual_coeff, 46.4051688409 AS sv_0, 1511.47702678 AS sv_1, 0.198919116633 AS sv_2, 3.06201983064 AS sv_3 UNION ALL SELECT 5 AS sv_idx, 0.000278154709398 AS dual_coeff, 97.6192765335 AS sv_0, 1541.93922983 AS sv_1, 0.585355869448 AS sv_2, 6.34268231578 AS sv_3 UNION ALL SELECT 6 AS sv_idx, -0.0180374184001 AS dual_coeff, 25.2870636017 AS sv_0, 302.492782947 AS sv_1, 0.610388425033 AS sv_2, 3.69956849519 AS sv_3 UNION ALL SELECT 7 AS sv_idx, 0.00162000369779 AS dual_coeff, 2.0764251779 AS sv_0, 220.702361626 AS sv_1, 0.680439095773 AS sv_2, 4.03813057231 AS sv_3 UNION ALL SELECT 8 AS sv_idx, -0.0113376652923 AS dual_coeff, 90.9587717016 AS sv_0, 321.230038272 AS sv_1, 0.0631956679697 AS sv_2, 8.3009633765 AS sv_3 UNION ALL SELECT 9 AS sv_idx, 0.0244717082361 AS dual_coeff, 33.8784715744 AS sv_0, 306.530712121 AS sv_1, 0.872828148052 AS sv_2, 10.1913634754 AS sv_3 UNION ALL SELECT 10 AS sv_idx, 0.0101039467827 AS dual_coeff, 67.7904684465 AS sv_0, 132.98674688 AS sv_1, 0.811466944363 AS sv_2, 5.54134043953 AS sv_3 UNION ALL SELECT 11 AS sv_idx, 6.07178753179e-05 AS dual_coeff, 0.285039231301 AS sv_0, 513.964208067 AS sv_1, 0.620257568215 AS sv_2, 2.23643731562 AS sv_3 UNION ALL SELECT 12 AS sv_idx, -0.000333859056461 AS dual_coeff, 22.3706304656 AS sv_0, 950.935109241 AS sv_1, 0.000683854513242 AS sv_2, 4.80823865899 AS sv_3 UNION ALL SELECT 13 AS sv_idx, 0.000830472069898 AS dual_coeff, 80.3432907962 AS sv_0, 1740.78151211 AS sv_1, 0.347136675346 AS sv_2, 7.60946569764 AS sv_3 UNION ALL SELECT 14 AS sv_idx, 0.0147232220152 AS dual_coeff, 9.37653906314 AS sv_0, 166.134016299 AS sv_1, 0.814781672371 AS sv_2, 1.39552500319 AS sv_3 UNION ALL SELECT 15 AS sv_idx, -0.000342048680263 AS dual_coeff, 15.5183368976 AS sv_0, 249.584324637 AS sv_1, 0.162417579357 AS sv_2, 1.54970861103 AS sv_3) AS "Values"), 
kernel_cte AS 
(SELECT t."KEY" AS "KEY", t.dot_product AS dot_product 
FROM (SELECT full_join_data_sv."KEY" AS "KEY", sum(full_join_data_sv.dot_prod1) + 2.4731833921 AS dot_product 
FROM (SELECT "ADS"."KEY" AS "KEY", "SV_data".dual_coeff * ("ADS"."Feature_0" * "SV_data".sv_0 + "ADS"."Feature_1" * "SV_data".sv_1 + "ADS"."Feature_2" * "SV_data".sv_2 + "ADS"."Feature_3" * "SV_data".sv_3) AS dot_prod1 
FROM freidman3 AS "ADS", "SV_data") AS full_join_data_sv GROUP BY full_join_data_sv."KEY") AS t)
 SELECT kernel_cte."KEY" AS "KEY", kernel_cte.dot_product AS "Estimator" 
FROM kernel_cte