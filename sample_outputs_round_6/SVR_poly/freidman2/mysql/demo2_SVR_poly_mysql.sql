-- This SQL code was generated by scikit2sql (development version).
-- Copyright 2017

WITH `SV_data` AS 
(SELECT `Values`.sv_idx AS sv_idx, `Values`.dual_coeff AS dual_coeff, `Values`.sv_0 AS sv_0, `Values`.sv_1 AS sv_1, `Values`.sv_2 AS sv_2, `Values`.sv_3 AS sv_3 
FROM (SELECT 0 AS sv_idx, 5.00614996513e-09 AS dual_coeff, 34.9838514132 AS sv_0, 402.073889329 AS sv_1, 0.866208600304 AS sv_2, 4.55044926461 AS sv_3 UNION ALL SELECT 1 AS sv_idx, 1.07178259554e-10 AS dual_coeff, 78.3800753757 AS sv_0, 1589.28315295 AS sv_1, 0.867784828439 AS sv_2, 7.44521424731 AS sv_3 UNION ALL SELECT 2 AS sv_idx, -6.47567948713e-09 AS dual_coeff, 25.2148278964 AS sv_0, 392.200055255 AS sv_1, 0.282104716633 AS sv_2, 10.2948325682 AS sv_3 UNION ALL SELECT 3 AS sv_idx, -3.22457911463e-11 AS dual_coeff, 73.4446459362 AS sv_0, 1257.51193519 AS sv_1, 0.640542525822 AS sv_2, 3.44830991495 AS sv_3 UNION ALL SELECT 4 AS sv_idx, 6.05502965867e-09 AS dual_coeff, 65.7276012348 AS sv_0, 375.386339766 AS sv_1, 0.595710301899 AS sv_2, 9.95315425418 AS sv_3 UNION ALL SELECT 5 AS sv_idx, 2.51964010513e-12 AS dual_coeff, 86.0147117678 AS sv_0, 248.025635917 AS sv_1, 0.344833999974 AS sv_2, 6.18449143489 AS sv_3 UNION ALL SELECT 6 AS sv_idx, -1.81978429925e-12 AS dual_coeff, 12.7832085569 AS sv_0, 1214.26774417 AS sv_1, 0.246040654066 AS sv_2, 2.86289349553 AS sv_3 UNION ALL SELECT 7 AS sv_idx, -2.63242167282e-10 AS dual_coeff, 62.6605591284 AS sv_0, 1191.51829619 AS sv_1, 0.480790976603 AS sv_2, 2.72845010558 AS sv_3 UNION ALL SELECT 8 AS sv_idx, 1.56568018414e-11 AS dual_coeff, 22.0105461058 AS sv_0, 1301.14290934 AS sv_1, 0.811261794543 AS sv_2, 10.2202191474 AS sv_3 UNION ALL SELECT 9 AS sv_idx, -2.57051935841e-11 AS dual_coeff, 37.6532936781 AS sv_0, 1684.0765581 AS sv_1, 0.126670606873 AS sv_2, 4.13215544268 AS sv_3 UNION ALL SELECT 10 AS sv_idx, -7.67087261944e-12 AS dual_coeff, 6.09976934044 AS sv_0, 1133.42772032 AS sv_1, 0.301046330807 AS sv_2, 3.28693777642 AS sv_3 UNION ALL SELECT 11 AS sv_idx, 1.65889893049e-11 AS dual_coeff, 53.2906030374 AS sv_0, 1253.82804138 AS sv_1, 0.911418773167 AS sv_2, 8.36393517283 AS sv_3 UNION ALL SELECT 12 AS sv_idx, 2.89663877167e-07 AS dual_coeff, 71.8044955431 AS sv_0, 160.521512109 AS sv_1, 0.703028750785 AS sv_2, 2.76485282508 AS sv_3 UNION ALL SELECT 13 AS sv_idx, 2.63242167282e-10 AS dual_coeff, 86.8662290786 AS sv_0, 1193.47785006 AS sv_1, 0.772752341309 AS sv_2, 9.53112896255 AS sv_3 UNION ALL SELECT 14 AS sv_idx, 2.59764485685e-09 AS dual_coeff, 77.1048512615 AS sv_0, 432.211708496 AS sv_1, 0.9092424883 AS sv_2, 5.83313643375 AS sv_3 UNION ALL SELECT 15 AS sv_idx, 1.18086520954e-08 AS dual_coeff, 21.557302524 AS sv_0, 212.613374744 AS sv_1, 0.636535151368 AS sv_2, 4.44958374748 AS sv_3 UNION ALL SELECT 16 AS sv_idx, 3.27263425174e-11 AS dual_coeff, 28.1985549681 AS sv_0, 1756.96106915 AS sv_1, 0.528524022215 AS sv_2, 2.32434706308 AS sv_3 UNION ALL SELECT 17 AS sv_idx, -2.09424969506e-12 AS dual_coeff, 2.01738215904 AS sv_0, 1418.00091121 AS sv_1, 0.784418712434 AS sv_2, 6.77877904139 AS sv_3 UNION ALL SELECT 18 AS sv_idx, -3.09286534479e-08 AS dual_coeff, 74.1514527443 AS sv_0, 204.842322923 AS sv_1, 0.273860766651 AS sv_2, 1.42049928637 AS sv_3 UNION ALL SELECT 19 AS sv_idx, -2.59764485685e-09 AS dual_coeff, 58.0500134456 AS sv_0, 438.04310955 AS sv_1, 0.37869580574 AS sv_2, 1.29855644064 AS sv_3 UNION ALL SELECT 20 AS sv_idx, -1.06635191256e-10 AS dual_coeff, 19.0050676632 AS sv_0, 1492.37527308 AS sv_1, 0.222711549901 AS sv_2, 5.52974162042 AS sv_3 UNION ALL SELECT 21 AS sv_idx, -2.70541601395e-07 AS dual_coeff, 69.3933890426 AS sv_0, 162.562695639 AS sv_1, 0.618452025285 AS sv_2, 4.10277295753 AS sv_3 UNION ALL SELECT 22 AS sv_idx, -2.04142086539e-09 AS dual_coeff, 76.1614678542 AS sv_0, 362.603809905 AS sv_1, 0.722170809032 AS sv_2, 1.07000722311 AS sv_3 UNION ALL SELECT 23 AS sv_idx, 2.75689646849e-10 AS dual_coeff, 1.76207252948 AS sv_0, 596.160095417 AS sv_1, 0.925224399858 AS sv_2, 9.56278296329 AS sv_3 UNION ALL SELECT 24 AS sv_idx, -2.75689646849e-10 AS dual_coeff, 12.1680034396 AS sv_0, 582.61665802 AS sv_1, 0.430756442996 AS sv_2, 2.6049068286 AS sv_3 UNION ALL SELECT 25 AS sv_idx, -7.73370073453e-13 AS dual_coeff, 3.76532542768 AS sv_0, 991.06089128 AS sv_1, 0.108550626824 AS sv_2, 10.4391890394 AS sv_3 UNION ALL SELECT 26 AS sv_idx, -2.54407927128e-09 AS dual_coeff, 66.6757686852 AS sv_0, 390.718504269 AS sv_1, 0.501539841294 AS sv_2, 4.39968094532 AS sv_3) AS `Values`), 
kernel_cte AS 
(SELECT t.`KEY` AS `KEY`, t.dot_product AS dot_product 
FROM (SELECT full_join_data_sv.`KEY` AS `KEY`, sum(full_join_data_sv.dot_prod1) + 12879.050635 AS dot_product 
FROM (SELECT `ADS`.`KEY` AS `KEY`, `SV_data`.dual_coeff * power(0.25 * (`ADS`.`Feature_0` * `SV_data`.sv_0 + `ADS`.`Feature_1` * `SV_data`.sv_1 + `ADS`.`Feature_2` * `SV_data`.sv_2 + `ADS`.`Feature_3` * `SV_data`.sv_3) + 0.0, 3) AS dot_prod1 
FROM freidman2 AS `ADS`, `SV_data`) AS full_join_data_sv GROUP BY full_join_data_sv.`KEY`) AS t)
 SELECT kernel_cte.`KEY` AS `KEY`, kernel_cte.dot_product AS `Estimator` 
FROM kernel_cte