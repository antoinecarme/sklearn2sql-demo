-- This SQL code was generated by scikit2sql (development version).
-- Copyright 2017

WITH `SV_data` AS 
(SELECT `Values`.sv_idx AS sv_idx, `Values`.dual_coeff AS dual_coeff, `Values`.sv_0 AS sv_0, `Values`.sv_1 AS sv_1, `Values`.sv_2 AS sv_2, `Values`.sv_3 AS sv_3 
FROM (SELECT 0 AS sv_idx, 6.63866759788e-14 AS dual_coeff, 99.9742659295 AS sv_0, 763.348942632 AS sv_1, 0.791533456912 AS sv_2, 2.64008369157 AS sv_3 UNION ALL SELECT 1 AS sv_idx, 1.24053043752e-15 AS dual_coeff, 69.2464296109 AS sv_0, 1155.01630084 AS sv_1, 0.625182458305 AS sv_2, 9.74856396174 AS sv_3 UNION ALL SELECT 2 AS sv_idx, -5.36333796886e-14 AS dual_coeff, 41.2080677294 AS sv_0, 815.13161422 AS sv_1, 0.0745975570751 AS sv_2, 4.14172549099 AS sv_3 UNION ALL SELECT 3 AS sv_idx, 5.88702568572e-15 AS dual_coeff, 93.4704719212 AS sv_0, 1606.15705701 AS sv_1, 0.791816130952 AS sv_2, 9.04930930029 AS sv_3 UNION ALL SELECT 4 AS sv_idx, -8.61030310681e-12 AS dual_coeff, 20.0490445601 AS sv_0, 322.060137737 AS sv_1, 0.122580826424 AS sv_2, 10.249327849 AS sv_3 UNION ALL SELECT 5 AS sv_idx, 2.50030247361e-16 AS dual_coeff, 91.1068436616 AS sv_0, 1132.36503603 AS sv_1, 0.26364427071 AS sv_2, 9.5642593631 AS sv_3 UNION ALL SELECT 6 AS sv_idx, 2.89814313301e-14 AS dual_coeff, 79.1659995671 AS sv_0, 1677.23468492 AS sv_1, 0.359193741909 AS sv_2, 10.689386956 AS sv_3 UNION ALL SELECT 7 AS sv_idx, 6.47191261648e-12 AS dual_coeff, 1.4662344646 AS sv_0, 330.896674162 AS sv_1, 0.0709175449594 AS sv_2, 4.05051674249 AS sv_3 UNION ALL SELECT 8 AS sv_idx, 4.80989483776e-14 AS dual_coeff, 9.76020793136 AS sv_0, 536.58179439 AS sv_1, 0.771107777634 AS sv_2, 5.7289312477 AS sv_3 UNION ALL SELECT 9 AS sv_idx, 1.45333187844e-12 AS dual_coeff, 92.4489495302 AS sv_0, 506.256947731 AS sv_1, 0.871038103453 AS sv_2, 9.77726606614 AS sv_3 UNION ALL SELECT 10 AS sv_idx, 1.89105873212e-12 AS dual_coeff, 16.679084749 AS sv_0, 206.809372094 AS sv_1, 0.543205749899 AS sv_2, 6.96556838724 AS sv_3 UNION ALL SELECT 11 AS sv_idx, -1.05631276001e-13 AS dual_coeff, 3.87993723114 AS sv_0, 1660.23383453 AS sv_1, 0.689251811463 AS sv_2, 2.14905167611 AS sv_3 UNION ALL SELECT 12 AS sv_idx, -1.49056068488e-15 AS dual_coeff, 73.6775298612 AS sv_0, 1220.8792457 AS sv_1, 0.108960619082 AS sv_2, 4.77434377418 AS sv_3 UNION ALL SELECT 13 AS sv_idx, 1.03015643803e-13 AS dual_coeff, 10.4762705859 AS sv_0, 643.181241498 AS sv_1, 0.924528456282 AS sv_2, 8.65291721144 AS sv_3 UNION ALL SELECT 14 AS sv_idx, 1.2519840107e-12 AS dual_coeff, 12.6848516819 AS sv_0, 258.42813776 AS sv_1, 0.500855398634 AS sv_2, 10.0182214556 AS sv_3 UNION ALL SELECT 15 AS sv_idx, -2.5060830793e-12 AS dual_coeff, 86.2124213577 AS sv_0, 450.430909362 AS sv_1, 0.0835552310475 AS sv_2, 2.22992613788 AS sv_3 UNION ALL SELECT 16 AS sv_idx, -1.58798896569e-14 AS dual_coeff, 91.426914091 AS sv_0, 1673.79693261 AS sv_1, 0.987671221577 AS sv_2, 2.48222554814 AS sv_3 UNION ALL SELECT 17 AS sv_idx, 7.96863526725e-15 AS dual_coeff, 56.9517736171 AS sv_0, 1729.59710877 AS sv_1, 0.184892128646 AS sv_2, 3.79001188977 AS sv_3 UNION ALL SELECT 18 AS sv_idx, 7.0043132321e-15 AS dual_coeff, 3.40044286921 AS sv_0, 1732.91414898 AS sv_1, 0.988181862087 AS sv_2, 10.1874953846 AS sv_3 UNION ALL SELECT 19 AS sv_idx, -1.17013475007e-13 AS dual_coeff, 72.7511090597 AS sv_0, 621.475116907 AS sv_1, 0.0385790721159 AS sv_2, 3.46849026133 AS sv_3 UNION ALL SELECT 20 AS sv_idx, 7.29142950563e-14 AS dual_coeff, 94.1089651805 AS sv_0, 1714.53586798 AS sv_1, 0.0506851896255 AS sv_2, 5.56542103346 AS sv_3) AS `Values`), 
kernel_cte AS 
(SELECT t.`KEY` AS `KEY`, t.dot_product AS dot_product 
FROM (SELECT full_join_data_sv.`KEY` AS `KEY`, sum(full_join_data_sv.dot_prod1) + 1.75466368093 AS dot_product 
FROM (SELECT `ADS`.`KEY` AS `KEY`, `SV_data`.dual_coeff * power(0.25 * (`ADS`.`Feature_0` * `SV_data`.sv_0 + `ADS`.`Feature_1` * `SV_data`.sv_1 + `ADS`.`Feature_2` * `SV_data`.sv_2 + `ADS`.`Feature_3` * `SV_data`.sv_3) + 0.0, 3) AS dot_prod1 
FROM freidman3 AS `ADS`, `SV_data`) AS full_join_data_sv GROUP BY full_join_data_sv.`KEY`) AS t)
 SELECT kernel_cte.`KEY` AS `KEY`, kernel_cte.dot_product AS `Estimator` 
FROM kernel_cte