-- This SQL code was generated by scikit2sql (development version).
-- Copyright 2017

WITH [SV_data] AS 
(SELECT [Values].sv_idx AS sv_idx, [Values].dual_coeff AS dual_coeff, [Values].sv_0 AS sv_0, [Values].sv_1 AS sv_1, [Values].sv_2 AS sv_2, [Values].sv_3 AS sv_3 
FROM (SELECT 0 AS sv_idx, -1.40564136956e-14 AS dual_coeff, 8.56502637821 AS sv_0, 1167.17666686 AS sv_1, 0.215208534919 AS sv_2, 10.5232314385 AS sv_3 UNION ALL SELECT 1 AS sv_idx, -1.59258551292e-12 AS dual_coeff, 76.4945616204 AS sv_0, 219.869255009 AS sv_1, 0.76517525816 AS sv_2, 6.71134077604 AS sv_3 UNION ALL SELECT 2 AS sv_idx, -6.83917131124e-13 AS dual_coeff, 41.5828057698 AS sv_0, 435.195506616 AS sv_1, 0.0999538611812 AS sv_2, 2.48193459706 AS sv_3 UNION ALL SELECT 3 AS sv_idx, 1.32479682942e-13 AS dual_coeff, 0.147199830747 AS sv_0, 264.704928249 AS sv_1, 0.497716289208 AS sv_2, 8.75303414773 AS sv_3 UNION ALL SELECT 4 AS sv_idx, 2.13849126021e-12 AS dual_coeff, 1.50213102531 AS sv_0, 126.649446594 AS sv_1, 0.340402710487 AS sv_2, 9.81303909642 AS sv_3 UNION ALL SELECT 5 AS sv_idx, -8.6675855658e-14 AS dual_coeff, 49.0654660084 AS sv_0, 1317.99656717 AS sv_1, 0.751473866077 AS sv_2, 2.3145116809 AS sv_3 UNION ALL SELECT 6 AS sv_idx, 1.06263970251e-13 AS dual_coeff, 89.7924036083 AS sv_0, 1393.00598758 AS sv_1, 0.848421537264 AS sv_2, 9.3495323077 AS sv_3) AS [Values]), 
kernel_cte AS 
(SELECT t.[KEY] AS [KEY], t.dot_product AS dot_product 
FROM (SELECT full_join_data_sv.[KEY] AS [KEY], sum(full_join_data_sv.dot_prod1) + 2.61172489554 AS dot_product 
FROM (SELECT [ADS].[KEY] AS [KEY], [SV_data].dual_coeff * power(0.25 * ([ADS].[Feature_0] * [SV_data].sv_0 + [ADS].[Feature_1] * [SV_data].sv_1 + [ADS].[Feature_2] * [SV_data].sv_2 + [ADS].[Feature_3] * [SV_data].sv_3) + 0.0, 3) AS dot_prod1 
FROM freidman3 AS [ADS], [SV_data]) AS full_join_data_sv GROUP BY full_join_data_sv.[KEY]) AS t)
 SELECT kernel_cte.[KEY] AS [KEY], kernel_cte.dot_product AS [Estimator] 
FROM kernel_cte