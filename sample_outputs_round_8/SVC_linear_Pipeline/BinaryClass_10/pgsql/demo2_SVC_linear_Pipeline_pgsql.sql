-- This SQL code was generated by scikit2sql (development version).
-- Copyright 2017

WITH "ADS_imp_1_OUT" AS 
(SELECT "ADS"."KEY" AS "KEY", CASE WHEN ("ADS"."Feature_0" IS NULL) THEN 0.00587058434841 ELSE "ADS"."Feature_0" END AS impter_2, CASE WHEN ("ADS"."Feature_1" IS NULL) THEN 0.206310474688 ELSE "ADS"."Feature_1" END AS impter_3, CASE WHEN ("ADS"."Feature_2" IS NULL) THEN 0.0555958221574 ELSE "ADS"."Feature_2" END AS impter_4, CASE WHEN ("ADS"."Feature_3" IS NULL) THEN 0.0384701934716 ELSE "ADS"."Feature_3" END AS impter_5, CASE WHEN ("ADS"."Feature_4" IS NULL) THEN -0.429944388318 ELSE "ADS"."Feature_4" END AS impter_6, CASE WHEN ("ADS"."Feature_5" IS NULL) THEN 0.204565353815 ELSE "ADS"."Feature_5" END AS impter_7, CASE WHEN ("ADS"."Feature_6" IS NULL) THEN 0.40838482592 ELSE "ADS"."Feature_6" END AS impter_8, CASE WHEN ("ADS"."Feature_7" IS NULL) THEN 0.0127764293619 ELSE "ADS"."Feature_7" END AS impter_9, CASE WHEN ("ADS"."Feature_8" IS NULL) THEN 0.21646556202 ELSE "ADS"."Feature_8" END AS impter_10, CASE WHEN ("ADS"."Feature_9" IS NULL) THEN -0.052903813543 ELSE "ADS"."Feature_9" END AS impter_11 
FROM "BinaryClass_10" AS "ADS"), 
"ADS_sca_2_OUT" AS 
(SELECT "ADS_imp_1_OUT"."KEY" AS "KEY", (CAST("ADS_imp_1_OUT".impter_2 AS FLOAT) - 0.00587058434841) / 1.36610141231 AS scaler_2, (CAST("ADS_imp_1_OUT".impter_3 AS FLOAT) - 0.206310474688) / 0.924614068395 AS scaler_3, (CAST("ADS_imp_1_OUT".impter_4 AS FLOAT) - 0.0555958221574) / 1.27201752306 AS scaler_4, (CAST("ADS_imp_1_OUT".impter_5 AS FLOAT) - 0.0384701934716) / 1.11679928013 AS scaler_5, (CAST("ADS_imp_1_OUT".impter_6 AS FLOAT) - -0.429944388318) / 1.02812853106 AS scaler_6, (CAST("ADS_imp_1_OUT".impter_7 AS FLOAT) - 0.204565353815) / 1.42979903307 AS scaler_7, (CAST("ADS_imp_1_OUT".impter_8 AS FLOAT) - 0.40838482592) / 1.06633430275 AS scaler_8, (CAST("ADS_imp_1_OUT".impter_9 AS FLOAT) - 0.0127764293619) / 0.54624498456 AS scaler_9, (CAST("ADS_imp_1_OUT".impter_10 AS FLOAT) - 0.21646556202) / 1.03979793567 AS scaler_10, (CAST("ADS_imp_1_OUT".impter_11 AS FLOAT) - -0.052903813543) / 1.44168001857 AS scaler_11 
FROM "ADS_imp_1_OUT"), 
"SV_data" AS 
(SELECT "Values".sv_idx AS sv_idx, "Values".dual_coeff AS dual_coeff, "Values".sv_0 AS sv_0, "Values".sv_1 AS sv_1, "Values".sv_2 AS sv_2, "Values".sv_3 AS sv_3, "Values".sv_4 AS sv_4, "Values".sv_5 AS sv_5, "Values".sv_6 AS sv_6, "Values".sv_7 AS sv_7, "Values".sv_8 AS sv_8, "Values".sv_9 AS sv_9 
FROM (SELECT 0 AS sv_idx, -0.137777275225 AS dual_coeff, 0.592030681137 AS sv_0, 0.47230166571 AS sv_1, 0.559149493401 AS sv_2, -1.29815919154 AS sv_3, -0.818052756232 AS sv_4, 0.057889053127 AS sv_5, -1.00325654576 AS sv_6, 0.595582318235 AS sv_7, 0.753126474979 AS sv_8, -0.591620761271 AS sv_9 UNION ALL SELECT 1 AS sv_idx, -0.666495741452 AS dual_coeff, -0.650864758369 AS sv_0, 0.318770079536 AS sv_1, 0.151227512036 AS sv_2, 0.743948439958 AS sv_3, 2.35971667626 AS sv_4, 1.5217598564 AS sv_5, 2.06917666151 AS sv_6, -0.442870053674 AS sv_7, -0.270732924227 AS sv_8, 0.290311704904 AS sv_9 UNION ALL SELECT 2 AS sv_idx, -1.0 AS dual_coeff, 0.495868794872 AS sv_0, 0.059712246519 AS sv_1, 0.319794949172 AS sv_2, 0.0615046228257 AS sv_3, 0.640775140953 AS sv_4, 1.37608583602 AS sv_5, -0.555916296962 AS sv_6, 0.676285895015 AS sv_7, 0.111988106272 AS sv_8, -0.797071599157 AS sv_9 UNION ALL SELECT 3 AS sv_idx, -1.0 AS dual_coeff, -0.229183919683 AS sv_0, -0.314193987632 AS sv_1, -0.146399960639 AS sv_2, 0.467308594467 AS sv_3, -0.768019301914 AS sv_4, 0.778467665774 AS sv_5, 0.954699846602 AS sv_6, -0.123516320822 AS sv_7, 0.934051257647 AS sv_8, 0.0471168509588 AS sv_9 UNION ALL SELECT 4 AS sv_idx, 0.534118783609 AS dual_coeff, 0.293814701556 AS sv_0, 1.99043944384 AS sv_1, -3.18146901813 AS sv_2, 0.716164119103 AS sv_3, 0.944134580085 AS sv_4, 1.65387975532 AS sv_5, 1.89982699833 AS sv_6, 0.512789279923 AS sv_7, 0.0986045758053 AS sv_8, -0.662742031924 AS sv_9 UNION ALL SELECT 5 AS sv_idx, 0.444080009247 AS dual_coeff, -0.724776672884 AS sv_0, 1.8726725083 AS sv_1, 1.45074162966 AS sv_2, 0.881202526286 AS sv_3, 1.40806984877 AS sv_4, 0.15621273143 AS sv_5, -1.66188329496 AS sv_6, -0.698773704482 AS sv_7, -0.936502579108 AS sv_8, 0.672696314734 AS sv_9 UNION ALL SELECT 6 AS sv_idx, 1.0 AS dual_coeff, -0.758006515324 AS sv_0, -1.28021208378 AS sv_1, 1.33605640096 AS sv_2, 0.782394807881 AS sv_3, 0.338456727333 AS sv_4, 0.712489725634 AS sv_5, 0.2137419099 AS sv_6, -0.65741856257 AS sv_7, 1.53292941453 AS sv_8, 0.578814392632 AS sv_9 UNION ALL SELECT 7 AS sv_idx, 0.826074223822 AS dual_coeff, 0.242145011436 AS sv_0, -0.827050964496 AS sv_1, -1.32955959575 AS sv_2, -0.487348612835 AS sv_3, 0.201531164174 AS sv_4, 1.88809609347 AS sv_5, 0.0777900371124 AS sv_6, 0.492789433298 AS sv_7, 0.700102781182 AS sv_8, -0.665454725192 AS sv_9) AS "Values"), 
kernel_cte AS 
(SELECT t."KEY" AS "KEY", t.dot_product AS dot_product 
FROM (SELECT full_join_data_sv."KEY" AS "KEY", sum(full_join_data_sv.dot_prod1) + -0.221960916518 AS dot_product 
FROM (SELECT "ADS_sca_2_OUT"."KEY" AS "KEY", "SV_data".dual_coeff * ("ADS_sca_2_OUT".scaler_2 * "SV_data".sv_0 + "ADS_sca_2_OUT".scaler_3 * "SV_data".sv_1 + "ADS_sca_2_OUT".scaler_4 * "SV_data".sv_2 + "ADS_sca_2_OUT".scaler_5 * "SV_data".sv_3 + "ADS_sca_2_OUT".scaler_6 * "SV_data".sv_4 + "ADS_sca_2_OUT".scaler_7 * "SV_data".sv_5 + "ADS_sca_2_OUT".scaler_8 * "SV_data".sv_6 + "ADS_sca_2_OUT".scaler_9 * "SV_data".sv_7 + "ADS_sca_2_OUT".scaler_10 * "SV_data".sv_8 + "ADS_sca_2_OUT".scaler_11 * "SV_data".sv_9) AS dot_prod1 
FROM "ADS_sca_2_OUT", "SV_data") AS full_join_data_sv GROUP BY full_join_data_sv."KEY") AS t)
 SELECT kernel_cte."KEY" AS "KEY", -kernel_cte.dot_product AS "Score_0", kernel_cte.dot_product AS "Score_1", CAST(NULL AS FLOAT) AS "Proba_0", CAST(NULL AS FLOAT) AS "Proba_1", CAST(NULL AS FLOAT) AS "LogProba_0", CAST(NULL AS FLOAT) AS "LogProba_1", CASE WHEN (kernel_cte.dot_product >= 0.0) THEN 1 ELSE 0 END AS "Decision" 
FROM kernel_cte