-- This SQL code was generated by scikit2sql (development version).
-- Copyright 2017

WITH random_number_cte AS 
(SELECT `ADS`.`KEY` AS `KEY`, rand() AS uniform 
FROM digits AS `ADS`), 
multinomial_cte AS 
(SELECT random_number_cte.`KEY` AS `KEY`, CASE WHEN (random_number_cte.uniform <= 0.086859688196) THEN 0 ELSE CASE WHEN (random_number_cte.uniform <= 0.211581291759) THEN 1 ELSE CASE WHEN (random_number_cte.uniform <= 0.356347438753) THEN 2 ELSE CASE WHEN (random_number_cte.uniform <= 0.449888641425) THEN 3 ELSE CASE WHEN (random_number_cte.uniform <= 0.530066815145) THEN 4 ELSE CASE WHEN (random_number_cte.uniform <= 0.608017817372) THEN 5 ELSE CASE WHEN (random_number_cte.uniform <= 0.694877505568) THEN 6 ELSE CASE WHEN (random_number_cte.uniform <= 0.815144766147) THEN 7 ELSE CASE WHEN (random_number_cte.uniform <= 0.915367483296) THEN 8 ELSE CASE WHEN (random_number_cte.uniform <= 1.0) THEN 9 END END END END END END END END END END AS multinomial_expr 
FROM random_number_cte), 
dummy_class_reg_cte AS 
(SELECT multinomial_cte.`KEY` AS `KEY`, 0.086859688196 AS `Proba_0`, CASE WHEN (0.086859688196 IS NULL OR 0.086859688196 > 0.0) THEN ln(0.086859688196) ELSE -1.79769313486231e+308 END AS `LogProba_0`, 0.124721603563 AS `Proba_1`, CASE WHEN (0.124721603563 IS NULL OR 0.124721603563 > 0.0) THEN ln(0.124721603563) ELSE -1.79769313486231e+308 END AS `LogProba_1`, 0.144766146993 AS `Proba_2`, CASE WHEN (0.144766146993 IS NULL OR 0.144766146993 > 0.0) THEN ln(0.144766146993) ELSE -1.79769313486231e+308 END AS `LogProba_2`, 0.0935412026726 AS `Proba_3`, CASE WHEN (0.0935412026726 IS NULL OR 0.0935412026726 > 0.0) THEN ln(0.0935412026726) ELSE -1.79769313486231e+308 END AS `LogProba_3`, 0.0801781737194 AS `Proba_4`, CASE WHEN (0.0801781737194 IS NULL OR 0.0801781737194 > 0.0) THEN ln(0.0801781737194) ELSE -1.79769313486231e+308 END AS `LogProba_4`, 0.0779510022272 AS `Proba_5`, CASE WHEN (0.0779510022272 IS NULL OR 0.0779510022272 > 0.0) THEN ln(0.0779510022272) ELSE -1.79769313486231e+308 END AS `LogProba_5`, 0.086859688196 AS `Proba_6`, CASE WHEN (0.086859688196 IS NULL OR 0.086859688196 > 0.0) THEN ln(0.086859688196) ELSE -1.79769313486231e+308 END AS `LogProba_6`, 0.120267260579 AS `Proba_7`, CASE WHEN (0.120267260579 IS NULL OR 0.120267260579 > 0.0) THEN ln(0.120267260579) ELSE -1.79769313486231e+308 END AS `LogProba_7`, 0.100222717149 AS `Proba_8`, CASE WHEN (0.100222717149 IS NULL OR 0.100222717149 > 0.0) THEN ln(0.100222717149) ELSE -1.79769313486231e+308 END AS `LogProba_8`, 0.0846325167038 AS `Proba_9`, CASE WHEN (0.0846325167038 IS NULL OR 0.0846325167038 > 0.0) THEN ln(0.0846325167038) ELSE -1.79769313486231e+308 END AS `LogProba_9`, multinomial_cte.multinomial_expr AS `Decision` 
FROM multinomial_cte)
 SELECT dummy_class_reg_cte.`KEY` AS `KEY`, NULL AS `Score_0`, NULL AS `Score_1`, NULL AS `Score_2`, NULL AS `Score_3`, NULL AS `Score_4`, NULL AS `Score_5`, NULL AS `Score_6`, NULL AS `Score_7`, NULL AS `Score_8`, NULL AS `Score_9`, dummy_class_reg_cte.`Proba_0` AS `Proba_0`, dummy_class_reg_cte.`Proba_1` AS `Proba_1`, dummy_class_reg_cte.`Proba_2` AS `Proba_2`, dummy_class_reg_cte.`Proba_3` AS `Proba_3`, dummy_class_reg_cte.`Proba_4` AS `Proba_4`, dummy_class_reg_cte.`Proba_5` AS `Proba_5`, dummy_class_reg_cte.`Proba_6` AS `Proba_6`, dummy_class_reg_cte.`Proba_7` AS `Proba_7`, dummy_class_reg_cte.`Proba_8` AS `Proba_8`, dummy_class_reg_cte.`Proba_9` AS `Proba_9`, dummy_class_reg_cte.`LogProba_0` AS `LogProba_0`, dummy_class_reg_cte.`LogProba_1` AS `LogProba_1`, dummy_class_reg_cte.`LogProba_2` AS `LogProba_2`, dummy_class_reg_cte.`LogProba_3` AS `LogProba_3`, dummy_class_reg_cte.`LogProba_4` AS `LogProba_4`, dummy_class_reg_cte.`LogProba_5` AS `LogProba_5`, dummy_class_reg_cte.`LogProba_6` AS `LogProba_6`, dummy_class_reg_cte.`LogProba_7` AS `LogProba_7`, dummy_class_reg_cte.`LogProba_8` AS `LogProba_8`, dummy_class_reg_cte.`LogProba_9` AS `LogProba_9`, dummy_class_reg_cte.`Decision` AS `Decision`, NULL AS `DecisionProba` 
FROM dummy_class_reg_cte