-- This SQL code was generated by sklearn2sql (development version).
-- Copyright 2017

WITH `ADS_imp_1_OUT` AS 
(SELECT `ADS`.`KEY` AS `KEY`, CASE WHEN (`ADS`.`Feature_0` IS NULL) THEN -0.0166601472776 ELSE `ADS`.`Feature_0` END AS `impter_2`, CASE WHEN (`ADS`.`Feature_1` IS NULL) THEN 0.516272913818 ELSE `ADS`.`Feature_1` END AS `impter_3`, CASE WHEN (`ADS`.`Feature_2` IS NULL) THEN 0.045854831728 ELSE `ADS`.`Feature_2` END AS `impter_4`, CASE WHEN (`ADS`.`Feature_3` IS NULL) THEN 0.393876252945 ELSE `ADS`.`Feature_3` END AS `impter_5`, CASE WHEN (`ADS`.`Feature_4` IS NULL) THEN -0.480683431081 ELSE `ADS`.`Feature_4` END AS `impter_6`, CASE WHEN (`ADS`.`Feature_5` IS NULL) THEN -0.0754525765206 ELSE `ADS`.`Feature_5` END AS `impter_7`, CASE WHEN (`ADS`.`Feature_6` IS NULL) THEN -0.116142518808 ELSE `ADS`.`Feature_6` END AS `impter_8`, CASE WHEN (`ADS`.`Feature_7` IS NULL) THEN -0.397193027446 ELSE `ADS`.`Feature_7` END AS `impter_9`, CASE WHEN (`ADS`.`Feature_8` IS NULL) THEN 0.289223217606 ELSE `ADS`.`Feature_8` END AS `impter_10`, CASE WHEN (`ADS`.`Feature_9` IS NULL) THEN 0.0715919221158 ELSE `ADS`.`Feature_9` END AS `impter_11` 
FROM `FourClass_10` AS `ADS`), 
`ADS_sca_2_OUT` AS 
(SELECT `ADS_imp_1_OUT`.`KEY` AS `KEY`, (CAST(`ADS_imp_1_OUT`.`impter_2` AS FLOAT) - -0.0166601472776) / 1.04538177897 AS `scaler_2`, (CAST(`ADS_imp_1_OUT`.`impter_3` AS FLOAT) - 0.516272913818) / 1.31450310589 AS `scaler_3`, (CAST(`ADS_imp_1_OUT`.`impter_4` AS FLOAT) - 0.045854831728) / 1.56219218195 AS `scaler_4`, (CAST(`ADS_imp_1_OUT`.`impter_5` AS FLOAT) - 0.393876252945) / 2.3960998534 AS `scaler_5`, (CAST(`ADS_imp_1_OUT`.`impter_6` AS FLOAT) - -0.480683431081) / 1.20344059845 AS `scaler_6`, (CAST(`ADS_imp_1_OUT`.`impter_7` AS FLOAT) - -0.0754525765206) / 0.838068867257 AS `scaler_7`, (CAST(`ADS_imp_1_OUT`.`impter_8` AS FLOAT) - -0.116142518808) / 1.05306709377 AS `scaler_8`, (CAST(`ADS_imp_1_OUT`.`impter_9` AS FLOAT) - -0.397193027446) / 1.78314721805 AS `scaler_9`, (CAST(`ADS_imp_1_OUT`.`impter_10` AS FLOAT) - 0.289223217606) / 0.92879323246 AS `scaler_10`, (CAST(`ADS_imp_1_OUT`.`impter_11` AS FLOAT) - 0.0715919221158) / 0.976280049427 AS `scaler_11` 
FROM `ADS_imp_1_OUT`), 
`random_number_cte` AS 
(SELECT `ADS_sca_2_OUT`.`KEY` AS `KEY`, rand() AS `uniform` 
FROM `ADS_sca_2_OUT`), 
`multinomial_cte` AS 
(SELECT `random_number_cte`.`KEY` AS `KEY`, CASE WHEN (`random_number_cte`.`uniform` <= 0.24) THEN 0 ELSE CASE WHEN (`random_number_cte`.`uniform` <= 0.44) THEN 1 ELSE CASE WHEN (`random_number_cte`.`uniform` <= 0.68) THEN 2 ELSE CASE WHEN (`random_number_cte`.`uniform` <= 1.0) THEN 3 END END END END AS `multinomial_expr` 
FROM `random_number_cte`), 
`dummy_class_reg_cte` AS 
(SELECT `multinomial_cte`.`KEY` AS `KEY`, 0.24 AS `Proba_0`, CASE WHEN (0.24 IS NULL OR 0.24 > 0.0) THEN log(0.24) ELSE -1.79769313486231e+308 END AS `LogProba_0`, 0.2 AS `Proba_1`, CASE WHEN (0.2 IS NULL OR 0.2 > 0.0) THEN log(0.2) ELSE -1.79769313486231e+308 END AS `LogProba_1`, 0.24 AS `Proba_2`, CASE WHEN (0.24 IS NULL OR 0.24 > 0.0) THEN log(0.24) ELSE -1.79769313486231e+308 END AS `LogProba_2`, 0.32 AS `Proba_3`, CASE WHEN (0.32 IS NULL OR 0.32 > 0.0) THEN log(0.32) ELSE -1.79769313486231e+308 END AS `LogProba_3`, `multinomial_cte`.`multinomial_expr` AS `Decision` 
FROM `multinomial_cte`)
 SELECT `dummy_class_reg_cte`.`KEY` AS `KEY`, CAST(NULL AS FLOAT) AS `Score_0`, CAST(NULL AS FLOAT) AS `Score_1`, CAST(NULL AS FLOAT) AS `Score_2`, CAST(NULL AS FLOAT) AS `Score_3`, `dummy_class_reg_cte`.`Proba_0` AS `Proba_0`, `dummy_class_reg_cte`.`Proba_1` AS `Proba_1`, `dummy_class_reg_cte`.`Proba_2` AS `Proba_2`, `dummy_class_reg_cte`.`Proba_3` AS `Proba_3`, `dummy_class_reg_cte`.`LogProba_0` AS `LogProba_0`, `dummy_class_reg_cte`.`LogProba_1` AS `LogProba_1`, `dummy_class_reg_cte`.`LogProba_2` AS `LogProba_2`, `dummy_class_reg_cte`.`LogProba_3` AS `LogProba_3`, `dummy_class_reg_cte`.`Decision` AS `Decision`, CAST(NULL AS FLOAT) AS `DecisionProba` 
FROM `dummy_class_reg_cte`