-- This SQL code was generated by sklearn2sql (development version).
-- Copyright 2017

WITH "ADS_imp_1_OUT" AS 
(SELECT "ADS"."KEY" AS "KEY", CASE WHEN ("ADS"."Feature_0" IS NULL) THEN 43.7912812221 ELSE "ADS"."Feature_0" END AS imputer_output_2, CASE WHEN ("ADS"."Feature_1" IS NULL) THEN 945.967283308 ELSE "ADS"."Feature_1" END AS imputer_output_3, CASE WHEN ("ADS"."Feature_2" IS NULL) THEN 0.531000909998 ELSE "ADS"."Feature_2" END AS imputer_output_4, CASE WHEN ("ADS"."Feature_3" IS NULL) THEN 6.13996715205 ELSE "ADS"."Feature_3" END AS imputer_output_5 
FROM freidman3 AS "ADS"), 
"ADS_sca_2_OUT" AS 
(SELECT "ADS_imp_1_OUT"."KEY" AS "KEY", (CAST("ADS_imp_1_OUT".imputer_output_2 AS DOUBLE) - 43.7912812221) / 26.0356235762 AS scaler_output_2, (CAST("ADS_imp_1_OUT".imputer_output_3 AS DOUBLE) - 945.967283308) / 461.455276615 AS scaler_output_3, (CAST("ADS_imp_1_OUT".imputer_output_4 AS DOUBLE) - 0.531000909998) / 0.290186328214 AS scaler_output_4, (CAST("ADS_imp_1_OUT".imputer_output_5 AS DOUBLE) - 6.13996715205) / 3.07291724256 AS scaler_output_5 
FROM "ADS_imp_1_OUT"), 
"SV_data" AS 
(SELECT "Values".sv_idx AS sv_idx, "Values".dual_coeff AS dual_coeff, "Values".sv_0 AS sv_0, "Values".sv_1 AS sv_1, "Values".sv_2 AS sv_2, "Values".sv_3 AS sv_3 
FROM (SELECT 0 AS sv_idx, -1.0 AS dual_coeff, -0.128629540717 AS sv_0, -0.855762437264 AS sv_1, -1.69662769281 AS sv_2, -0.508276249019 AS sv_3 FROM SYSIBM.SYSDUMMY1 UNION ALL SELECT 1 AS sv_idx, 0.0229579227376 AS dual_coeff, 0.188322837868 AS sv_0, 1.55657120246 AS sv_1, -0.756591612266 AS sv_2, -0.490525026051 AS sv_3 FROM SYSIBM.SYSDUMMY1 UNION ALL SELECT 2 AS sv_idx, -1.0 AS dual_coeff, -0.212861866159 AS sv_0, -1.75545003257 AS sv_1, 0.402966247472 AS sv_2, -1.28884231269 AS sv_3 FROM SYSIBM.SYSDUMMY1 UNION ALL SELECT 3 AS sv_idx, -1.0 AS dual_coeff, 0.262295051032 AS sv_0, -1.1564362267 AS sv_1, -1.46982670777 AS sv_2, -1.05911964092 AS sv_3 FROM SYSIBM.SYSDUMMY1 UNION ALL SELECT 4 AS sv_idx, 0.231921275939 AS dual_coeff, -1.33548140478 AS sv_0, -0.974263509872 AS sv_1, -0.371647635079 AS sv_2, 0.781105541083 AS sv_3 FROM SYSIBM.SYSDUMMY1 UNION ALL SELECT 5 AS sv_idx, 0.210634217179 AS dual_coeff, 1.48689854262 AS sv_0, -0.932975923252 AS sv_1, 0.00976547361007 AS sv_2, -0.440293998232 AS sv_3 FROM SYSIBM.SYSDUMMY1 UNION ALL SELECT 6 AS sv_idx, -0.210429379937 AS dual_coeff, -1.44027720345 AS sv_0, 0.549777976913 AS sv_1, 0.940805174112 AS sv_2, -0.211304175646 AS sv_3 FROM SYSIBM.SYSDUMMY1 UNION ALL SELECT 7 AS sv_idx, -1.0 AS dual_coeff, 0.734401135309 AS sv_0, -1.06127956907 AS sv_1, -1.64272067073 AS sv_2, 1.28389871222 AS sv_3 FROM SYSIBM.SYSDUMMY1 UNION ALL SELECT 8 AS sv_idx, -1.0 AS dual_coeff, -0.185280428471 AS sv_0, 0.469948210657 AS sv_1, -1.78327789484 AS sv_2, 0.208534293223 AS sv_3 FROM SYSIBM.SYSDUMMY1 UNION ALL SELECT 9 AS sv_idx, -1.0 AS dual_coeff, -1.13065301819 AS sv_0, 1.69381585959 AS sv_1, -1.80984919327 AS sv_2, -0.853115053658 AS sv_3 FROM SYSIBM.SYSDUMMY1 UNION ALL SELECT 10 AS sv_idx, 0.0691915853535 AS dual_coeff, 1.67729612498 AS sv_0, -0.622211215415 AS sv_1, -0.785942585478 AS sv_2, -0.772226260958 AS sv_3 FROM SYSIBM.SYSDUMMY1 UNION ALL SELECT 11 AS sv_idx, 0.830291733732 AS dual_coeff, -1.46858775366 AS sv_0, 0.706265857711 AS sv_1, -0.915855280052 AS sv_2, -1.28346793699 AS sv_3 FROM SYSIBM.SYSDUMMY1 UNION ALL SELECT 12 AS sv_idx, -0.339575061726 AS dual_coeff, -1.67742939216 AS sv_0, -0.836641293061 AS sv_1, 1.60099513863 AS sv_2, 0.728810958541 AS sv_3 FROM SYSIBM.SYSDUMMY1 UNION ALL SELECT 13 AS sv_idx, -0.271969281691 AS dual_coeff, -1.30387013822 AS sv_0, 1.50822777171 AS sv_1, 0.608346026197 AS sv_2, -0.049792963322 AS sv_3 FROM SYSIBM.SYSDUMMY1 UNION ALL SELECT 14 AS sv_idx, 1.0 AS dual_coeff, 0.972890849958 AS sv_0, 0.563817947473 AS sv_1, -0.964763367678 AS sv_2, -0.355118790747 AS sv_3 FROM SYSIBM.SYSDUMMY1 UNION ALL SELECT 15 AS sv_idx, 0.572371089702 AS dual_coeff, 2.02271403018 AS sv_0, 0.0959099414766 AS sv_1, -1.19888375774 AS sv_2, -1.62902873414 AS sv_3 FROM SYSIBM.SYSDUMMY1 UNION ALL SELECT 16 AS sv_idx, 0.0933093524784 AS dual_coeff, 1.00096956836 AS sv_0, 1.50211467936 AS sv_1, -0.349173085342 AS sv_2, 0.430917430729 AS sv_3 FROM SYSIBM.SYSDUMMY1 UNION ALL SELECT 17 AS sv_idx, -0.593918592898 AS dual_coeff, -0.175416482535 AS sv_0, 1.15735797947 AS sv_1, 1.54607764351 AS sv_2, 1.56148404528 AS sv_3 FROM SYSIBM.SYSDUMMY1 UNION ALL SELECT 18 AS sv_idx, 0.0191875352014 AS dual_coeff, 0.616441205982 AS sv_0, 0.513531327146 AS sv_1, 0.190149481066 AS sv_2, -1.15167530841 AS sv_3 FROM SYSIBM.SYSDUMMY1 UNION ALL SELECT 19 AS sv_idx, 1.0 AS dual_coeff, 1.22648417549 AS sv_0, 0.072751996196 AS sv_1, -0.643866925959 AS sv_2, 0.178980189048 AS sv_3 FROM SYSIBM.SYSDUMMY1 UNION ALL SELECT 20 AS sv_idx, 0.144991108792 AS dual_coeff, -1.22412463621 AS sv_0, 1.51279511994 AS sv_1, -1.67649247371 AS sv_2, -1.3541232355 AS sv_3 FROM SYSIBM.SYSDUMMY1 UNION ALL SELECT 21 AS sv_idx, 1.0 AS dual_coeff, -1.35300215648 AS sv_0, 0.479373397091 AS sv_1, -1.08824001814 AS sv_2, 1.42641794115 AS sv_3 FROM SYSIBM.SYSDUMMY1 UNION ALL SELECT 22 AS sv_idx, -0.0648900936812 AS dual_coeff, 1.25609745058 AS sv_0, -1.57349599213 AS sv_1, 0.806979259164 AS sv_2, 0.185938500417 AS sv_3 FROM SYSIBM.SYSDUMMY1 UNION ALL SELECT 23 AS sv_idx, -1.0 AS dual_coeff, -0.0848251414363 AS sv_0, -1.10687167875 AS sv_1, -1.48541473841 AS sv_2, -1.19041037107 AS sv_3 FROM SYSIBM.SYSDUMMY1 UNION ALL SELECT 24 AS sv_idx, 1.0 AS dual_coeff, -1.67632172372 AS sv_0, -1.47633452164 AS sv_1, -0.114700857872 AS sv_2, 0.850353846008 AS sv_3 FROM SYSIBM.SYSDUMMY1 UNION ALL SELECT 25 AS sv_idx, 1.0 AS dual_coeff, -1.62428028939 AS sv_0, -1.77550865324 AS sv_1, -0.656813160988 AS sv_2, 1.19530454433 AS sv_3 FROM SYSIBM.SYSDUMMY1 UNION ALL SELECT 26 AS sv_idx, -0.0154565300669 AS dual_coeff, -1.06699240809 AS sv_0, -0.752446290024 AS sv_1, -1.62886172896 AS sv_2, 1.27758853804 AS sv_3 FROM SYSIBM.SYSDUMMY1 UNION ALL SELECT 27 AS sv_idx, 0.00843592161706 AS dual_coeff, 1.76685310615 AS sv_0, 0.968758462467 AS sv_1, 1.09385107569 AS sv_2, 1.04446846508 AS sv_3 FROM SYSIBM.SYSDUMMY1 UNION ALL SELECT 28 AS sv_idx, 1.0 AS dual_coeff, 0.167184401745 AS sv_0, -0.400704478748 AS sv_1, -0.770256515183 AS sv_2, -1.62350514937 AS sv_3 FROM SYSIBM.SYSDUMMY1 UNION ALL SELECT 29 AS sv_idx, -0.651630604752 AS dual_coeff, -1.61436686287 AS sv_0, -0.26654806039 AS sv_1, 1.36143384772 AS sv_2, 1.17435165334 AS sv_3 FROM SYSIBM.SYSDUMMY1 UNION ALL SELECT 30 AS sv_idx, 0.738583594634 AS dual_coeff, -0.923065553672 AS sv_0, -1.46005758822 AS sv_1, -0.280397076082 AS sv_2, -1.39152376263 AS sv_3 FROM SYSIBM.SYSDUMMY1 UNION ALL SELECT 31 AS sv_idx, 0.205994207386 AS dual_coeff, -0.989584739618 AS sv_0, -0.183502704495 AS sv_1, -1.47781135951 AS sv_2, 0.214294088728 AS sv_3 FROM SYSIBM.SYSDUMMY1) AS "Values"), 
kernel_dp AS 
(SELECT t."KEY" AS "KEY", t.dot_product AS dot_product 
FROM (SELECT full_join_data_sv."KEY" AS "KEY", sum(full_join_data_sv.dot_prod1) + 1.3702961491 AS dot_product 
FROM (SELECT "ADS_sca_2_OUT"."KEY" AS "KEY", "SV_data".dual_coeff * ("ADS_sca_2_OUT".scaler_output_2 * "SV_data".sv_0 + "ADS_sca_2_OUT".scaler_output_3 * "SV_data".sv_1 + "ADS_sca_2_OUT".scaler_output_4 * "SV_data".sv_2 + "ADS_sca_2_OUT".scaler_output_5 * "SV_data".sv_3) AS dot_prod1 
FROM "ADS_sca_2_OUT", "SV_data") AS full_join_data_sv GROUP BY full_join_data_sv."KEY") AS t)
 SELECT kernel_dp."KEY" AS "KEY", kernel_dp.dot_product AS "Estimator" 
FROM kernel_dp